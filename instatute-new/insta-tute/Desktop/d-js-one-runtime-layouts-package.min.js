(function(){var a=Math,h=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",n="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,f="ontouchstart"in window,d=h+"Transform"in document.documentElement.style,c=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),e=/playbook/gi.test(navigator.appVersion),g=p||e,k=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),b=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,l="onorientationchange"in window?"orientationchange":"resize",m=f?"touchstart":"mousedown",w=f?"touchmove":"mousemove",v=f?"touchend":"mouseup",x=f?"touchcancel":"mouseup",t="Moz"==h?"DOMMouseScroll":
"mousewheel",r="translate"+(n?"3d(":"("),u=n?",0)":")",e=function(a,q){var b=this,k=document,e;b.wrapper="object"==typeof a?a:k.getElementById(a);b.wrapper.style.overflow="hidden";b.scroller=b.wrapper.children[0];b.options={hScroll:!0,vScroll:!0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:c,hideScrollbar:p,fadeScrollbar:p&&n,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,
wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(e in q)b.options[e]=q[e];b.options.useTransform=d?b.options.useTransform:!1;b.options.hScrollbar=b.options.hScroll&&b.options.hScrollbar;b.options.vScrollbar=b.options.vScroll&&b.options.vScrollbar;b.options.zoom=
b.options.useTransform&&b.options.zoom;b.options.useTransition=g&&b.options.useTransition;b.scroller.style[h+"TransitionProperty"]=b.options.useTransform?"-"+h.toLowerCase()+"-transform":"top left";b.scroller.style[h+"TransitionDuration"]="0";b.scroller.style[h+"TransformOrigin"]="0 0";b.options.useTransition&&(b.scroller.style[h+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");b.options.useTransform?b.scroller.style[h+"Transform"]=r+"0,0"+u:b.scroller.style.cssText+=";position:relative;top:0;left:0";
b.options.useTransition&&(b.options.fixedScrollbar=!0);b.refresh();b._bind(l,window);b._bind(m);f||(b._bind("mouseout",b.wrapper),b._bind(t));b.options.checkDOMChanges&&(b.checkDOMTime=setInterval(function(){b._checkDOMChanges()},500))};e.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){switch(a.type){case m:if(!f&&0!==a.button)break;this._start(a);break;case w:this._move(a);break;case v:case x:this._end(a);
break;case l:this._resize();break;case t:this._wheel(a);break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(b){var q=document,c;this[b+"Scrollbar"]?(this[b+"ScrollbarWrapper"]||(c=q.createElement("div"),this.options.scrollbarClass?c.className=
this.options.scrollbarClass+b.toUpperCase():c.style.cssText="position:absolute;z-index:100;"+("h"==b?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),c.style.cssText+=";pointer-events:none;-"+h+"-transition-property:opacity;-"+h+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(c),this[b+"ScrollbarWrapper"]=
c,c=q.createElement("div"),this.options.scrollbarClass||(c.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+h+"-background-clip:padding-box;-"+h+"-box-sizing:border-box;"+("h"==b?"height:100%":"width:100%")+";-"+h+"-border-radius:3px;border-radius:3px"),c.style.cssText+=";pointer-events:none;-"+h+"-transition-property:-"+h+"-transform;-"+h+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+h+"-transition-duration:0;-"+h+
"-transform:"+r+"0,0"+u,this.options.useTransition&&(c.style.cssText+=";-"+h+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[b+"ScrollbarWrapper"].appendChild(c),this[b+"ScrollbarIndicator"]=c),"h"==b?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=a.max(a.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,
this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=a.max(a.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(b,!0)):this[b+"ScrollbarWrapper"]&&(d&&(this[b+"ScrollbarIndicator"].style[h+
"Transform"]=""),this[b+"ScrollbarWrapper"].parentNode.removeChild(this[b+"ScrollbarWrapper"]),this[b+"ScrollbarWrapper"]=null,this[b+"ScrollbarIndicator"]=null)},_resize:function(){var a=this;setTimeout(function(){a.refresh()},c?200:0)},_pos:function(b,q){b=this.hScroll?b:0;q=this.vScroll?q:0;this.options.useTransform?this.scroller.style[h+"Transform"]=r+b+"px,"+q+"px"+u+" scale("+this.scale+")":(b=a.round(b),q=a.round(q),this.scroller.style.left=b+"px",this.scroller.style.top=q+"px");this.x=b;this.y=
q;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(b,q){var c="h"==b?this.x:this.y;this[b+"Scrollbar"]&&(c*=this[b+"ScrollbarProp"],0>c?(this.options.fixedScrollbar||(c=this[b+"ScrollbarIndicatorSize"]+a.round(3*c),8>c&&(c=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=c+"px"),c=0):c>this[b+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?c=this[b+"ScrollbarMaxScroll"]:(c=this[b+"ScrollbarIndicatorSize"]-a.round(3*(c-this[b+"ScrollbarMaxScroll"])),8>c&&(c=
8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=c+"px",c=this[b+"ScrollbarMaxScroll"]+(this[b+"ScrollbarIndicatorSize"]-c))),this[b+"ScrollbarWrapper"].style[h+"TransitionDelay"]="0",this[b+"ScrollbarWrapper"].style.opacity=q&&this.options.hideScrollbar?"0":"1",this[b+"ScrollbarIndicator"].style[h+"Transform"]=r+("h"==b?c+"px,0":"0,"+c+"px")+u)},_start:function(c){var q=f?c.touches[0]:c,d,k;this.enabled&&(this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,
c),(this.options.useTransition||this.options.zoom)&&this._transitionTime(0),this.zoomed=this.animating=this.moved=!1,this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0,this.options.zoom&&f&&1<c.touches.length&&(k=a.abs(c.touches[0].pageX-c.touches[1].pageX),d=a.abs(c.touches[0].pageY-c.touches[1].pageY),this.touchesDistStart=a.sqrt(k*k+d*d),this.originX=a.abs(c.touches[0].pageX+c.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=a.abs(c.touches[0].pageY+c.touches[1].pageY-
2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,c)),this.options.momentum&&(this.options.useTransform?(d=getComputedStyle(this.scroller,null)[h+"Transform"].replace(/[^0-9-.,]/g,"").split(","),k=1*d[4],d=1*d[5]):(k=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),d=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),k!=this.x||d!=this.y)&&(this.options.useTransition?this._unbind("webkitTransitionEnd"):b(this.aniTime),
this.steps=[],this._pos(k,d)),this.absStartX=this.x,this.absStartY=this.y,this.startX=this.x,this.startY=this.y,this.pointX=q.pageX,this.pointY=q.pageY,this.startTime=c.timeStamp||Date.now(),this.options.onScrollStart&&this.options.onScrollStart.call(this,c),this._bind(w),this._bind(v),this._bind(x))},_move:function(b){var c=f?b.touches[0]:b,d=c.pageX-this.pointX,k=c.pageY-this.pointY,e=this.x+d,l=this.y+k,g=b.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,
b);if(this.options.zoom&&f&&1<b.touches.length)e=a.abs(b.touches[0].pageX-b.touches[1].pageX),l=a.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDist=a.sqrt(e*e+l*l),this.zoomed=!0,c=1/this.touchesDistStart*this.touchesDist*this.scale,c<this.options.zoomMin?c=.5*this.options.zoomMin*Math.pow(2,c/this.options.zoomMin):c>this.options.zoomMax&&(c=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/c)),this.lastScale=c/this.scale,e=this.originX-this.originX*this.lastScale+this.x,l=this.originY-
this.originY*this.lastScale+this.y,this.scroller.style[h+"Transform"]=r+e+"px,"+l+"px"+u+" scale("+c+")",this.options.onZoom&&this.options.onZoom.call(this,b);else{this.pointX=c.pageX;this.pointY=c.pageY;if(0<e||e<this.maxScrollX)e=this.options.bounce?this.x+d/2:0<=e||0<=this.maxScrollX?0:this.maxScrollX;if(l>this.minScrollY||l<this.maxScrollY)l=this.options.bounce?this.y+k/2:l>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;6>this.absDistX&&6>this.absDistY?(this.distX+=d,this.distY+=
k,this.absDistX=a.abs(this.distX),this.absDistY=a.abs(this.distY)):(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(l=this.y,k=0):this.absDistY>this.absDistX+5&&(e=this.x,d=0)),this.moved=!0,this._pos(e,l),this.dirX=0<d?-1:0>d?1:0,this.dirY=0<k?-1:0>k?1:0,300<g-this.startTime&&(this.startTime=g,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,b),$.DM.onIscrollScrolls(b))}},_end:function(c){if(!f||0==c.touches.length){var b=this,d=f?
c.changedTouches[0]:c,k,e,l={dist:0,time:0},g={dist:0,time:0},p=(c.timeStamp||Date.now())-b.startTime,m=b.x,n=b.y;b._unbind(w);b._unbind(v);b._unbind(x);b.options.onBeforeScrollEnd&&b.options.onBeforeScrollEnd.call(b,c);if(b.zoomed)m=b.scale*b.lastScale,m=Math.max(b.options.zoomMin,m),m=Math.min(b.options.zoomMax,m),b.lastScale=m/b.scale,b.scale=m,b.x=b.originX-b.originX*b.lastScale+b.x,b.y=b.originY-b.originY*b.lastScale+b.y,b.scroller.style[h+"TransitionDuration"]="200ms",b.scroller.style[h+"Transform"]=
r+b.x+"px,"+b.y+"px"+u+" scale("+b.scale+")",b.zoomed=!1,b.refresh(),b.options.onZoomEnd&&b.options.onZoomEnd.call(b,c);else{if(b.moved){if(300>p&&b.options.momentum){l=m?b._momentum(m-b.startX,p,-b.x,b.scrollerW-b.wrapperW+b.x,b.options.bounce?b.wrapperW:0):l;g=n?b._momentum(n-b.startY,p,-b.y,0>b.maxScrollY?b.scrollerH-b.wrapperH+b.y-b.minScrollY:0,b.options.bounce?b.wrapperH:0):g;m=b.x+l.dist;n=b.y+g.dist;if(0<b.x&&0<m||b.x<b.maxScrollX&&m<b.maxScrollX)l={dist:0,time:0};if(b.y>b.minScrollY&&n>b.minScrollY||
b.y<b.maxScrollY&&n<b.maxScrollY)g={dist:0,time:0}}l.dist||g.dist?(l=a.max(a.max(l.time,g.time),10),b.options.snap&&(g=m-b.absStartX,p=n-b.absStartY,a.abs(g)<b.options.snapThreshold&&a.abs(p)<b.options.snapThreshold?b.scrollTo(b.absStartX,b.absStartY,200):(g=b._snap(m,n),m=g.x,n=g.y,l=a.max(g.time,l))),b.scrollTo(a.round(m),a.round(n),l)):b.options.snap?(g=m-b.absStartX,p=n-b.absStartY,a.abs(g)<b.options.snapThreshold&&a.abs(p)<b.options.snapThreshold?b.scrollTo(b.absStartX,b.absStartY,200):(g=b._snap(b.x,
b.y),g.x==b.x&&g.y==b.y||b.scrollTo(g.x,g.y,g.time))):b._resetPos(200)}else f&&(b.doubleTapTimer&&b.options.zoom?(clearTimeout(b.doubleTapTimer),b.doubleTapTimer=null,b.options.onZoomStart&&b.options.onZoomStart.call(b,c),b.zoom(b.pointX,b.pointY,1==b.scale?b.options.doubleTapZoom:1),b.options.onZoomEnd&&setTimeout(function(){b.options.onZoomEnd.call(b,c)},200)):b.doubleTapTimer=setTimeout(function(){b.doubleTapTimer=null;for(k=d.target;1!=k.nodeType;)k=k.parentNode;"SELECT"!=k.tagName&&"INPUT"!=
k.tagName&&"TEXTAREA"!=k.tagName&&(e=document.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,c.view,1,d.screenX,d.screenY,d.clientX,d.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,null),e._fake=!0,k.dispatchEvent(e))},b.options.zoom?250:0)),b._resetPos(200);b.options.onTouchEnd&&b.options.onTouchEnd.call(b,c)}}},_resetPos:function(a){var b=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,c=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:
this.y;b==this.x&&c==this.y?(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==h&&(this.hScrollbarWrapper.style[h+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar&&("webkit"==h&&(this.vScrollbarWrapper.style[h+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity="0")):this.scrollTo(b,c,a||0)},_wheel:function(a){if($.DM.isUseLayout()&&
"none"==this.options.wheelAction||0<this.maxScrollY||parseInt(a.currentTarget.style.height)<this.wrapperH)return!1;var b=this,c,d;"wheelDeltaX"in a?(c=a.wheelDeltaX/12,d=a.wheelDeltaY/2):"wheelDelta"in a?c=d=a.wheelDelta:"detail"in a&&(2===a.axis?(d=10*-a.detail,c=0):(c=3*-a.detail,d=0));"zoom"==b.options.wheelAction?(d=b.scale*Math.pow(2,1/3*(d?d/Math.abs(d):0)),d<b.options.zoomMin&&(d=b.options.zoomMin),d>b.options.zoomMax&&(d=b.options.zoomMax),d!=b.scale&&(!b.wheelZoomCount&&b.options.onZoomStart&&
b.options.onZoomStart.call(b,a),b.wheelZoomCount++,b.zoom(a.pageX,a.pageY,d,400),setTimeout(function(){b.wheelZoomCount--;!b.wheelZoomCount&&b.options.onZoomEnd&&b.options.onZoomEnd.call(b,a)},400))):(window.editorParent.$&&window.editorParent.$.deselectAllEditableElements&&null!=window.editorParent.NEFW&&null!=window.editorParent.$.dmfw.setPreviewEditPolicy&&0==window.editorParent.$.dmfw.getPreviewElement(".dmLocked").length&&window.editorParent.$.deselectAllEditableElements(),$.DM.onIscrollScrolls(a),
c=b.x+c,d=b.y+d,0<c?c=0:c<b.maxScrollX&&(c=b.maxScrollX),d>b.minScrollY?d=b.minScrollY:d<b.maxScrollY&&(d=b.maxScrollY),b.scrollTo(c,d,0),a.stopPropagation(),a.preventDefault())},_mouseout:function(a){var b=a.relatedTarget;if(b)for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var b=this,c=b.x,d=b.y,e=Date.now(),l,g;b.animating||(b.steps.length?(l=b.steps.shift(),
l.x==c&&l.y==d&&(l.time=0),b.animating=!0,b.moved=!0,b.options.useTransition?(b._transitionTime(l.time),b._pos(l.x,l.y),b.animating=!1,l.time?b._bind("webkitTransitionEnd"):b._resetPos(0)):function y(){var m=Date.now(),f;m>=e+l.time?(b._pos(l.x,l.y),b.animating=!1,b.options.onAnimationEnd&&b.options.onAnimationEnd.call(b),b._startAni()):(m=(m-e)/l.time-1,g=a.sqrt(1-m*m),m=(l.x-c)*g+c,f=(l.y-d)*g+d,b._pos(m,f),b.animating&&(b.aniTime=k(y)))}()):b._resetPos(400))},_transitionTime:function(b){b+="ms";
this.scroller.style[h+"TransitionDuration"]=b;this.hScrollbar&&(this.hScrollbarIndicator.style[h+"TransitionDuration"]=b);this.vScrollbar&&(this.vScrollbarIndicator.style[h+"TransitionDuration"]=b)},_momentum:function(b,c,d,k,l){c=a.abs(b)/c;var e=c*c/.0012;0<b&&e>d?(d+=l/(6/(e/c*6E-4)),c=c*d/e,e=d):0>b&&e>k&&(k+=l/(6/(e/c*6E-4)),c=c*k/e,e=k);return{dist:e*(0>b?-1:1),time:a.round(c/6E-4)}},_offset:function(b){for(var a=-b.offsetLeft,c=-b.offsetTop;b=b.offsetParent;)a-=b.offsetLeft,c-=b.offsetTop;
b!=this.wrapper&&(a*=this.scale,c*=this.scale);return{left:a,top:c}},_snap:function(b,c){var d,k,e;e=this.pagesX.length-1;d=0;for(k=this.pagesX.length;d<k;d++)if(b>=this.pagesX[d]){e=d;break}e==this.currPageX&&0<e&&0>this.dirX&&e--;b=this.pagesX[e];k=(k=a.abs(b-this.pagesX[this.currPageX]))?a.abs(this.x-b)/k*500:0;this.currPageX=e;e=this.pagesY.length-1;for(d=0;d<e;d++)if(c>=this.pagesY[d]){e=d;break}e==this.currPageY&&0<e&&0>this.dirY&&e--;c=this.pagesY[e];d=(d=a.abs(c-this.pagesY[this.currPageY]))?
a.abs(this.y-c)/d*500:0;this.currPageY=e;e=a.round(a.max(k,d))||200;return{x:b,y:c,time:e}},_bind:function(b,a,c){(a||this.scroller).addEventListener(b,this,!!c)},_unbind:function(b,a,c){(a||this.scroller).removeEventListener(b,this,!!c)},destroy:function(){this.scroller.style[h+"Transform"]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(l,window);this._unbind(m);this._unbind(w);this._unbind(v);this._unbind(x);this.options.hasTouch&&(this._unbind("mouseout",
this.wrapper),this._unbind(t));this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var b,c,d,e=0;c=0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=a.round(this.scroller.offsetWidth*this.scale);
this.scrollerH=a.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&
this.options.vScrollbar&&this.scrollerH>this.wrapperH;b=this._offset(this.wrapper);this.wrapperOffsetLeft=-b.left;this.wrapperOffsetTop=-b.top;if("string"==typeof this.options.snap)for(this.pagesX=[],this.pagesY=[],d=this.scroller.querySelectorAll(this.options.snap),b=0,c=d.length;b<c;b++)e=this._offset(d[b]),e.left+=this.wrapperOffsetLeft,e.top+=this.wrapperOffsetTop,this.pagesX[b]=e.left<this.maxScrollX?this.maxScrollX:e.left*this.scale,this.pagesY[b]=e.top<this.maxScrollY?this.maxScrollY:e.top*
this.scale;else if(this.options.snap){for(this.pagesX=[];e>=this.maxScrollX;)this.pagesX[c]=e,e-=this.wrapperW,c++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);c=e=0;for(this.pagesY=[];e>=this.maxScrollY;)this.pagesY[c]=e,e-=this.wrapperH,c++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");
this._scrollbar("v");this.zoomed||(this.scroller.style[h+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(b,a,c,d){var e=b;this.stop();e.length||(e=[{x:b,y:a,time:c,relative:d}]);b=0;for(a=e.length;b<a;b++)e[b].relative&&(e[b].x=this.x-e[b].x,e[b].y=this.y-e[b].y),this.steps.push({x:e[b].x,y:e[b].y,time:e[b].time||0});this._startAni()},getScrollY:function(){return this.y},getScrollX:function(){return this.x},scrollToElement:function(b,c){var d;if(b=b.nodeType?b:this.scroller.querySelector(b))d=
this._offset(b),d.left+=this.wrapperOffsetLeft,d.top+=this.wrapperOffsetTop,d.left=0<d.left?0:d.left<this.maxScrollX?this.maxScrollX:d.left,d.top=d.top>this.minScrollY?this.minScrollY:d.top<this.maxScrollY?this.maxScrollY:d.top,c=void 0===c?a.max(2*a.abs(d.left),2*a.abs(d.top)):c,this.scrollTo(d.left,d.top+36,c)},scrollToPage:function(b,a,c){this.options.onScrollStart&&this.options.onScrollStart.call(this);this.options.snap?(b="next"==b?this.currPageX+1:"prev"==b?this.currPageX-1:b,a="next"==a?this.currPageY+
1:"prev"==a?this.currPageY-1:a,b=0>b?0:b>this.pagesX.length-1?this.pagesX.length-1:b,a=0>a?0:a>this.pagesY.length-1?this.pagesY.length-1:a,this.currPageX=b,this.currPageY=a,b=this.pagesX[b],a=this.pagesY[a]):(b*=-this.wrapperW,a*=-this.wrapperH,b<this.maxScrollX&&(b=this.maxScrollX),a<this.maxScrollY&&(a=this.maxScrollY));this.scrollTo(b,a,c||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(w);this._unbind(v);this._unbind(x)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?
this._unbind("webkitTransitionEnd"):b(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(b,a,c,d){var e=c/this.scale;this.options.useTransform&&(this.zoomed=!0,d=void 0===d?200:d,b=b-this.wrapperOffsetLeft-this.x,a=a-this.wrapperOffsetTop-this.y,this.x=b-b*e+this.x,this.y=a-a*e+this.y,this.scale=c,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[h+
"TransitionDuration"]=d+"ms",this.scroller.style[h+"Transform"]=r+this.x+"px,"+this.y+"px"+u+" scale("+c+")",this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};"undefined"!==typeof exports?exports.iScroll=e:window.iScroll=e})();(function(a,h){var n=n||function(f){var d={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},c={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},p={},e={hasTouch:null===h.ontouchstart,eventType:function(a){return{down:e.hasTouch?
"touchstart":"mousedown",move:e.hasTouch?"touchmove":"mousemove",up:e.hasTouch?"touchend":"mouseup",out:e.hasTouch?"touchcancel":"mouseout"}[a]},page:function(a,b){return e.hasTouch&&b.touches.length&&b.touches[0]?b.touches[0]["page"+a]:b["page"+a]},klass:{has:function(a,b){return-1!==a.className.indexOf(b)},add:function(a,b){!e.klass.has(a,b)&&d.addBodyClasses&&(a.className+=" "+b)},remove:function(a,b){d.addBodyClasses&&(a.className=a.className.replace(b,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(a){if("function"===
typeof p[a])return p[a].call()},vendor:function(){var a=h.createElement("div"),b=["webkit","Moz","O","ms"],c;for(c in b)if("undefined"!==typeof a.style[b[c]+"Transition"])return b[c]},transitionCallback:function(){return"Moz"===c.vendor||"ms"===c.vendor?"transitionend":c.vendor+"TransitionEnd"},canTransform:function(){return"undefined"!==typeof d.element.style[c.vendor+"Transform"]},deepExtend:function(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},e.deepExtend(a[c],
b[c])):a[c]=b[c];return a},angleOfDrag:function(a,b){var d;d=Math.atan2(-(c.startDragY-b),c.startDragX-a);0>d&&(d+=2*Math.PI);d=Math.floor(180/Math.PI*d-180);0>d&&-180<d&&(d=360-Math.abs(d));return Math.abs(d)},events:{addEvent:function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1);if(a.attachEvent)return a.attachEvent("on"+b,c)},removeEvent:function(a,b,c){if(a.addEventListener)return a.removeEventListener(b,c,!1);if(a.attachEvent)return a.detachEvent("on"+b,c)},prevent:function(a){a.preventDefault?
a.preventDefault():a.returnValue=!1}},parentUntil:function(a,b){for(var c="string"===typeof b;a.parentNode;){if(c&&a.getAttribute&&a.getAttribute(b)||!c&&a===b)return a;a=a.parentNode}return null}},g={translate:{get:{matrix:function(k){if(e.canTransform()){var b=a.getComputedStyle(d.element)[c.vendor+"Transform"].match(/\((.*)\)/);return b?(b=b[1].split(","),16===b.length&&(k+=8),parseInt(b[k],10)):0}return parseInt(d.element.style.left,10)}},easeCallback:function(){d.element.style[c.vendor+"Transition"]=
"";c.translation=g.translate.get.matrix(4);c.easing=!1;clearInterval(c.animatingInterval);0===c.easingTo&&(e.klass.remove(h.body,"snapjs-right"),e.klass.remove(h.body,"snapjs-left"));e.dispatchEvent("animated");e.events.removeEvent(d.element,e.transitionCallback(),g.translate.easeCallback)},easeTo:function(a){e.canTransform()?(c.easing=!0,c.easingTo=a,d.element.style[c.vendor+"Transition"]="all "+d.transitionSpeed+"s "+d.easing,c.animatingInterval=setInterval(function(){e.dispatchEvent("animating")},
1),e.events.addEvent(d.element,e.transitionCallback(),g.translate.easeCallback)):c.translation=a;g.translate.x(a);0===a&&(d.element.style[c.vendor+"Transform"]="")},x:function(k){if(!("left"===d.disable&&0<k||"right"===d.disable&&0>k)){if(!d.hyperextensible)if(k===d.maxPosition||k>d.maxPosition)k=d.maxPosition;else if(k===d.minPosition||k<d.minPosition)k=d.minPosition;k=parseInt(k,10);isNaN(k)&&(k=0);e.canTransform()?d.element.style[c.vendor+"Transform"]="translate3d("+k+"px, 0,0)":(d.element.style.width=
(a.innerWidth||h.documentElement.clientWidth)+"px",d.element.style.left=k+"px",d.element.style.right="")}}},drag:{listen:function(){c.translation=0;c.easing=!1;e.events.addEvent(d.element,e.eventType("down"),g.drag.startDrag);e.events.addEvent(d.element,e.eventType("move"),g.drag.dragging);e.events.addEvent(d.element,e.eventType("up"),g.drag.endDrag)},stopListening:function(){e.events.removeEvent(d.element,e.eventType("down"),g.drag.startDrag);e.events.removeEvent(d.element,e.eventType("move"),g.drag.dragging);
e.events.removeEvent(d.element,e.eventType("up"),g.drag.endDrag)},startDrag:function(a){var b=a.target?a.target:a.srcElement;if(e.parentUntil(b,"data-snap-ignore"))e.dispatchEvent("ignore");else if(!d.dragger||e.parentUntil(b,d.dragger)||c.translation===d.minPosition||c.translation===d.maxPosition)e.dispatchEvent("start"),d.element.style[c.vendor+"Transition"]="",c.isDragging=!0,c.hasIntent=null,c.intentChecked=!1,c.startDragX=e.page("X",a),c.startDragY=e.page("Y",a),c.dragWatchers={current:0,last:0,
hold:0,state:""},c.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(a){if(c.isDragging&&d.touchToDrag){var b=e.page("X",a),l=e.page("Y",a),m=c.translation,f=g.translate.get.matrix(4),p=b-c.startDragX,n=0<f,t=p;if(!c.intentChecked||c.hasIntent){d.addBodyClasses&&(0<f?(e.klass.add(h.body,"snapjs-left"),e.klass.remove(h.body,"snapjs-right")):0>f&&(e.klass.add(h.body,"snapjs-right"),
e.klass.remove(h.body,"snapjs-left")));if(!1===c.hasIntent||null===c.hasIntent){var l=e.angleOfDrag(b,l),r=0<=l&&l<=d.slideIntent||360>=l&&l>360-d.slideIntent;c.hasIntent=180<=l&&l<=180+d.slideIntent||180>=l&&l>=180-d.slideIntent||r?!0:!1;c.intentChecked=!0}d.minDragDistance>=Math.abs(b-c.startDragX)||!1===c.hasIntent||(e.events.prevent(a),e.dispatchEvent("drag"),c.dragWatchers.current=b,c.dragWatchers.last>b?("left"!==c.dragWatchers.state&&(c.dragWatchers.state="left",c.dragWatchers.hold=b),c.dragWatchers.last=
b):c.dragWatchers.last<b&&("right"!==c.dragWatchers.state&&(c.dragWatchers.state="right",c.dragWatchers.hold=b),c.dragWatchers.last=b),n?(d.maxPosition<f&&(a=(f-d.maxPosition)*d.resistance,t=p-a),c.simpleStates={opening:"left",towards:c.dragWatchers.state,hyperExtending:d.maxPosition<f,halfway:f>d.maxPosition/2,flick:Math.abs(c.dragWatchers.current-c.dragWatchers.hold)>d.flickThreshold,translation:{absolute:f,relative:p,sinceDirectionChange:c.dragWatchers.current-c.dragWatchers.hold,percentage:f/
d.maxPosition*100}}):(d.minPosition>f&&(a=(f-d.minPosition)*d.resistance,t=p-a),c.simpleStates={opening:"right",towards:c.dragWatchers.state,hyperExtending:d.minPosition>f,halfway:f<d.minPosition/2,flick:Math.abs(c.dragWatchers.current-c.dragWatchers.hold)>d.flickThreshold,translation:{absolute:f,relative:p,sinceDirectionChange:c.dragWatchers.current-c.dragWatchers.hold,percentage:f/d.minPosition*100}}),g.translate.x(t+m))}}},endDrag:function(a){if(c.isDragging){e.dispatchEvent("end");var b=g.translate.get.matrix(4);
0===c.dragWatchers.current&&0!==b&&d.tapToClose?(e.dispatchEvent("close"),e.events.prevent(a),g.translate.easeTo(0),c.isDragging=!1,c.startDragX=0):("left"===c.simpleStates.opening?c.simpleStates.halfway||c.simpleStates.hyperExtending||c.simpleStates.flick?c.simpleStates.flick&&"left"===c.simpleStates.towards?g.translate.easeTo(0):(c.simpleStates.flick&&"right"===c.simpleStates.towards||c.simpleStates.halfway||c.simpleStates.hyperExtending)&&g.translate.easeTo(d.maxPosition):g.translate.easeTo(0):
"right"===c.simpleStates.opening&&(c.simpleStates.halfway||c.simpleStates.hyperExtending||c.simpleStates.flick?c.simpleStates.flick&&"right"===c.simpleStates.towards?g.translate.easeTo(0):(c.simpleStates.flick&&"left"===c.simpleStates.towards||c.simpleStates.halfway||c.simpleStates.hyperExtending)&&g.translate.easeTo(d.minPosition):g.translate.easeTo(0)),c.isDragging=!1,c.startDragX=e.page("X",a))}}}};this.open=function(a){e.dispatchEvent("open");e.klass.remove(h.body,"snapjs-expand-left");e.klass.remove(h.body,
"snapjs-expand-right");"left"===a?(c.simpleStates.opening="left",c.simpleStates.towards="right",e.klass.add(h.body,"snapjs-left"),e.klass.remove(h.body,"snapjs-right"),g.translate.easeTo(d.maxPosition)):"right"===a&&(c.simpleStates.opening="right",c.simpleStates.towards="left",e.klass.remove(h.body,"snapjs-left"),e.klass.add(h.body,"snapjs-right"),g.translate.easeTo(d.minPosition))};this.close=function(){e.dispatchEvent("close");g.translate.easeTo(0)};this.expand=function(c){var b=a.innerWidth||h.documentElement.clientWidth;
"left"===c?(e.dispatchEvent("expandLeft"),e.klass.add(h.body,"snapjs-expand-left"),e.klass.remove(h.body,"snapjs-expand-right")):(e.dispatchEvent("expandRight"),e.klass.add(h.body,"snapjs-expand-right"),e.klass.remove(h.body,"snapjs-expand-left"),b*=-1);g.translate.easeTo(b)};this.on=function(a,b){p[a]=b;return this};this.off=function(a){p[a]&&(p[a]=!1)};this.enable=function(){e.dispatchEvent("enable");g.drag.listen()};this.disable=function(){e.dispatchEvent("disable");g.drag.stopListening()};this.settings=
function(a){e.deepExtend(d,a)};this.state=function(){var a=g.translate.get.matrix(4);return{state:a===d.maxPosition?"left":a===d.minPosition?"right":"closed",info:c.simpleStates}};f.element&&(e.deepExtend(d,f),c.vendor=e.vendor(),g.drag.listen())};"undefined"!==typeof module&&module.exports&&(module.exports=n);"undefined"===typeof ender&&(this.Snap=n);"function"===typeof define&&define.amd&&define("snap",[],function(){return n})}).call(this,window,document);(function(a){function h(d){return(d=a(d).attr("href"))?0===d.indexOf("http://"):!1}function n(a){return 0==a?function(a){return!a.hasClass("dmSub")}:function(c){return c.hasClass("dmSub"+(2==a?"2":""))}}var f={_is_touch_device:a.DM.testTouch(),_layoutDomReady:!1,_isEditorMode:!1,_isEDMode:!1,_variationClassPrefix:"-var",_widgetClassPrefix:"widgetStyle-",_NEW_PAGES_PREFIX:"dmwlp://",_NEW_PAGE_LOC:"http://bfs._dudamobile.com",_layoutParams:{_navigationAnimationStyle:"slide"}};a.extend(f._layoutParams,
Parameters.LayoutParams);a.extend({layoutManager:f});a(document).ready(function(d){a.layoutManager._isEditorMode=a.DM.getQueryParam(window.location.href,"nee")?!0:!1;a.layoutManager._isEDMode=a.DM.getQueryParam(window.location.href,"ed")?!0:!1;a.layoutManager._isEditorMode&&"DESKTOP"===a.layoutDevice.type.toUpperCase()&&a.layoutDevice.addParallaxBehavior();0<a("#dm").find("[data-background-parallax-selector]").length&&!a.browser.msie&&"DESKTOP"==a.layoutDevice.type.toUpperCase()||a.layoutManager._isEditorMode&&
"undefined"!=typeof window.parent.window.DF&&window.parent.window.DF.parallaxPromise.resolve();a.extend(a.layoutDevice.components,a.commonComponents);for(var c in a.layoutDevice.components)d=a.layoutDevice.components[c].selector,d||(d="#",a.layoutDevice.components[c].getByClass&&(d="."),d+=c),0==a(d).length?a.layoutDevice.components[c]=null:a.layoutDevice.components[c].element=a(d);-1==navigator.userAgent.indexOf("Mac OS X")&&a("body").addClass("pcCustomScrollbar");c=a("body");a.layoutManager._isEditorMode&&
(c.addClass("bodyInsideNee"),c.toggleClass("bodyInsidePT","PT"===getSafe("editorParent.dm_current_editor")),isDudaone&&c.addClass("bodyInsideD1"));isDudaone?c.addClass("d1SiteBody"):c.addClass("dmSiteBody");20>Parameters.ThemeVersion&&isDudaone&&c.addClass("bodyInsideDudaone");isDudaone&&a.layoutManager._isEditorMode&&!a.layoutManager._isEDMode||a.layoutManager.initLayout();a.layoutManager.initNavigation();a.layoutDevice.components.iscrollBody&&a.layoutDevice.components.iscrollBody.isUseIscroll&&
!a.layoutManager._isEditorMode?(a("body").addClass("dmBodyUseIscroll"),a("body").removeClass("dmBodyNoIscroll")):(a("body").addClass("dmBodyNoIscroll"),a("body").removeClass("dmBodyUseIscroll"));a.ua?(c="Android"===a.ua.os.name&&2.4>a.ua.os.version,d="Windows Phone OS"===a.ua.os.name&&7.5>=a.ua.os.version):(c=-1!=navigator.userAgent.indexOf("Android 2"),d=-1!=navigator.userAgent.indexOf("Windows Phone OS 7"));(c||d)&&a(".supportsFontIcons").removeClass("supportsFontIcons").addClass("noFontIcons");
a.layoutManager._layoutDomReady=!0});a(window).load(function(){f.updateContainerMinimumHeight()});a(window).resize(function(){f.refreshIscroll()});f.detectUserAgent=function(){var a=navigator.userAgent;return a.match(/(iPhone|iPod)/)&&a.match(/CriOS/)?"iPhone-chrome":a.match(/(iPhone|iPod|iPad)/)?"iPhone":a.match(/Android/)?"android":a.match(/BlackBerry/)?"blackberry":a.match(/Windows Phone/i)||a.match(/iEMobile/i)?"windowsmobile":""};f.initLayout=function(){a.layoutDevice.onReady(a.layoutManager._isEditorMode);
a.layoutDevice.onLoad(a.layoutManager._isEditorMode)};f.refreshIscroll=function(d){null==d&&a.layoutDevice&&(d=a.layoutDevice.components.iscrollBody);d&&d.iscrollObject&&d.iscrollObject.refresh()};f.reinitIscroll=function(d){null==d&&(d=a.layoutDevice.components.iscrollBody);d&&d.iscrollObject&&d.refresh()};f.getLayoutElement=function(){return a.layoutDevice.components};f.isNee=function(){return a.layoutManager._isEditorMode};f.setCurrentVariation=function(d,c,f){f=f||"mobile";for(var e=a(".dm_wrapper").attr("class").split(" "),
g="",k="",b=0;b<e.length;b++){var l=e[b];-1!=l.indexOf(a.layoutManager._variationClassPrefix)&&(g=l,k=l.substr(0,l.indexOf(a.layoutManager._variationClassPrefix))+a.layoutManager._variationClassPrefix+d);c&&-1!=l.indexOf(a.layoutManager._widgetClassPrefix)&&a(".dm_wrapper").removeClass(l)}a(".dm_wrapper").removeClass(g);a(".dm_wrapper").addClass(k);a(".dm_wrapper").addClass(c?c[k]:"");Parameters.LayoutVariationID[f]=d;a.DM.restoreDefaultNavigationStyles();a.DM.initNavbar(!0);a.layoutDevice.components.dmNav.cssCalculations()};
f.getCurrentVariation=function(a){return Parameters.LayoutVariationID[a||"mobile"]};f.setCurrentLayout=function(a,c){Parameters.LayoutID[c||"mobile"]=a};f.getCurrentLayout=function(a){return Parameters.LayoutID[a||"mobile"]};f.setCurrentWidgetStyleID=function(a){Parameters.WidgetStyleID=a};f.getCurrentWidgetStyleID=function(){return Parameters.WidgetStyleID};f.cssCalculations=function(){a.layoutDevice.components.dmNav.cssCalculations()};f.afterDropPositionFoundHook=function(){};f.isLayoutDomReady=
function(){return a.layoutManager._layoutDomReady};f.afterInitNav=function(){a.layoutDevice.components.dmNav&&a.layoutDevice.components.dmNav.cssCalculations()};f.isMobileBrowser=function(){var a=navigator.userAgent||navigator.vendor||window.opera,c=!1;if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4)))c=!0;return c};f.isWebkitMobileBrowser=function(){var d={},c=a.uaMatch(navigator.userAgent);d[c.browser]=!0;d.version=c.version;c=!1;if(d.chrome||d.webkit||d.safari)c=!0;"blackberry"==f.detectUserAgent()&&(c=!1);return c};f.isSafariMobileBrowser=function(){return-1<navigator.userAgent.toLowerCase().indexOf("version/")};f._is_touch_device=f._is_touch_device&&"blackberry"!=f.detectUserAgent();f.hideAllSubItems=function(){a.layoutDevice.components.slideDownNav?a.layoutDevice.components.slideDownNav.refresh():
a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};f.openAppropriateSub=function(){var d=window.location.hash.slice(1),c=a.DM.getPageUrlByPageId(d),f,e;a(".dmNavigation li:not(.listBtnHidden) a").each(function(){var g=a(this),k=unescape(a.DM.getQueryParam(g.attr("href"),"url")||g.attr("href"));f=document.createElement("a");f.href=k;e="#"==k?"#":f.pathname;if(null!=k&&null!=
c&&(k===c&&("/"!==e||f.search)||a.dmrt.isEditorMode&&"MOBILE"===Parameters.SiteType&&k===Parameters.CurrentPageUrl||e===c||("http://dmbfs"===c||c===Parameters.CurrentPageUrl)&&e===window.location.pathname&&(a.dmrt.isEditorMode||"/"!==e||"/"===e&&Parameters.IsCurrentHomePage))&&(!a.dmrt.isEditorMode||!k.match(/(http(s?)\:\/\/){1}[^\/]+(\/?)$/g))||a.dmrt.isEditorMode&&""!=d&&a(this).attr("raw_url")&&a.DM.getPageFromCache(d).pageContent.alias==a(this).attr("raw_url").split("/").pop()||(null==c||"null"==
c||c.startsWith(a.layoutManager._NEW_PAGES_PREFIX)||c==a.layoutManager._NEW_PAGE_LOC)&&a(this).is(".dmNavItemSelected\x3ea")){var b=g.parent();if(b.hasClass("hasdmSub"))a.layoutManager.showSpecificSubs(a(this).parent());else if(b.hasClass("dmSub")){for(k=n(b.hasClass("dmSub2")?1:0);!b.hasClass("hasdmSub")||!k(b);)b=b.prev();a.layoutManager.showSpecificSubs(b)}g.parents(".dmNavigation").find("a").removeClass("currentPage");g.addClass("currentPage");return!1}});a.layoutDevice.components.dmNav&&a.layoutDevice.components.dmNav.cssCalculations()};
f.getCurrentNavigationItemSelected=function(d,c){d||(d=a(".dmNavWrapper, .dmNavigation, .dmNavigationWithLink"),c=!0);var f=null,e=a.DM.getCurrentPageUrl(),g=e.replace("\x26preview\x3dtrue","").replace("\x26dm_try_mode\x3dtrue",""),k=location.hash,b=k?k.substring(1):null;d.find("a").each(function(){var d=a(this).data("target-page-alias")||a(this).attr("href");d&&-1!=d.indexOf("?url\x3d")&&(d=unescape(a.DM.getQueryParam(a(this).attr("href"),"url")));d&&"DUDAONE"==Parameters.SiteType&&(-1<d.indexOf("?")&&
(d=d.substr(0,d.indexOf("?"))),0==d.indexOf("/site/")?d=d.split(d.split("/")[2]+"/")[1]:0==d.indexOf("/")&&(d=d.substr(1,d.length)),-1<d.indexOf("#")&&!(-1<d.indexOf("#!"))&&(d=d.split("#")[0]));if(null!=d&&null!=e&&(d===e||d===g)){if("DUDAONE"==Parameters.SiteType){var m=d=null,h=a(this).attr("href").split("#");1<h.length&&!h[1].startsWith("!")&&(d="#"+h[1],m=h[1]);if((d||k)&&d!=k)try{if(a("#"+b+"[data-anchor]").length||a("#"+m+"[data-anchor]").length)return}catch(v){}}null==f?f=a(this):c&&(f=f.add(a(this)))}});
return f};f.markCurrentSelectedNavigation=function(d){if(isDudaone||!a.layoutManager.markedSelected){var c=a(".dmNavWrapper, .dmNavigation, .dmNavigationWithLink");c.find("li").removeClass("dmNavItemSelected").end().find("a").removeClass("currentPage");c.each(function(){var c=a(this),e;d&&c.data("cachedElement")?e=c.data("cachedElement"):(e=a.layoutManager.getCurrentNavigationItemSelected(c))&&e.length&&(e=e.eq(0));if(!c.find(".dmNavItemSelected").hasClass("dmNavKeepSelected")){var f=c.find(".navItemSelectedServer");
0<f.size()?(c.find("li").removeClass("dmNavItemSelected"),c.find("a").removeClass("currentPage"),f.removeClass("navItemSelectedServer"),f.addClass("dmNavItemSelected"),f.find(" \x3e a").addClass("currentPage"),c.data("cachedElement",f.find(" \x3e a"))):(f=c.find("a.currentPage").eq(0),!e||f.html()==e.html()&&2!=e.closest("ul").find(".dmNavItemSelected").length||(c.find("li").removeClass("dmNavItemSelected"),c.find("a").removeClass("currentPage"),e.addClass("currentPage"),e.closest("li").addClass("dmNavItemSelected"),
c.data("cachedElement",e)));a.layoutManager.finalizeMenu()}c.find(".dmNavKeepSelected").removeClass("dmNavKeepSelected")});a.layoutManager.markedSelected=!0}};f.finalizeMenu=function(){0<a(".dmNavigation .dmNavItemSelected").not(".dmHideFromNav").length&&a(".dmNavigationWithLink .slideDownTrigger, .dmNavigationWithLink .slideUpTrigger").addClass("dmNavItemSelected");0<a(".desktopTopNavMoreBtn .dmNavItemSelected").length&&a("#upperFloatingNav .desktopTopNavMoreBtn").addClass("dmNavItemSelected");0<
a("#upperFloatingNav .dmNavItemSelected.dmSub, .dmLinksMenu .dmNavItemSelected.dmSub").length&&a("#upperFloatingNav .dmNavItemSelected.dmSub, .dmLinksMenu .dmNavItemSelected.dmSub").parents("li").last().addClass("dmNavItemSelected")};f.onAjaxLinkClick=function(d){var c=d.attr("href")&&"#"!=d.attr("href");c&&a.layoutManager.closeAllOpenedNavs(void 0,!0);c&&isDudaone||(a(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer dmNavItemSelected"),d.is(".dmNavWrapper *")&&(d.closest("li").addClass("dmNavItemSelected"),
d.addClass("currentPage")));a.layoutDevice.handlePageSeoSettingsPerDevice&&a.layoutDevice.handlePageSeoSettingsPerDevice()};f.layoutAfterAjax=function(d){a.layoutManager.markCurrentSelectedNavigation()};f.initNavigation=function(){var d=!1,c=null,f=null,e=a.DM.isTouchDevice&&!a.DM.isIOS()?"touchend.menu":"click.menu";a("#slideDownNav a, #slideUpNav a").off("touchstart.menu").on("touchstart.menu",function(a){d=!1;c=a.originalEvent.targetTouches[0].pageX;f=a.originalEvent.targetTouches[0].pageY}).off("touchmove.menu").on("touchmove.menu",
function(a){if(10<Math.abs(a.originalEvent.targetTouches[0].pageY-f)||Math.abs(a.originalEvent.targetTouches[0].pageX-c))d=!0}).filter(function(){return!h(a(this))}).off(e).on(e,function(c){var e=a(this),b=e.is(Parameters.LinksToAjax),f=!1,m=e.attr("href");if(!d)return e.parent().hasClass("hasdmSub")?(h(e),e.attr("href")&&""!=e.attr("href")&&"#"!=e.attr("href"))?h(e)||(a.layoutManager.isNee()&&(a.DM.isAjaxLink(e)&&window.editorParent.$&&window.editorParent.$.dmfw&&window.editorParent.$.dmfw.showLoadingInEmulator(),
window.editorParent.$&&window.editorParent.$.dmfw&&window.editorParent.$.dmfw.previewNavigateTo({url:e.attr("href"),navigateWithAjax:!0,el:e,e:c})),f=!0):(c.preventDefault(),"0"==e.parent().next(".dmSub").css("opacity")?a.layoutManager.showSpecificSubs(e.parent()):"1"==e.parent().next(".dmSub").css("opacity")&&a.layoutManager.hideSpacificSubs(e.parent())):(a.layoutManager.isNee()&&(c.preventDefault(),window.editorParent.$&&window.editorParent.$.dmfw&&(a.DM.isAjaxLink(e)&&window.editorParent.$.dmfw.showLoadingInEmulator(),
h(this)||window.editorParent.$.dmfw.previewNavigateTo({url:e.attr("href"),navigateWithAjax:!0,el:e,e:c}))),Parameters.AllowAjax&&(a(".navItemSelectedServer").removeClass("navItemSelectedServer"),e.parent().addClass("dmNavItemSelected"),e.addClass("currentPage")),f=!0),(b=b&&!(null!=m&&m.startsWith("#")&&1<m.length)&&a.DM.isPermittedOnClickValue(e.attr("onClick"))&&!a.DM.isLinkException(m)&&"_blank"!==e.attr("target"))&&f?a.DM.ajaxNavigateToLink(m,e,c):f});isDudaone&&a.layoutManager.handleEmptyNavigation()};
f.handleEmptyNavigation=function(){var d=a(".dmNavWrapper").eq(0),c=a("div.dmNavTriggerButton"),c=a().add(d).add(c);0<d.length&&(d=d.children().filter(function(){var c=a(this),d=!c.is(".dmHideFromNav, .dmDisplay_None, .dmNavTriggerButton, .slideDownTrigger");d&&a.layoutDevice&&a.layoutDevice.type&&(d=d&&!c.is(".dmHideFromNav-"+a.layoutDevice.type));return d}),c.toggleClass("dmDisplay_None",0===d.length),d=1>=d.length,a("body").toggleClass("dm-single-page-nav",d),d||a(".dm-single-page-nav").removeClass("dm-single-page-nav"))};
f.showSpecificSubs=function(d){a.layoutManager.hideAllSubItems();d.find(".navItemArrowBg").addClass("pointDown");var c=0,f=d,e=d.index();if(d.is(".dmSub")){for(var g=d;g.is(".dmSub");)g=g.prev();e=g.index();f=g}a(".dmNavigation li:gt("+Math.max(e-1,0)+")").each(function(){a(this).is(f)||(0==c&&a(this).is(".dmSub")&&!a(this).is(".dmSub2")?(a(this).removeClass("dmDisplay_None").css({opacity:"0"}),a(this).css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px, 0px)",
"-o-transform":"translate(0px, 0px)",opacity:"1"}),a(this).index()==d.index()&&(c=1)):1==c&&a(this).is(".dmSub")?(a(this).removeClass("dmDisplay_None").css("opacity","0"),a(this).css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px, 0px)","-o-transform":"translate(0px, 0px)",opacity:"1"}),a(this).is(".dmSub2")||(c=0)):a(this).is(".dmSub2")||(c=2))});a.layoutDevice.components.slideDownNav?(a.layoutDevice.components.slideDownNav.refresh(),
a.layoutDevice.components.slideDownNav.element.find("li").eq(-1).addClass("liRemoveBorder")):a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};f.hideSpacificSubs=function(d){d.find(".navItemArrowBg").removeClass("pointDown");d.index();var c=d.is(".dmSub")?"dmSub2":"dmSub";d.nextUntil(":not(."+c+")").each(function(){1==a(this).css("opacity")&&(a(this).css({"-webkit-transform":"translate3d(0px,0px, 0px)",
"-moz-transform":"translate(0px,0px)","-ms-transform":"translate(0px,0px)","-o-transform":"translate(0px,0px)"}),a(this).css("opacity","0"),a(this).addClass("dmDisplay_None"))});a.layoutDevice.components.slideDownNav?(a.layoutDevice.components.slideDownNav.refresh(),a.layoutDevice.components.slideDownNav.element.find("li").filter(function(){return 1==a(this).css("opacity")}).eq(-1).addClass("liRemoveBorder")):a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&
a.layoutDevice.components.slideRightNav.refresh()};f.initHomeLinkAnchor=function(){a.layoutManager._is_touch_device?a("#dm-logo-anchor").unbind("touchstart.t").bind("touchstart.t",function(d){a.layoutManager.closeAllOpenedNavs()}):a("#dm-logo-anchor").unbind("click.menu").bind("click.menu",function(d){a.layoutManager.closeAllOpenedNavs()})};f.closeAllOpenedNavs=function(d,c){function f(){a.layoutManager._closeAllOpenedNavs();d&&d()}var e=a.layoutManager.isIOS()?300:0;c&&0<e?setTimeout(f,e):f()};f._closeAllOpenedNavs=
function(){window.editorParent&&window.editorParent.$&&window.editorParent.$.dmx&&window.editorParent.$.dmx.preventNavClose||(a.layoutDevice.components.slideDownNav&&a.layoutDevice.components.slideDownNav.slideDownNavHandlerImpl(!1,!0),a.layoutDevice.components.slideUpNav&&a.layoutDevice.components.slideUpNav.slideUpNavHandlerImpl(!1,!0),a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.toggleMenu("close"),a.layoutDevice.components.upperFloatingNav&&a.layoutDevice.components.upperFloatingNav.hideSubnav(),
a.layoutDevice.components.popupNav&&a.layoutDevice.components.popupNav.hidePopupNav())};f.initInnerPageTitle=function(d){if(d&&a.layoutDevice.components.innerBar){var c=a.layoutDevice.components.innerBar.element.find(".innerPageTitle"),f=a.layoutDevice.components.innerBar.element.find("#dmBackBtn"),e=a.layoutDevice.components.innerBar.element.find("#pageTitleText");0==c.length&&(c=a("\x3cdiv\x3e\x3c/div\x3e"),0<e.length?e.append(c):0<f.length?c.insertAfter(f):a.layoutDevice.components.innerBar.element.append(c),
c.addClass("innerPageTitle"));c.text(d.page_title)}a.layoutDevice.initInnerPageTitle&&a.layoutDevice.initInnerPageTitle(d)};f.setSelected=function(a,c){a.toggleClass("dmNavItemSelected",c);return a};f.isIOS7=function(){return-1!=a.layoutManager.detectUserAgent().indexOf("iPhone")&&navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i)};f.isPortrait=function(){return window.innerHeight>window.innerWidth?!0:!1};f.updateContainerMinimumHeight=function(){var d=a(".dmRespRowsWrapper"),c=window.innerHeight,
f=a(".dmFooterContainer");0<f.length&&(c-=f.outerHeight());var e=a("#mobileFooter");0<e.length&&(c-=e.outerHeight());e=a("#desktopHeaderBox");0<e.length?c-=e.outerHeight():(e=a(".dmHeader"),0<e.length&&(c-=e.outerHeight()));e=a("#popupNavHeaderBox");0<e.length&&(c-=e.outerHeight());Modernizr.cssvhunit||(d.css("min-height",c+"px"),a(".dmInner").css("minHeight",window.innerHeight+"px"));0<f.length&&setTimeout(function(){c+=window.innerHeight-f[0].getBoundingClientRect().bottom;d.css("min-height",c+
"px")},0);d.removeClass("dmRespRowsWrapperSize6","dmRespRowsWrapperSize5","dmRespRowsWrapperSize4","dmRespRowsWrapperSize3","dmRespRowsWrapperSize2","dmRespRowsWrapperSize1");950<c?d.addClass("dmRespRowsWrapperSize6"):890<c?d.addClass("dmRespRowsWrapperSize5"):800<c?d.addClass("dmRespRowsWrapperSize4"):700<c?d.addClass("dmRespRowsWrapperSize3"):620<c?d.addClass("dmRespRowsWrapperSize2"):d.addClass("dmRespRowsWrapperSize1")};f.isIOS=function(){return/(iPhone|iPad|iPod)/.test(navigator.userAgent)};
f.isAndroidDefaultBrowser=function(){return-1<navigator.userAgent.indexOf("Mozilla/5.0")&&-1<nua.indexOf("Android ")&&-1<nua.indexOf("AppleWebKit")&&!(-1<nua.indexOf("Chrome"))}})(jQuery);var layoutDeviceComponentInterface={onReadyGlobal:function(a){},onReadyEditorMode:function(a){},onReadyPreviewMode:function(a){},onLoadGlobal:function(a){},onLoadEditorMode:function(a){},onLoadPreviewMode:function(a){},afterAjaxCommand:function(a){},onAjaxLinkClick:function(a,h){},onAjaxLinkBeforeClick:function(a,h){return!0}};var layoutDeviceInterface={type:"",components:{},onReady:function(a,h){},onLoad:function(a,h){},getTopFixedElementsOffset:function(){return 0},getBottomFixedElementsOffset:function(){return 0},initInnerBar:function(){},onAjaxLinkClick:function(a,h){}};(function(a){function h(){return a.layoutManager._isEditorMode&&parent.window.$.dmfw&&parent.window.$.dmfw.newInlineEditing}function n(){this.element=null}function f(){this.element=a("#upperFloatingNav")}function d(){this.element=a(".dmLinksMenu \x3e ul")}function c(){this.slideTrigger=this.iscrollObject=this.element=null;this.slideDownNavHandlerImpl=function(b,c,d){function e(){f.hide();g.element.css("visibility","visible");f.off("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd")}
var f,g=this;f=a(document.getElementById("slideDownNav"));if("undefined"==typeof b||null===b)b=!0;c||(c=!1);d||(d=!1);this.element.stop();this.element.unbind("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd");this.element.css("display","block");b?a("#slideDownNav").css({"-webkit-transition-duration":".5s","-moz-transition-duration":".5s","-o-transition-duration":".5s","-ms-transition-duration":".5s"}):(a("#slideDownNav").css({"-webkit-transition-duration":"0s",
"-moz-transition-duration":"0s","-o-transition-duration":"0s","-ms-transition-duration":"0s"}),g.element.css("visibility","visible"));var h=a("#dmRoot");if(0<f.length&&f.hasClass("dmSlideNavClose")&&!c||d)f.scrollTop(0),f.removeClass("dmSlideNavClose").removeClass("menuClosed"),f.addClass("dmSlideNavOpen"),a.layoutManager.isNee()&&a(document.querySelectorAll(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext")).addClass("inlineEditorBarsLowZindex"),
f.show(),d=this.element.parent(),d.is(".fixedPart")&&"fixed"===d.css("position")?(this.element.css("overflow","auto"),h.css("overflow","hidden"),h.css("position","fixed")):this.element.css("overflow","visible"),a.layoutManager.hideAllSubItems(),a.layoutManager.setSelected(a(".slideDownTrigger"),!0).siblings("li").removeClass("dmNavItemSelected"),a.layoutManager.openAppropriateSub(),a.layoutDevice.components.slideDownNav.element.find("li").filter(function(){return 1===a(this).css("opacity")}).eq(-1).addClass("liRemoveBorder"),
"slide"===a.layoutManager._layoutParams._navigationAnimationStyle?f.css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-o-transform":"translate(0px, 0px)","-moz-transform":"translate(0px, 0px)","-ms-transform":"translate(0px, 0px)"}):"scale"===a.layoutManager._layoutParams._navigationAnimationStyle&&f.css({"-webkit-transform":"scale3d(1, 1, 1)","-o-transform":"scale(1, 1)","-moz-transform":"scale(1, 1)","-ms-transform":"scale(1, 1)","-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%",
"-o-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%"}),a.DM.handleExpandingNav({context:this,isOpen:!0});else if(f.hasClass("dmSlideNavOpen")&&!d||c)f.addClass("dmSlideNavClose").addClass("menuClosed"),f.removeClass("dmSlideNavOpen"),a.layoutManager.isNee()&&a(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext").removeClass("inlineEditorBarsLowZindex"),d=this.element.parent(),d.is(".fixedPart")&&"fixed"===d.css("position")&&(h.css("overflow",
"auto"),h.css("position","static")),b&&(this.element.off("webkitTransitionEnd").on("webkitTransitionEnd",e),this.element.off("transitionend").on("transitionend",e),this.element.off("oTransitionEnd").on("oTransitionEnd",e),this.element.off("msTransitionEnd").on("msTransitionEnd",e)),a.layoutManager.setSelected(a(".slideDownTrigger"),!1),b?"slide"===a.layoutManager._layoutParams._navigationAnimationStyle?(b=this.element.find("ul").outerHeight(!0),f.css({"-webkit-transform":"translate3d(0px, "+-b+"px, 0px)",
"-o-transform":"translate(0px, "+-b+"px)","-moz-transform":"translate(0px, "+-b+"px)","-ms-transform":"translate(0px, "+-b+"px)"})):"scale"===a.layoutManager._layoutParams._navigationAnimationStyle&&f.css({"-webkit-transform":"scale3d(1, 0, 1)","-o-transform":"scale(1, 0)","-moz-transform":"scale(1, 0)","-ms-transform":"scale(1, 0)","-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%"}):f.hide(),b=a("#iscrollBody"),b.length&&
b.css("height","auto"),a.layoutManager.hideAllSubItems(),this.slideTrigger&&0<this.slideTrigger.find(".navItemArrowBg").length&&(b=this.slideTrigger.find(".navItemArrowBg"),b.addClass("pointDown")),c?a.layoutManager.markCurrentSelectedNavigation(!1):a.layoutManager.markCurrentSelectedNavigation(!0),a.DM.handleExpandingNav({context:this})};this.initSlideDownTrigger=function(){var b,c;c=this;this.slideTrigger&&0<this.slideTrigger.find(".navItemArrowBg").length&&(b=c.slideTrigger.find(".navItemArrowBg"),
b.addClass("pointDown"));a.layoutManager._is_touch_device&&this.slideTrigger?this.slideTrigger.unbind("touchstart.t").bind("touchstart.t",function(a){c.slideDownNavHandlerImpl(null,null,null);a.preventDefault();a.stopPropagation()}):this.slideTrigger&&this.slideTrigger.unbind("click.c").bind("click.c",function(a){c.slideDownNavHandlerImpl(null,null,null);a.preventDefault();a.stopPropagation()})}}function p(){this.iscrollObject=this.element=null;this.isUseIscroll=!1;this.isBodyScrollable=!0;this.afterAjaxCommand=
null}function e(){this.startY=this.slideNavigationObject=this.scrollObject=this.element=null;this.scrolled=!1}function g(){}n.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);n.prototype.onReadyPreviewMode=function(){this.element=a("#innerBar");a.layoutDevice.initInnerBar()};n.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};n.prototype.onLoadPreviewMode=function(){};n.prototype.onLoadEditorMode=function(){};n.prototype.afterAjaxCommand=function(b){a.layoutDevice.initInnerBar(b)};
f.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);f.prototype.onReadyEditorMode=function(){this.onReadyGlobal()};f.prototype.onReadyPreviewMode=function(){this.onReadyGlobal()};f.prototype.onLoadEditorMode=function(a){};f.prototype.onLoadPreviewMode=function(a){};f.prototype.hideSubnav=function(){"tablet"===a.layoutDevice.type&&a("ul#upperFloatingNavigation \x3e li \x3e ul").stop(!0).fadeOut()};f.prototype.onReadyGlobal=function(){a("#upperFloatingNavigation").find("a").off("click.menu").on("click.menu",
function(b){window.editorParent.$&&window.editorParent.$.dmfw&&a.layoutManager.isNee()&&!window.editorParent.$.dmpages.isExternalLink(a(this).attr("href"))&&(b.stopPropagation(),b.preventDefault(),h()||window.editorParent.$.dmfw.previewNavigateTo({url:a(this).attr("href"),navigateWithAjax:!0,el:a(this),e:b}))});if("tablet"===a.layoutDevice.type){var b=a("ul#upperFloatingNavigation");a.commonComponents.upperFloatingNav.hideSubnav();b.off("touchend.subnav click.subnav","\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn").on("touchend.subnav click.subnav",
"\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&(a.commonComponents.upperFloatingNav.hideSubnav(),b.fadeIn().delay(1E4).fadeOut())}).off("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&b.fadeIn()}).off("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",
function(){a.commonComponents.upperFloatingNav.hideSubnav()})}};f.prototype.onAjaxLinkBeforeClick=function(b){if(b.is("#upperFloatingNavigation li *")&&"tablet"===a.layoutDevice.type&&b.parent().is(".desktopTopNav.hasdmSub"))if(b=b.parent().find("\x3eul"),b.is(":visible"))b.delay(1E3).fadeOut();else return this.hideSubnav(),b.fadeIn().delay(1E4).fadeOut(),!1;return!0};f.prototype.onAjaxLinkClick=function(b){b.is("#upperFloatingNavigation li *")&&(a("#upperFloatingNavigation").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),
b.closest("li").addClass("dmNavItemSelected"))};d.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);d.prototype.onReadyEditorMode=function(){this.onReadyGlobal()};d.prototype.onReadyPreviewMode=function(){this.onReadyGlobal()};d.prototype.onLoadEditorMode=function(a){};d.prototype.onLoadPreviewMode=function(a){};d.prototype.hideSubnav=function(){"tablet"===a.layoutDevice.type&&a(".dmLinksMenu \x3e ul \x3e li \x3e ul").stop(!0).fadeOut()};d.prototype.onReadyGlobal=function(){"tablet"===
a.layoutDevice.type&&(a(".dmLinksMenu \x3e ul"),a.commonComponents.extensionMenuNav.hideSubnav(),a("#site_content").off("touchend.subnav click.subnav",".dmLinksMenu \x3e ul \x3eli.hasdmSub:not(:has(\x3ea)), .dmLinksMenu \x3e ul \x3eli.desktopTopNavMoreBtn").on("touchend.subnav click.subnav",".dmLinksMenu \x3e ul \x3eli.hasdmSub:not(:has(\x3ea)), .dmLinksMenu \x3e ul \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&(a.commonComponents.extensionMenuNav.hideSubnav(),
b.fadeIn().delay(1E4).fadeOut())}).off("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&b.fadeIn()}).off("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){a.commonComponents.extensionMenuNav.hideSubnav()}));var b=a(".dmLinksMenu .innerUl");if(b.length)for(var c=0;c<b.length;c++){var d=
b.eq(c),e=d.outerHeight(),f=d.parents("ul").offset().top+d.parents("ul").outerHeight()+10,g=a("#dm").height();e+f>g&&(e=d.parent().offset().top,e>g-e?d.addClass("openAbove"):d.height(g-e).css("overflowY","scroll"))}};d.prototype.onAjaxLinkBeforeClick=function(b){if(b.is(".dmLinksMenu \x3e ul li *")&&"tablet"===a.layoutDevice.type&&b.parent().is(".desktopTopNav.hasdmSub"))if(b=b.parent().find("\x3eul"),b.is(":visible"))b.delay(1E3).fadeOut();else return this.hideSubnav(),b.fadeIn().delay(1E4).fadeOut(),
!1;return!0};d.prototype.onAjaxLinkClick=function(b){b.is(".dmLinksMenu \x3e ul li *")&&(a(".dmLinksMenu \x3e ul").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),b.closest("li").addClass("dmNavItemSelected"))};d.prototype.selector=".dmLinksMenu \x3e ul";c.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);c.prototype.initIscroll=function(){var b,c=a(document.getElementById("slideDownNav"));b=a("#iscrollBody");null!==
this.iscrollObject&&(this.iscrollObject.destroy(),this.iscrollObject=null);0<a.layoutDevice.getTopFixedElementsOffset()?(c.height(a.DM.getPageHeight()-a.layoutDevice.getTopFixedElementsOffset()-10),this.iscrollObject=new iScroll("slideDownNav",{onScrollStart:function(){var c,d,e;b=a("#iscrollBody");c=a(window).height()-b.offset().top;d=a("body").scrollTop();e=a.iOSVersion()[0];7>e&&(c+=60);b.attr("data-top",d).addClass("noScroll").css({height:c,"-webkit-transform":"translate(0, -"+d+"px)","-moz-transform":"translate(0, -"+
d+"px)","-ms-transform":"translate(0, -"+d+"px)","-o-transform":"translate(0, -"+d+"px)",transform:"translate(0, -"+d+"px)"});7>e&&window.scrollTo(0,60)},onScrollEnd:function(){var b,c;c=a("#iscrollBody");b=c.attr("data-top");c.removeClass("noScroll").css({height:"auto","-webkit-transform":"translate(0, 0)","-moz-transform":"translate(0, 0)","-ms-transform":"translate(0, 0)","-o-transform":"translate(0, 0)",transform:"translate(0, 0)"});a("body").scrollTop(b)},bounce:!1})):c.hasClass("dmSlideNavOpen")&&
c.offset().top+c.find("ul").height()>b.height()&&(c=c.offset().top+c.find("ul").height(),b.height(c))};c.prototype.initLoadGlobal=function(){this.initSlideDownTrigger()};c.prototype.onLoadEditorMode=function(){this.initIscroll();this.initLoadGlobal()};c.prototype.onLoadPreviewMode=function(){this.initIscroll();this.initLoadGlobal()};c.prototype.onReadyPreviewMode=function(){this.element=a("#slideDownNav").addClass("dmNavTriggerButton");this.slideTrigger=a(".slideDownTrigger");var b=0;this.element.addClass("dmSlideNavClose").addClass("menuClosed");
a.DM.isBodyScrollable()&&(a.layoutManager._is_touch_device&&this.element.find(".dmNavigation").unbind("touchstart").bind("touchstart",function(){b=event.touches[0].pageY;document.getElementById("slideDownNav")}),this.element.find(".dmNavigation").unbind("mousewheel DOMMouseScroll touchmove").bind("mousewheel DOMMouseScroll touchmove",function(c){if(!(0<a(this).parents(".fixedPart").length&&"fixed"===a(this).parents(".fixedPart").css("position"))){c.preventDefault();var d;a.layoutManager._is_touch_device?
(c=b-event.touches[0].pageY,a("html, body").scrollTop(document.body.scrollTop+c)):(d=document.body.scrollTop,c=event.wheelDelta||-event.detail,d=0<c?d-40:d+40,a("html, body").scrollTop(d))}}));0===a("#innerBar:visible").length&&10!==a.layoutManager.getCurrentLayout()&&1!==a.layoutManager.getCurrentLayout()&&this.element.find(".dmNavWrapper").removeClass("dmNavWrapper");this.initSlideDownTrigger()};c.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};c.prototype.refresh=function(){this.initIscroll()};
p.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);e.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);e.prototype.onReadyEditorMode=function(){this.onReadyGlobal()};e.prototype.onReadyPreviewMode=function(){this.onReadyGlobal()};e.prototype.onLoadEditorMode=function(a){this.onLoadGlobal(a);this.initIscroll()};e.prototype.onLoadPreviewMode=function(a){this.onLoadGlobal(a);this.initIscroll()};e.prototype.onReadyGlobal=function(){var b=this;a("#leftSidebar").find("a").off("click.menu").on("click.menu",
function(c){var d=a(document.getElementById("leftSidebar")),e=a(this).attr("href");e&&0===e.indexOf("http://")||(h()||b.slideNavigationObject.close(),d.find(".navItemSelectedServer").removeClass("navItemSelectedServer"),d.find(".dmNavItemSelected").removeClass("dmNavItemSelected"),a(this).closest("li").addClass("dmNavItemSelected"),a(this).addClass("currentPage"),h()||a.layoutManager.isNee()&&window.editorParent.$&&window.editorParent.$.dmfw&&window.editorParent.$.dmfw.previewNavigateTo({url:a(this).attr("href"),
navigateWithAjax:!0,el:a(this),e:c}))})};e.prototype.initIscroll=function(){var b=this;a("body").css({transform:"all .3 ease","-webkit-transform":"all .3 ease"});a.layoutManager.getLayoutElement().iscrollBody.element=a("#iscrollBody");a.layoutManager.getLayoutElement().iscrollBody.isBodyScrollable=!1;var c=function(){var b=a("body").scrollTop(),c=a.layoutDevice.getTopFixedElementsOffset();a("body").css({width:"100%",height:"100%"});a("#iscrollBody").css({"-webkit-overflow-scrolling":"touch","-webkit-transform":"translate3d(0,0,0)",
height:a(window).height()-c});b&&a("#iscrollBody").scrollTop(b-c);a.DM.events.trigger("iscrollBodyResized")},d="tablet"===a.layoutDevice.type?240:190,d={element:document.getElementById("dmSlideRightNavRight"),disable:"right",maxPosition:d,minPosition:-1*d};h()&&(a("#site_content").attr("data-snap-ignore","true"),a("#dmSlideRightNavRight").attr("data-snap-ignore","true"));b.slideNavigationObject=new Snap(d);a("#toggleMenuTrigger").off("click").on("click",function(){"closed"===b.slideNavigationObject.state().state?
b.slideNavigationObject.open("left"):b.slideNavigationObject.close()});c();a(window).resize(c)};e.prototype.onLoadGlobal=function(a){};e.prototype.onAjaxLinkClick=function(b){b.is("#leftSidebar li *")&&(a("#leftSidebar").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),b.closest("li").addClass("dmNavItemSelected"));this.toggleMenu("close");a("#dmSlideRightNavRight").animate({scrollTop:0},"fast")};e.prototype.afterAjaxCommand=
function(a){};e.prototype.onAjaxLinkBeforeClick=function(){return!this.scrolled};e.prototype.onAjaxLinkTouchStart=function(a,c){this.startY=c.originalEvent.pageY;this.scrolled=!1};e.prototype.onAjaxLinkTouchMove=function(a,c){20<Math.abs(c.originalEvent.pageY-this.startY)&&(this.scrolled=!0)};e.prototype.toggleMenu=function(a){this.slideNavigationObject&&(a&&"close"==a?this.slideNavigationObject.close():a&&"open"==a?this.slideNavigationObject.open("left"):"closed"===this.slideNavigationObject.state().state?
this.slideNavigationObject.open("left"):this.slideNavigationObject.close())};e.prototype.refresh=function(){this.initIscroll()};g.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};g.prototype.onReadyPreviewMode=function(){var b;a(document.getElementById("slideDownTrigger")).off("click.openPopupNav").on("click.openPopupNav",g.prototype.openPopupNav);(b=document.body)&&a(b).toggleClass("menuClosed")};g.prototype.onLoadEditorMode=function(){};g.prototype.hidePopupNav=function(){setTimeout(function(){var b;
if(b=document.body)a(b).removeClass("popupNavActive"),a(b).removeClass("menuClosed")},0)};g.prototype.onLoadPreviewMode=function(){};g.prototype.openPopupNav=function(){var b;if(b=document.body)a(b).toggleClass("popupNavActive"),a(b).toggleClass("menuClosed")};var k={iscrollBody:new p,innerBar:new n,slideDownNav:new c,slideRightNav:new e,upperFloatingNav:new f,extensionMenuNav:new d,popupNav:new g};a.extend({commonComponents:k})})(jQuery);
//# sourceMappingURL=d-js-one-runtime-layouts-package.min.js.map