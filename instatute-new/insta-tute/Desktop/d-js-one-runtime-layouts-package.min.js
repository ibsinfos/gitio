(function() {
    var a = Math,
        l = /webkit/i.test(navigator.appVersion) ? "webkit" : /firefox/i.test(navigator.userAgent) ? "Moz" : "opera" in window ? "O" : "",
        r = "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix,
        e = "ontouchstart" in window,
        b = l + "Transform" in document.documentElement.style,
        d = /android/gi.test(navigator.appVersion),
        q = /iphone|ipad/gi.test(navigator.appVersion),
        g = /playbook/gi.test(navigator.appVersion),
        t = q || g,
        n = function() {
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame ||
                window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(a) {
                    return setTimeout(a, 1)
                }
        }(),
        k = window.cancelRequestAnimationFrame || window.webkitCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || clearTimeout,
        m = "onorientationchange" in window ? "orientationchange" : "resize",
        p = e ? "touchstart" : "mousedown",
        u = e ? "touchmove" : "mousemove",
        x = e ? "touchend" : "mouseup",
        y = e ? "touchcancel" : "mouseup",
        z = "Moz" == l ? "DOMMouseScroll" :
        "mousewheel",
        v = "translate" + (r ? "3d(" : "("),
        w = r ? ",0)" : ")",
        g = function(a, c) {
            var f = this,
                k = document,
                g;
            f.wrapper = "object" == typeof a ? a : k.getElementById(a);
            f.wrapper.style.overflow = "hidden";
            f.scroller = f.wrapper.children[0];
            f.options = {
                hScroll: !0,
                vScroll: !0,
                bounce: !0,
                bounceLock: !1,
                momentum: !0,
                lockDirection: !0,
                useTransform: !0,
                useTransition: !1,
                topOffset: 0,
                checkDOMChanges: !1,
                hScrollbar: !0,
                vScrollbar: !0,
                fixedScrollbar: d,
                hideScrollbar: q,
                fadeScrollbar: q && r,
                scrollbarClass: "",
                zoom: !1,
                zoomMin: 1,
                zoomMax: 4,
                doubleTapZoom: 2,
                wheelAction: "scroll",
                snap: !1,
                snapThreshold: 1,
                onRefresh: null,
                onBeforeScrollStart: function(a) {
                    a.preventDefault()
                },
                onScrollStart: null,
                onBeforeScrollMove: null,
                onScrollMove: null,
                onBeforeScrollEnd: null,
                onScrollEnd: null,
                onTouchEnd: null,
                onDestroy: null,
                onZoomStart: null,
                onZoom: null,
                onZoomEnd: null
            };
            for (g in c) f.options[g] = c[g];
            f.options.useTransform = b ? f.options.useTransform : !1;
            f.options.hScrollbar = f.options.hScroll && f.options.hScrollbar;
            f.options.vScrollbar = f.options.vScroll && f.options.vScrollbar;
            f.options.zoom =
                f.options.useTransform && f.options.zoom;
            f.options.useTransition = t && f.options.useTransition;
            f.scroller.style[l + "TransitionProperty"] = f.options.useTransform ? "-" + l.toLowerCase() + "-transform" : "top left";
            f.scroller.style[l + "TransitionDuration"] = "0";
            f.scroller.style[l + "TransformOrigin"] = "0 0";
            f.options.useTransition && (f.scroller.style[l + "TransitionTimingFunction"] = "cubic-bezier(0.33,0.66,0.66,1)");
            f.options.useTransform ? f.scroller.style[l + "Transform"] = v + "0,0" + w : f.scroller.style.cssText += ";position:relative;top:0;left:0";
            f.options.useTransition && (f.options.fixedScrollbar = !0);
            f.refresh();
            f._bind(m, window);
            f._bind(p);
            e || (f._bind("mouseout", f.wrapper), f._bind(z));
            f.options.checkDOMChanges && (f.checkDOMTime = setInterval(function() {
                f._checkDOMChanges()
            }, 500))
        };
    g.prototype = {
        enabled: !0,
        x: 0,
        y: 0,
        steps: [],
        scale: 1,
        currPageX: 0,
        currPageY: 0,
        pagesX: [],
        pagesY: [],
        aniTime: null,
        wheelZoomCount: 0,
        handleEvent: function(a) {
            switch (a.type) {
                case p:
                    if (!e && 0 !== a.button) break;
                    this._start(a);
                    break;
                case u:
                    this._move(a);
                    break;
                case x:
                case y:
                    this._end(a);
                    break;
                case m:
                    this._resize();
                    break;
                case z:
                    this._wheel(a);
                    break;
                case "mouseout":
                    this._mouseout(a);
                    break;
                case "webkitTransitionEnd":
                    this._transitionEnd(a)
            }
        },
        _checkDOMChanges: function() {
            this.moved || this.zoomed || this.animating || this.scrollerW == this.scroller.offsetWidth * this.scale && this.scrollerH == this.scroller.offsetHeight * this.scale || this.refresh()
        },
        _scrollbar: function(h) {
            var c = document,
                f;
            this[h + "Scrollbar"] ? (this[h + "ScrollbarWrapper"] || (f = c.createElement("div"), this.options.scrollbarClass ? f.className =
                this.options.scrollbarClass + h.toUpperCase() : f.style.cssText = "position:absolute;z-index:100;" + ("h" == h ? "height:7px;bottom:1px;left:2px;right:" + (this.vScrollbar ? "7" : "2") + "px" : "width:7px;bottom:" + (this.hScrollbar ? "7" : "2") + "px;top:2px;right:1px"), f.style.cssText += ";pointer-events:none;-" + l + "-transition-property:opacity;-" + l + "-transition-duration:" + (this.options.fadeScrollbar ? "350ms" : "0") + ";overflow:hidden;opacity:" + (this.options.hideScrollbar ? "0" : "1"), this.wrapper.appendChild(f), this[h + "ScrollbarWrapper"] =
                f, f = c.createElement("div"), this.options.scrollbarClass || (f.style.cssText = "position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-" + l + "-background-clip:padding-box;-" + l + "-box-sizing:border-box;" + ("h" == h ? "height:100%" : "width:100%") + ";-" + l + "-border-radius:3px;border-radius:3px"), f.style.cssText += ";pointer-events:none;-" + l + "-transition-property:-" + l + "-transform;-" + l + "-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-" + l + "-transition-duration:0;-" + l +
                "-transform:" + v + "0,0" + w, this.options.useTransition && (f.style.cssText += ";-" + l + "-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"), this[h + "ScrollbarWrapper"].appendChild(f), this[h + "ScrollbarIndicator"] = f), "h" == h ? (this.hScrollbarSize = this.hScrollbarWrapper.clientWidth, this.hScrollbarIndicatorSize = a.max(a.round(this.hScrollbarSize * this.hScrollbarSize / this.scrollerW), 8), this.hScrollbarIndicator.style.width = this.hScrollbarIndicatorSize + "px", this.hScrollbarMaxScroll = this.hScrollbarSize - this.hScrollbarIndicatorSize,
                this.hScrollbarProp = this.hScrollbarMaxScroll / this.maxScrollX) : (this.vScrollbarSize = this.vScrollbarWrapper.clientHeight, this.vScrollbarIndicatorSize = a.max(a.round(this.vScrollbarSize * this.vScrollbarSize / this.scrollerH), 8), this.vScrollbarIndicator.style.height = this.vScrollbarIndicatorSize + "px", this.vScrollbarMaxScroll = this.vScrollbarSize - this.vScrollbarIndicatorSize, this.vScrollbarProp = this.vScrollbarMaxScroll / this.maxScrollY), this._scrollbarPos(h, !0)) : this[h + "ScrollbarWrapper"] && (b && (this[h + "ScrollbarIndicator"].style[l +
                "Transform"] = ""), this[h + "ScrollbarWrapper"].parentNode.removeChild(this[h + "ScrollbarWrapper"]), this[h + "ScrollbarWrapper"] = null, this[h + "ScrollbarIndicator"] = null)
        },
        _resize: function() {
            var a = this;
            setTimeout(function() {
                a.refresh()
            }, d ? 200 : 0)
        },
        _pos: function(h, c) {
            h = this.hScroll ? h : 0;
            c = this.vScroll ? c : 0;
            this.options.useTransform ? this.scroller.style[l + "Transform"] = v + h + "px," + c + "px" + w + " scale(" + this.scale + ")" : (h = a.round(h), c = a.round(c), this.scroller.style.left = h + "px", this.scroller.style.top = c + "px");
            this.x = h;
            this.y =
                c;
            this._scrollbarPos("h");
            this._scrollbarPos("v")
        },
        _scrollbarPos: function(h, c) {
            var f = "h" == h ? this.x : this.y;
            this[h + "Scrollbar"] && (f *= this[h + "ScrollbarProp"], 0 > f ? (this.options.fixedScrollbar || (f = this[h + "ScrollbarIndicatorSize"] + a.round(3 * f), 8 > f && (f = 8), this[h + "ScrollbarIndicator"].style["h" == h ? "width" : "height"] = f + "px"), f = 0) : f > this[h + "ScrollbarMaxScroll"] && (this.options.fixedScrollbar ? f = this[h + "ScrollbarMaxScroll"] : (f = this[h + "ScrollbarIndicatorSize"] - a.round(3 * (f - this[h + "ScrollbarMaxScroll"])), 8 > f && (f =
                8), this[h + "ScrollbarIndicator"].style["h" == h ? "width" : "height"] = f + "px", f = this[h + "ScrollbarMaxScroll"] + (this[h + "ScrollbarIndicatorSize"] - f))), this[h + "ScrollbarWrapper"].style[l + "TransitionDelay"] = "0", this[h + "ScrollbarWrapper"].style.opacity = c && this.options.hideScrollbar ? "0" : "1", this[h + "ScrollbarIndicator"].style[l + "Transform"] = v + ("h" == h ? f + "px,0" : "0," + f + "px") + w)
        },
        _start: function(h) {
            var c = e ? h.touches[0] : h,
                f, b;
            this.enabled && (this.options.onBeforeScrollStart && this.options.onBeforeScrollStart.call(this,
                h), (this.options.useTransition || this.options.zoom) && this._transitionTime(0), this.zoomed = this.animating = this.moved = !1, this.dirY = this.dirX = this.absDistY = this.absDistX = this.distY = this.distX = 0, this.options.zoom && e && 1 < h.touches.length && (b = a.abs(h.touches[0].pageX - h.touches[1].pageX), f = a.abs(h.touches[0].pageY - h.touches[1].pageY), this.touchesDistStart = a.sqrt(b * b + f * f), this.originX = a.abs(h.touches[0].pageX + h.touches[1].pageX - 2 * this.wrapperOffsetLeft) / 2 - this.x, this.originY = a.abs(h.touches[0].pageY + h.touches[1].pageY -
                2 * this.wrapperOffsetTop) / 2 - this.y, this.options.onZoomStart && this.options.onZoomStart.call(this, h)), this.options.momentum && (this.options.useTransform ? (f = getComputedStyle(this.scroller, null)[l + "Transform"].replace(/[^0-9-.,]/g, "").split(","), b = 1 * f[4], f = 1 * f[5]) : (b = 1 * getComputedStyle(this.scroller, null).left.replace(/[^0-9-]/g, ""), f = 1 * getComputedStyle(this.scroller, null).top.replace(/[^0-9-]/g, "")), b != this.x || f != this.y) && (this.options.useTransition ? this._unbind("webkitTransitionEnd") : k(this.aniTime),
                this.steps = [], this._pos(b, f)), this.absStartX = this.x, this.absStartY = this.y, this.startX = this.x, this.startY = this.y, this.pointX = c.pageX, this.pointY = c.pageY, this.startTime = h.timeStamp || Date.now(), this.options.onScrollStart && this.options.onScrollStart.call(this, h), this._bind(u), this._bind(x), this._bind(y))
        },
        _move: function(h) {
            var c = e ? h.touches[0] : h,
                f = c.pageX - this.pointX,
                b = c.pageY - this.pointY,
                k = this.x + f,
                d = this.y + b,
                m = h.timeStamp || Date.now();
            this.options.onBeforeScrollMove && this.options.onBeforeScrollMove.call(this,
                h);
            if (this.options.zoom && e && 1 < h.touches.length) k = a.abs(h.touches[0].pageX - h.touches[1].pageX), d = a.abs(h.touches[0].pageY - h.touches[1].pageY), this.touchesDist = a.sqrt(k * k + d * d), this.zoomed = !0, c = 1 / this.touchesDistStart * this.touchesDist * this.scale, c < this.options.zoomMin ? c = .5 * this.options.zoomMin * Math.pow(2, c / this.options.zoomMin) : c > this.options.zoomMax && (c = 2 * this.options.zoomMax * Math.pow(.5, this.options.zoomMax / c)), this.lastScale = c / this.scale, k = this.originX - this.originX * this.lastScale + this.x, d = this.originY -
                this.originY * this.lastScale + this.y, this.scroller.style[l + "Transform"] = v + k + "px," + d + "px" + w + " scale(" + c + ")", this.options.onZoom && this.options.onZoom.call(this, h);
            else {
                this.pointX = c.pageX;
                this.pointY = c.pageY;
                if (0 < k || k < this.maxScrollX) k = this.options.bounce ? this.x + f / 2 : 0 <= k || 0 <= this.maxScrollX ? 0 : this.maxScrollX;
                if (d > this.minScrollY || d < this.maxScrollY) d = this.options.bounce ? this.y + b / 2 : d >= this.minScrollY || 0 <= this.maxScrollY ? this.minScrollY : this.maxScrollY;
                6 > this.absDistX && 6 > this.absDistY ? (this.distX += f, this.distY +=
                    b, this.absDistX = a.abs(this.distX), this.absDistY = a.abs(this.distY)) : (this.options.lockDirection && (this.absDistX > this.absDistY + 5 ? (d = this.y, b = 0) : this.absDistY > this.absDistX + 5 && (k = this.x, f = 0)), this.moved = !0, this._pos(k, d), this.dirX = 0 < f ? -1 : 0 > f ? 1 : 0, this.dirY = 0 < b ? -1 : 0 > b ? 1 : 0, 300 < m - this.startTime && (this.startTime = m, this.startX = this.x, this.startY = this.y), this.options.onScrollMove && this.options.onScrollMove.call(this, h), $.DM.onIscrollScrolls(h))
            }
        },
        _end: function(h) {
            if (!e || 0 == h.touches.length) {
                var c = this,
                    f = e ?
                    h.changedTouches[0] : h,
                    b, k, d = {
                        dist: 0,
                        time: 0
                    },
                    m = {
                        dist: 0,
                        time: 0
                    },
                    g = (h.timeStamp || Date.now()) - c.startTime,
                    p = c.x,
                    q = c.y;
                c._unbind(u);
                c._unbind(x);
                c._unbind(y);
                c.options.onBeforeScrollEnd && c.options.onBeforeScrollEnd.call(c, h);
                if (c.zoomed) p = c.scale * c.lastScale, p = Math.max(c.options.zoomMin, p), p = Math.min(c.options.zoomMax, p), c.lastScale = p / c.scale, c.scale = p, c.x = c.originX - c.originX * c.lastScale + c.x, c.y = c.originY - c.originY * c.lastScale + c.y, c.scroller.style[l + "TransitionDuration"] = "200ms", c.scroller.style[l + "Transform"] =
                    v + c.x + "px," + c.y + "px" + w + " scale(" + c.scale + ")", c.zoomed = !1, c.refresh(), c.options.onZoomEnd && c.options.onZoomEnd.call(c, h);
                else {
                    if (c.moved) {
                        if (300 > g && c.options.momentum) {
                            d = p ? c._momentum(p - c.startX, g, -c.x, c.scrollerW - c.wrapperW + c.x, c.options.bounce ? c.wrapperW : 0) : d;
                            m = q ? c._momentum(q - c.startY, g, -c.y, 0 > c.maxScrollY ? c.scrollerH - c.wrapperH + c.y - c.minScrollY : 0, c.options.bounce ? c.wrapperH : 0) : m;
                            p = c.x + d.dist;
                            q = c.y + m.dist;
                            if (0 < c.x && 0 < p || c.x < c.maxScrollX && p < c.maxScrollX) d = {
                                dist: 0,
                                time: 0
                            };
                            if (c.y > c.minScrollY && q > c.minScrollY ||
                                c.y < c.maxScrollY && q < c.maxScrollY) m = {
                                dist: 0,
                                time: 0
                            }
                        }
                        d.dist || m.dist ? (d = a.max(a.max(d.time, m.time), 10), c.options.snap && (m = p - c.absStartX, g = q - c.absStartY, a.abs(m) < c.options.snapThreshold && a.abs(g) < c.options.snapThreshold ? c.scrollTo(c.absStartX, c.absStartY, 200) : (m = c._snap(p, q), p = m.x, q = m.y, d = a.max(m.time, d))), c.scrollTo(a.round(p), a.round(q), d)) : c.options.snap ? (m = p - c.absStartX, g = q - c.absStartY, a.abs(m) < c.options.snapThreshold && a.abs(g) < c.options.snapThreshold ? c.scrollTo(c.absStartX, c.absStartY, 200) : (m = c._snap(c.x,
                            c.y), m.x == c.x && m.y == c.y || c.scrollTo(m.x, m.y, m.time))) : c._resetPos(200)
                    } else e && (c.doubleTapTimer && c.options.zoom ? (clearTimeout(c.doubleTapTimer), c.doubleTapTimer = null, c.options.onZoomStart && c.options.onZoomStart.call(c, h), c.zoom(c.pointX, c.pointY, 1 == c.scale ? c.options.doubleTapZoom : 1), c.options.onZoomEnd && setTimeout(function() {
                        c.options.onZoomEnd.call(c, h)
                    }, 200)) : c.doubleTapTimer = setTimeout(function() {
                        c.doubleTapTimer = null;
                        for (b = f.target; 1 != b.nodeType;) b = b.parentNode;
                        "SELECT" != b.tagName && "INPUT" !=
                            b.tagName && "TEXTAREA" != b.tagName && (k = document.createEvent("MouseEvents"), k.initMouseEvent("click", !0, !0, h.view, 1, f.screenX, f.screenY, f.clientX, f.clientY, h.ctrlKey, h.altKey, h.shiftKey, h.metaKey, 0, null), k._fake = !0, b.dispatchEvent(k))
                    }, c.options.zoom ? 250 : 0)), c._resetPos(200);
                    c.options.onTouchEnd && c.options.onTouchEnd.call(c, h)
                }
            }
        },
        _resetPos: function(a) {
            var c = 0 <= this.x ? 0 : this.x < this.maxScrollX ? this.maxScrollX : this.x,
                f = this.y >= this.minScrollY || 0 < this.maxScrollY ? this.minScrollY : this.y < this.maxScrollY ? this.maxScrollY :
                this.y;
            c == this.x && f == this.y ? (this.moved && (this.moved = !1, this.options.onScrollEnd && this.options.onScrollEnd.call(this)), this.hScrollbar && this.options.hideScrollbar && ("webkit" == l && (this.hScrollbarWrapper.style[l + "TransitionDelay"] = "300ms"), this.hScrollbarWrapper.style.opacity = "0"), this.vScrollbar && this.options.hideScrollbar && ("webkit" == l && (this.vScrollbarWrapper.style[l + "TransitionDelay"] = "300ms"), this.vScrollbarWrapper.style.opacity = "0")) : this.scrollTo(c, f, a || 0)
        },
        _wheel: function(a) {
            if ($.DM.isUseLayout() &&
                "none" == this.options.wheelAction || 0 < this.maxScrollY || parseInt(a.currentTarget.style.height) < this.wrapperH) return !1;
            var c = this,
                f, b;
            "wheelDeltaX" in a ? (f = a.wheelDeltaX / 12, b = a.wheelDeltaY / 2) : "wheelDelta" in a ? f = b = a.wheelDelta : "detail" in a && (2 === a.axis ? (b = 10 * -a.detail, f = 0) : (f = 3 * -a.detail, b = 0));
            "zoom" == c.options.wheelAction ? (b = c.scale * Math.pow(2, 1 / 3 * (b ? b / Math.abs(b) : 0)), b < c.options.zoomMin && (b = c.options.zoomMin), b > c.options.zoomMax && (b = c.options.zoomMax), b != c.scale && (!c.wheelZoomCount && c.options.onZoomStart &&
                c.options.onZoomStart.call(c, a), c.wheelZoomCount++, c.zoom(a.pageX, a.pageY, b, 400), setTimeout(function() {
                    c.wheelZoomCount--;
                    !c.wheelZoomCount && c.options.onZoomEnd && c.options.onZoomEnd.call(c, a)
                }, 400))) : (window.editorParent.$ && window.editorParent.$.deselectAllEditableElements && null != window.editorParent.NEFW && null != window.editorParent.$.dmfw.setPreviewEditPolicy && 0 == window.editorParent.$.dmfw.getPreviewElement(".dmLocked").length && window.editorParent.$.deselectAllEditableElements(), $.DM.onIscrollScrolls(a),
                f = c.x + f, b = c.y + b, 0 < f ? f = 0 : f < c.maxScrollX && (f = c.maxScrollX), b > c.minScrollY ? b = c.minScrollY : b < c.maxScrollY && (b = c.maxScrollY), c.scrollTo(f, b, 0), a.stopPropagation(), a.preventDefault())
        },
        _mouseout: function(a) {
            var c = a.relatedTarget;
            if (c)
                for (; c = c.parentNode;)
                    if (c == this.wrapper) return;
            this._end(a)
        },
        _transitionEnd: function(a) {
            a.target == this.scroller && (this._unbind("webkitTransitionEnd"), this._startAni())
        },
        _startAni: function() {
            var h = this,
                c = h.x,
                b = h.y,
                d = Date.now(),
                k, m;
            h.animating || (h.steps.length ? (k = h.steps.shift(),
                k.x == c && k.y == b && (k.time = 0), h.animating = !0, h.moved = !0, h.options.useTransition ? (h._transitionTime(k.time), h._pos(k.x, k.y), h.animating = !1, k.time ? h._bind("webkitTransitionEnd") : h._resetPos(0)) : function A() {
                    var g = Date.now(),
                        p;
                    g >= d + k.time ? (h._pos(k.x, k.y), h.animating = !1, h.options.onAnimationEnd && h.options.onAnimationEnd.call(h), h._startAni()) : (g = (g - d) / k.time - 1, m = a.sqrt(1 - g * g), g = (k.x - c) * m + c, p = (k.y - b) * m + b, h._pos(g, p), h.animating && (h.aniTime = n(A)))
                }()) : h._resetPos(400))
        },
        _transitionTime: function(a) {
            a += "ms";
            this.scroller.style[l + "TransitionDuration"] = a;
            this.hScrollbar && (this.hScrollbarIndicator.style[l + "TransitionDuration"] = a);
            this.vScrollbar && (this.vScrollbarIndicator.style[l + "TransitionDuration"] = a)
        },
        _momentum: function(b, c, f, k, d) {
            c = a.abs(b) / c;
            var m = c * c / .0012;
            0 < b && m > f ? (f += d / (6 / (m / c * 6E-4)), c = c * f / m, m = f) : 0 > b && m > k && (k += d / (6 / (m / c * 6E-4)), c = c * k / m, m = k);
            return {
                dist: m * (0 > b ? -1 : 1),
                time: a.round(c / 6E-4)
            }
        },
        _offset: function(a) {
            for (var c = -a.offsetLeft, b = -a.offsetTop; a = a.offsetParent;) c -= a.offsetLeft, b -= a.offsetTop;
            a != this.wrapper && (c *= this.scale, b *= this.scale);
            return {
                left: c,
                top: b
            }
        },
        _snap: function(b, c) {
            var f, k, d;
            d = this.pagesX.length - 1;
            f = 0;
            for (k = this.pagesX.length; f < k; f++)
                if (b >= this.pagesX[f]) {
                    d = f;
                    break
                }
            d == this.currPageX && 0 < d && 0 > this.dirX && d--;
            b = this.pagesX[d];
            k = (k = a.abs(b - this.pagesX[this.currPageX])) ? a.abs(this.x - b) / k * 500 : 0;
            this.currPageX = d;
            d = this.pagesY.length - 1;
            for (f = 0; f < d; f++)
                if (c >= this.pagesY[f]) {
                    d = f;
                    break
                }
            d == this.currPageY && 0 < d && 0 > this.dirY && d--;
            c = this.pagesY[d];
            f = (f = a.abs(c - this.pagesY[this.currPageY])) ?
                a.abs(this.y - c) / f * 500 : 0;
            this.currPageY = d;
            d = a.round(a.max(k, f)) || 200;
            return {
                x: b,
                y: c,
                time: d
            }
        },
        _bind: function(a, c, b) {
            (c || this.scroller).addEventListener(a, this, !!b)
        },
        _unbind: function(a, c, b) {
            (c || this.scroller).removeEventListener(a, this, !!b)
        },
        destroy: function() {
            this.scroller.style[l + "Transform"] = "";
            this.vScrollbar = this.hScrollbar = !1;
            this._scrollbar("h");
            this._scrollbar("v");
            this._unbind(m, window);
            this._unbind(p);
            this._unbind(u);
            this._unbind(x);
            this._unbind(y);
            this.options.hasTouch && (this._unbind("mouseout",
                this.wrapper), this._unbind(z));
            this.options.useTransition && this._unbind("webkitTransitionEnd");
            this.options.checkDOMChanges && clearInterval(this.checkDOMTime);
            this.options.onDestroy && this.options.onDestroy.call(this)
        },
        refresh: function() {
            var b, c, f, k = 0;
            c = 0;
            this.scale < this.options.zoomMin && (this.scale = this.options.zoomMin);
            this.wrapperW = this.wrapper.clientWidth || 1;
            this.wrapperH = this.wrapper.clientHeight || 1;
            this.minScrollY = -this.options.topOffset || 0;
            this.scrollerW = a.round(this.scroller.offsetWidth * this.scale);
            this.scrollerH = a.round((this.scroller.offsetHeight + this.minScrollY) * this.scale);
            this.maxScrollX = this.wrapperW - this.scrollerW;
            this.maxScrollY = this.wrapperH - this.scrollerH + this.minScrollY;
            this.dirY = this.dirX = 0;
            this.options.onRefresh && this.options.onRefresh.call(this);
            this.hScroll = this.options.hScroll && 0 > this.maxScrollX;
            this.vScroll = this.options.vScroll && (!this.options.bounceLock && !this.hScroll || this.scrollerH > this.wrapperH);
            this.hScrollbar = this.hScroll && this.options.hScrollbar;
            this.vScrollbar = this.vScroll &&
                this.options.vScrollbar && this.scrollerH > this.wrapperH;
            b = this._offset(this.wrapper);
            this.wrapperOffsetLeft = -b.left;
            this.wrapperOffsetTop = -b.top;
            if ("string" == typeof this.options.snap)
                for (this.pagesX = [], this.pagesY = [], f = this.scroller.querySelectorAll(this.options.snap), b = 0, c = f.length; b < c; b++) k = this._offset(f[b]), k.left += this.wrapperOffsetLeft, k.top += this.wrapperOffsetTop, this.pagesX[b] = k.left < this.maxScrollX ? this.maxScrollX : k.left * this.scale, this.pagesY[b] = k.top < this.maxScrollY ? this.maxScrollY : k.top *
                    this.scale;
            else if (this.options.snap) {
                for (this.pagesX = []; k >= this.maxScrollX;) this.pagesX[c] = k, k -= this.wrapperW, c++;
                this.maxScrollX % this.wrapperW && (this.pagesX[this.pagesX.length] = this.maxScrollX - this.pagesX[this.pagesX.length - 1] + this.pagesX[this.pagesX.length - 1]);
                c = k = 0;
                for (this.pagesY = []; k >= this.maxScrollY;) this.pagesY[c] = k, k -= this.wrapperH, c++;
                this.maxScrollY % this.wrapperH && (this.pagesY[this.pagesY.length] = this.maxScrollY - this.pagesY[this.pagesY.length - 1] + this.pagesY[this.pagesY.length - 1])
            }
            this._scrollbar("h");
            this._scrollbar("v");
            this.zoomed || (this.scroller.style[l + "TransitionDuration"] = "0", this._resetPos(200))
        },
        scrollTo: function(a, c, b, k) {
            var d = a;
            this.stop();
            d.length || (d = [{
                x: a,
                y: c,
                time: b,
                relative: k
            }]);
            a = 0;
            for (c = d.length; a < c; a++) d[a].relative && (d[a].x = this.x - d[a].x, d[a].y = this.y - d[a].y), this.steps.push({
                x: d[a].x,
                y: d[a].y,
                time: d[a].time || 0
            });
            this._startAni()
        },
        getScrollY: function() {
            return this.y
        },
        getScrollX: function() {
            return this.x
        },
        scrollToElement: function(b, c) {
            var k;
            if (b = b.nodeType ? b : this.scroller.querySelector(b)) k =
                this._offset(b), k.left += this.wrapperOffsetLeft, k.top += this.wrapperOffsetTop, k.left = 0 < k.left ? 0 : k.left < this.maxScrollX ? this.maxScrollX : k.left, k.top = k.top > this.minScrollY ? this.minScrollY : k.top < this.maxScrollY ? this.maxScrollY : k.top, c = void 0 === c ? a.max(2 * a.abs(k.left), 2 * a.abs(k.top)) : c, this.scrollTo(k.left, k.top + 36, c)
        },
        scrollToPage: function(a, c, b) {
            this.options.onScrollStart && this.options.onScrollStart.call(this);
            this.options.snap ? (a = "next" == a ? this.currPageX + 1 : "prev" == a ? this.currPageX - 1 : a, c = "next" == c ? this.currPageY +
                1 : "prev" == c ? this.currPageY - 1 : c, a = 0 > a ? 0 : a > this.pagesX.length - 1 ? this.pagesX.length - 1 : a, c = 0 > c ? 0 : c > this.pagesY.length - 1 ? this.pagesY.length - 1 : c, this.currPageX = a, this.currPageY = c, a = this.pagesX[a], c = this.pagesY[c]) : (a *= -this.wrapperW, c *= -this.wrapperH, a < this.maxScrollX && (a = this.maxScrollX), c < this.maxScrollY && (c = this.maxScrollY));
            this.scrollTo(a, c, b || 400)
        },
        disable: function() {
            this.stop();
            this._resetPos(0);
            this.enabled = !1;
            this._unbind(u);
            this._unbind(x);
            this._unbind(y)
        },
        enable: function() {
            this.enabled = !0
        },
        stop: function() {
            this.options.useTransition ?
                this._unbind("webkitTransitionEnd") : k(this.aniTime);
            this.steps = [];
            this.animating = this.moved = !1
        },
        zoom: function(a, c, b, k) {
            var d = b / this.scale;
            this.options.useTransform && (this.zoomed = !0, k = void 0 === k ? 200 : k, a = a - this.wrapperOffsetLeft - this.x, c = c - this.wrapperOffsetTop - this.y, this.x = a - a * d + this.x, this.y = c - c * d + this.y, this.scale = b, this.refresh(), this.x = 0 < this.x ? 0 : this.x < this.maxScrollX ? this.maxScrollX : this.x, this.y = this.y > this.minScrollY ? this.minScrollY : this.y < this.maxScrollY ? this.maxScrollY : this.y, this.scroller.style[l +
                "TransitionDuration"] = k + "ms", this.scroller.style[l + "Transform"] = v + this.x + "px," + this.y + "px" + w + " scale(" + b + ")", this.zoomed = !1)
        },
        isReady: function() {
            return !this.moved && !this.zoomed && !this.animating
        }
    };
    "undefined" !== typeof exports ? exports.iScroll = g : window.iScroll = g
})();
(function(a) {
    function l(b) {
        return (b = a(b).attr("href")) ? 0 === b.indexOf("http://") : !1
    }

    function r(a) {
        return 0 == a ? function(a) {
            return !a.hasClass("dmSub")
        } : function(d) {
            return d.hasClass("dmSub" + (2 == a ? "2" : ""))
        }
    }
    var e = {
        _is_touch_device: a.DM.testTouch(),
        _layoutDomReady: !1,
        _isEditorMode: !1,
        _isEDMode: !1,
        _variationClassPrefix: "-var",
        _widgetClassPrefix: "widgetStyle-",
        _NEW_PAGES_PREFIX: "dmwlp://",
        _NEW_PAGE_LOC: "http://bfs._dudamobile.com",
        _layoutParams: {
            _navigationAnimationStyle: "slide"
        }
    };
    a.extend(e._layoutParams,
        Parameters.LayoutParams);
    a.extend({
        layoutManager: e
    });
    a(document).ready(function(b) {
        a.layoutManager._isEditorMode = a.DM.getQueryParam(window.location.href, "nee") ? !0 : !1;
        a.layoutManager._isEDMode = a.DM.getQueryParam(window.location.href, "ed") ? !0 : !1;
        a.layoutManager._isEditorMode && "DESKTOP" === a.layoutDevice.type.toUpperCase() && a.layoutDevice.addParallaxBehavior();
        0 < a("#dm").find("[data-background-parallax-selector]").length && !a.browser.msie && "DESKTOP" == a.layoutDevice.type.toUpperCase() || a.layoutManager._isEditorMode &&
            "undefined" != typeof window.parent.window.DF && window.parent.window.DF.parallaxPromise.resolve();
        a.extend(a.layoutDevice.components, a.commonComponents);
        for (var d in a.layoutDevice.components) b = a.layoutDevice.components[d].selector, b || (b = "#", a.layoutDevice.components[d].getByClass && (b = "."), b += d), 0 == a(b).length ? a.layoutDevice.components[d] = null : a.layoutDevice.components[d].element = a(b); - 1 == navigator.userAgent.indexOf("Mac OS X") && a("body").addClass("pcCustomScrollbar");
        d = a("body");
        a.layoutManager._isEditorMode &&
            (d.addClass("bodyInsideNee"), d.toggleClass("bodyInsidePT", "PT" === getSafe("editorParent.dm_current_editor")), isDudaone && d.addClass("bodyInsideD1"));
        isDudaone ? d.addClass("d1SiteBody") : d.addClass("dmSiteBody");
        20 > Parameters.ThemeVersion && isDudaone && d.addClass("bodyInsideDudaone");
        isDudaone && a.layoutManager._isEditorMode && !a.layoutManager._isEDMode || a.layoutManager.initLayout();
        a.layoutManager.initNavigation();
        a.layoutDevice.components.iscrollBody && a.layoutDevice.components.iscrollBody.isUseIscroll &&
            !a.layoutManager._isEditorMode ? (a("body").addClass("dmBodyUseIscroll"), a("body").removeClass("dmBodyNoIscroll")) : (a("body").addClass("dmBodyNoIscroll"), a("body").removeClass("dmBodyUseIscroll"));
        a.ua ? (d = "Android" === a.ua.os.name && 2.4 > a.ua.os.version, b = "Windows Phone OS" === a.ua.os.name && 7.5 >= a.ua.os.version) : (d = -1 != navigator.userAgent.indexOf("Android 2"), b = -1 != navigator.userAgent.indexOf("Windows Phone OS 7"));
        (d || b) && a(".supportsFontIcons").removeClass("supportsFontIcons").addClass("noFontIcons");
        a.layoutManager._layoutDomReady = !0
    });
    a(window).load(function() {
        e.updateContainerMinimumHeight()
    });
    a(window).resize(function() {
        e.refreshIscroll()
    });
    e.detectUserAgent = function() {
        var a = navigator.userAgent;
        return a.match(/(iPhone|iPod)/) && a.match(/CriOS/) ? "iPhone-chrome" : a.match(/(iPhone|iPod|iPad)/) ? "iPhone" : a.match(/Android/) ? "android" : a.match(/BlackBerry/) ? "blackberry" : a.match(/Windows Phone/i) || a.match(/iEMobile/i) ? "windowsmobile" : ""
    };
    e.initLayout = function() {
        a.layoutDevice.onReady(a.layoutManager._isEditorMode);
        a.layoutDevice.onLoad(a.layoutManager._isEditorMode)
    };
    e.refreshIscroll = function(b) {
        null == b && a.layoutDevice && (b = a.layoutDevice.components.iscrollBody);
        b && b.iscrollObject && b.iscrollObject.refresh()
    };
    e.reinitIscroll = function(b) {
        null == b && (b = a.layoutDevice.components.iscrollBody);
        b && b.iscrollObject && b.refresh()
    };
    e.getLayoutElement = function() {
        return a.layoutDevice.components
    };
    e.isNee = function() {
        return a.layoutManager._isEditorMode
    };
    e.setCurrentVariation = function(b, d, e) {
        e = e || "mobile";
        for (var g = a(".dm_wrapper").attr("class").split(" "),
                l = "", n = "", k = 0; k < g.length; k++) {
            var m = g[k]; - 1 != m.indexOf(a.layoutManager._variationClassPrefix) && (l = m, n = m.substr(0, m.indexOf(a.layoutManager._variationClassPrefix)) + a.layoutManager._variationClassPrefix + b);
            d && -1 != m.indexOf(a.layoutManager._widgetClassPrefix) && a(".dm_wrapper").removeClass(m)
        }
        a(".dm_wrapper").removeClass(l);
        a(".dm_wrapper").addClass(n);
        a(".dm_wrapper").addClass(d ? d[n] : "");
        Parameters.LayoutVariationID[e] = b;
        a.DM.restoreDefaultNavigationStyles();
        a.DM.initNavbar(!0);
        a.layoutDevice.components.dmNav.cssCalculations()
    };
    e.getCurrentVariation = function(a) {
        return Parameters.LayoutVariationID[a || "mobile"]
    };
    e.setCurrentLayout = function(a, d) {
        Parameters.LayoutID[d || "mobile"] = a
    };
    e.getCurrentLayout = function(a) {
        return Parameters.LayoutID[a || "mobile"]
    };
    e.setCurrentWidgetStyleID = function(a) {
        Parameters.WidgetStyleID = a
    };
    e.getCurrentWidgetStyleID = function() {
        return Parameters.WidgetStyleID
    };
    e.cssCalculations = function() {
        a.layoutDevice.components.dmNav.cssCalculations()
    };
    e.afterDropPositionFoundHook = function() {};
    e.isLayoutDomReady =
        function() {
            return a.layoutManager._layoutDomReady
        };
    e.afterInitNav = function() {
        a.layoutDevice.components.dmNav && a.layoutDevice.components.dmNav.cssCalculations()
    };
    e.isMobileBrowser = function() {
        var a = navigator.userAgent || navigator.vendor || window.opera,
            d = !1;
        if (/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a) ||
            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
                4))) d = !0;
        return d
    };
    e.isWebkitMobileBrowser = function() {
        var b = {},
            d = a.uaMatch(navigator.userAgent);
        b[d.browser] = !0;
        b.version = d.version;
        d = !1;
        if (b.chrome || b.webkit || b.safari) d = !0;
        "blackberry" == e.detectUserAgent() && (d = !1);
        return d
    };
    e.isSafariMobileBrowser = function() {
        return -1 < navigator.userAgent.toLowerCase().indexOf("version/")
    };
    e._is_touch_device = e._is_touch_device && "blackberry" != e.detectUserAgent();
    e.hideAllSubItems = function() {
        a.layoutDevice.components.slideDownNav ? a.layoutDevice.components.slideDownNav.refresh() :
            a.layoutDevice.components.slideUpNav ? a.layoutDevice.components.slideUpNav.refresh() : a.layoutDevice.components.slideRightNav && a.layoutDevice.components.slideRightNav.refresh()
    };
    e.openAppropriateSub = function() {
        var b = window.location.hash.slice(1),
            d = a.DM.getPageUrlByPageId(b),
            e, g;
        a(".dmNavigation li:not(.listBtnHidden) a").each(function() {
            var l = a(this),
                n = unescape(a.DM.getQueryParam(l.attr("href"), "url") || l.attr("href"));
            e = document.createElement("a");
            e.href = n;
            g = "#" == n ? "#" : e.pathname;
            if (null != n && null !=
                d && (n === d && ("/" !== g || e.search) || a.dmrt.isEditorMode && "MOBILE" === Parameters.SiteType && n === Parameters.CurrentPageUrl || g === d || ("http://dmbfs" === d || d === Parameters.CurrentPageUrl) && g === window.location.pathname && (a.dmrt.isEditorMode || "/" !== g || "/" === g && Parameters.IsCurrentHomePage)) && (!a.dmrt.isEditorMode || !n.match(/(http(s?)\:\/\/){1}[^\/]+(\/?)$/g)) || a.dmrt.isEditorMode && "" != b && a(this).attr("raw_url") && a.DM.getPageFromCache(b).pageContent.alias == a(this).attr("raw_url").split("/").pop() || (null == d || "null" ==
                    d || d.startsWith(a.layoutManager._NEW_PAGES_PREFIX) || d == a.layoutManager._NEW_PAGE_LOC) && a(this).is(".dmNavItemSelected\x3ea")) {
                var k = l.parent();
                if (k.hasClass("hasdmSub")) a.layoutManager.showSpecificSubs(a(this).parent());
                else if (k.hasClass("dmSub")) {
                    for (n = r(k.hasClass("dmSub2") ? 1 : 0); !k.hasClass("hasdmSub") || !n(k);) k = k.prev();
                    a.layoutManager.showSpecificSubs(k)
                }
                l.parents(".dmNavigation").find("a").removeClass("currentPage");
                l.addClass("currentPage");
                return !1
            }
        });
        a.layoutDevice.components.dmNav && a.layoutDevice.components.dmNav.cssCalculations()
    };
    e.getCurrentNavigationItemSelected = function(b, d) {
        b || (b = a(".dmNavWrapper, .dmNavigation, .dmNavigationWithLink"), d = !0);
        var e = null,
            g = a.DM.getCurrentPageUrl(),
            l = g.replace("\x26preview\x3dtrue", "").replace("\x26dm_try_mode\x3dtrue", ""),
            n = location.hash,
            k = n ? n.substring(1) : null;
        b.find("a").each(function() {
            var b = a(this).data("target-page-alias") || a(this).attr("href");
            b && -1 != b.indexOf("?url\x3d") && (b = unescape(a.DM.getQueryParam(a(this).attr("href"), "url")));
            b && "DUDAONE" == Parameters.SiteType && (-1 < b.indexOf("?") &&
                (b = b.substr(0, b.indexOf("?"))), 0 == b.indexOf("/site/") ? b = b.split(b.split("/")[2] + "/")[1] : 0 == b.indexOf("/") && (b = b.substr(1, b.length)), -1 < b.indexOf("#") && !(-1 < b.indexOf("#!")) && (b = b.split("#")[0]), "" === b && (b = "home"));
            if (null != b && null != g && (b === g || b === l)) {
                if ("DUDAONE" == Parameters.SiteType) {
                    var p = b = null,
                        u = a(this).attr("href").split("#");
                    1 < u.length && !u[1].startsWith("!") && (b = "#" + u[1], p = u[1]);
                    if ((b || n) && b != n) try {
                        if (a("#" + k + "[data-anchor]").length || a("#" + p + "[data-anchor]").length) return
                    } catch (x) {}
                }
                null == e ?
                    e = a(this) : d && (e = e.add(a(this)))
            }
        });
        return e
    };
    e.markCurrentSelectedNavigation = function(b) {
        if (isDudaone || !a.layoutManager.markedSelected) {
            var d = a(".dmNavWrapper, .dmNavigation, .dmNavigationWithLink");
            d.find("li").removeClass("dmNavItemSelected").end().find("a").removeClass("currentPage");
            d.each(function() {
                var d = a(this),
                    g;
                b && d.data("cachedElement") ? g = d.data("cachedElement") : (g = a.layoutManager.getCurrentNavigationItemSelected(d)) && g.length && (g = g.eq(0));
                if (!d.find(".dmNavItemSelected").hasClass("dmNavKeepSelected")) {
                    var e =
                        d.find(".navItemSelectedServer");
                    0 < e.size() ? (d.find("li").removeClass("dmNavItemSelected"), d.find("a").removeClass("currentPage"), e.removeClass("navItemSelectedServer"), e.addClass("dmNavItemSelected"), e.find(" \x3e a").addClass("currentPage"), d.data("cachedElement", e.find(" \x3e a"))) : (e = d.find("a.currentPage").eq(0), !g || e.html() == g.html() && 2 != g.closest("ul").find(".dmNavItemSelected").length || (d.find("li").removeClass("dmNavItemSelected"), d.find("a").removeClass("currentPage"), g.addClass("currentPage"),
                        g.closest("li").addClass("dmNavItemSelected"), d.data("cachedElement", g)));
                    a.layoutManager.finalizeMenu()
                }
                d.find(".dmNavKeepSelected").removeClass("dmNavKeepSelected")
            });
            a.layoutManager.markedSelected = !0
        }
    };
    e.finalizeMenu = function() {
        0 < a(".dmNavigation .dmNavItemSelected").not(".dmHideFromNav").length && a(".dmNavigationWithLink .slideDownTrigger, .dmNavigationWithLink .slideUpTrigger").addClass("dmNavItemSelected");
        0 < a(".desktopTopNavMoreBtn .dmNavItemSelected").length && a("#upperFloatingNav .desktopTopNavMoreBtn").addClass("dmNavItemSelected");
        0 < a("#upperFloatingNav .dmNavItemSelected.dmSub, .dmLinksMenu .dmNavItemSelected.dmSub").length && a("#upperFloatingNav .dmNavItemSelected.dmSub, .dmLinksMenu .dmNavItemSelected.dmSub").parents("li").last().addClass("dmNavItemSelected")
    };
    e.onAjaxLinkClick = function(b) {
        var d = b.attr("href") && "#" != b.attr("href");
        d && a.layoutManager.closeAllOpenedNavs(void 0, !0);
        d && isDudaone || (a(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer dmNavItemSelected"), b.is(".dmNavWrapper *") && (b.closest("li").addClass("dmNavItemSelected"),
            b.addClass("currentPage")));
        a.layoutDevice.handlePageSeoSettingsPerDevice && a.layoutDevice.handlePageSeoSettingsPerDevice()
    };
    e.layoutAfterAjax = function(b) {
        a.layoutManager.markCurrentSelectedNavigation()
    };
    e.initNavigation = function() {
        var b = !1,
            d = null,
            e = null,
            g = a.DM.isTouchDevice && !a.DM.isIOS() ? "touchend.menu" : "click.menu";
        a("#slideDownNav a, #slideUpNav a").off("touchstart.menu").on("touchstart.menu", function(a) {
            b = !1;
            d = a.originalEvent.targetTouches[0].pageX;
            e = a.originalEvent.targetTouches[0].pageY
        }).off("touchmove.menu").on("touchmove.menu",
            function(a) {
                if (10 < Math.abs(a.originalEvent.targetTouches[0].pageY - e) || Math.abs(a.originalEvent.targetTouches[0].pageX - d)) b = !0
            }).filter(function() {
            return !l(a(this))
        }).off(g).on(g, function(d) {
            var e = a(this),
                k = e.is(Parameters.LinksToAjax),
                m = !1,
                g = e.attr("href");
            if (!b) return e.parent().hasClass("hasdmSub") ? (l(e), e.attr("href") && "" != e.attr("href") && "#" != e.attr("href")) ? l(e) || (a.layoutManager.isNee() && (a.DM.isAjaxLink(e) && window.editorParent.$ && window.editorParent.$.dmfw && window.editorParent.$.dmfw.showLoadingInEmulator(),
                window.editorParent.$ && window.editorParent.$.dmfw && window.editorParent.$.dmfw.previewNavigateTo({
                    url: e.attr("href"),
                    navigateWithAjax: !0,
                    el: e,
                    e: d
                })), m = !0) : (d.preventDefault(), "0" == e.parent().next(".dmSub").css("opacity") ? a.layoutManager.showSpecificSubs(e.parent()) : "1" == e.parent().next(".dmSub").css("opacity") && a.layoutManager.hideSpacificSubs(e.parent())) : (a.layoutManager.isNee() && (d.preventDefault(), window.editorParent.$ && window.editorParent.$.dmfw && (a.DM.isAjaxLink(e) && window.editorParent.$.dmfw.showLoadingInEmulator(),
                l(this) || window.editorParent.$.dmfw.previewNavigateTo({
                    url: e.attr("href"),
                    navigateWithAjax: !0,
                    el: e,
                    e: d
                }))), Parameters.AllowAjax && (a(".navItemSelectedServer").removeClass("navItemSelectedServer"), e.parent().addClass("dmNavItemSelected"), e.addClass("currentPage")), m = !0), (k = k && !(null != g && g.startsWith("#") && 1 < g.length) && a.DM.isPermittedOnClickValue(e.attr("onClick")) && !a.DM.isLinkException(g) && "_blank" !== e.attr("target")) && m ? a.DM.ajaxNavigateToLink(g, e, d) : m
        });
        isDudaone && a.layoutManager.handleEmptyNavigation()
    };
    e.handleEmptyNavigation = function() {
        var b = a(".dmNavWrapper").eq(0),
            d = a("div.dmNavTriggerButton"),
            d = a().add(b).add(d);
        0 < b.length && (b = b.children().filter(function() {
            var b = a(this),
                d = !b.is(".dmHideFromNav, .dmDisplay_None, .dmNavTriggerButton, .slideDownTrigger");
            d && a.layoutDevice && a.layoutDevice.type && (d = d && !b.is(".dmHideFromNav-" + a.layoutDevice.type));
            return d
        }), d.toggleClass("dmDisplay_None", 0 === b.length), b = 1 >= b.length, a("body").toggleClass("dm-single-page-nav", b), b || a(".dm-single-page-nav").removeClass("dm-single-page-nav"))
    };
    e.showSpecificSubs = function(b) {
        a.layoutManager.hideAllSubItems();
        b.find(".navItemArrowBg").addClass("pointDown");
        var d = 0,
            e = b,
            g = b.index();
        if (b.is(".dmSub")) {
            for (var l = b; l.is(".dmSub");) l = l.prev();
            g = l.index();
            e = l
        }
        a(".dmNavigation li:gt(" + Math.max(g - 1, 0) + ")").each(function() {
            a(this).is(e) || (0 == d && a(this).is(".dmSub") && !a(this).is(".dmSub2") ? (a(this).removeClass("dmDisplay_None").css({
                opacity: "0"
            }), a(this).css({
                "-webkit-transform": "translate3d(0px, 0px, 0px)",
                "-moz-transform": "translate(0px,0px)",
                "-ms-transform": "translate(0px, 0px)",
                "-o-transform": "translate(0px, 0px)",
                opacity: "1"
            }), a(this).index() == b.index() && (d = 1)) : 1 == d && a(this).is(".dmSub") ? (a(this).removeClass("dmDisplay_None").css("opacity", "0"), a(this).css({
                "-webkit-transform": "translate3d(0px, 0px, 0px)",
                "-moz-transform": "translate(0px,0px)",
                "-ms-transform": "translate(0px, 0px)",
                "-o-transform": "translate(0px, 0px)",
                opacity: "1"
            }), a(this).is(".dmSub2") || (d = 0)) : a(this).is(".dmSub2") || (d = 2))
        });
        a.layoutDevice.components.slideDownNav ? (a.layoutDevice.components.slideDownNav.refresh(),
            a.layoutDevice.components.slideDownNav.element.find("li").eq(-1).addClass("liRemoveBorder")) : a.layoutDevice.components.slideUpNav ? a.layoutDevice.components.slideUpNav.refresh() : a.layoutDevice.components.slideRightNav && a.layoutDevice.components.slideRightNav.refresh()
    };
    e.hideSpacificSubs = function(b) {
        b.find(".navItemArrowBg").removeClass("pointDown");
        b.index();
        var d = b.is(".dmSub") ? "dmSub2" : "dmSub";
        b.nextUntil(":not(." + d + ")").each(function() {
            1 == a(this).css("opacity") && (a(this).css({
                "-webkit-transform": "translate3d(0px,0px, 0px)",
                "-moz-transform": "translate(0px,0px)",
                "-ms-transform": "translate(0px,0px)",
                "-o-transform": "translate(0px,0px)"
            }), a(this).css("opacity", "0"), a(this).addClass("dmDisplay_None"))
        });
        a.layoutDevice.components.slideDownNav ? (a.layoutDevice.components.slideDownNav.refresh(), a.layoutDevice.components.slideDownNav.element.find("li").filter(function() {
                return 1 == a(this).css("opacity")
            }).eq(-1).addClass("liRemoveBorder")) : a.layoutDevice.components.slideUpNav ? a.layoutDevice.components.slideUpNav.refresh() : a.layoutDevice.components.slideRightNav &&
            a.layoutDevice.components.slideRightNav.refresh()
    };
    e.initHomeLinkAnchor = function() {
        a.layoutManager._is_touch_device ? a("#dm-logo-anchor").unbind("touchstart.t").bind("touchstart.t", function(b) {
            a.layoutManager.closeAllOpenedNavs()
        }) : a("#dm-logo-anchor").unbind("click.menu").bind("click.menu", function(b) {
            a.layoutManager.closeAllOpenedNavs()
        })
    };
    e.closeAllOpenedNavs = function(b, d) {
        function e() {
            a.layoutManager._closeAllOpenedNavs();
            b && b()
        }
        var g = a.layoutManager.isIOS() ? 300 : 0;
        d && 0 < g ? setTimeout(e, g) : e()
    };
    e._closeAllOpenedNavs =
        function() {
            window.editorParent && window.editorParent.$ && window.editorParent.$.dmx && window.editorParent.$.dmx.preventNavClose || (a.layoutDevice.components.slideDownNav && a.layoutDevice.components.slideDownNav.slideDownNavHandlerImpl(!1, !0), a.layoutDevice.components.slideUpNav && a.layoutDevice.components.slideUpNav.slideUpNavHandlerImpl(!1, !0), a.layoutDevice.components.slideRightNav && a.layoutDevice.components.slideRightNav.toggleMenu("close"), a.layoutDevice.components.upperFloatingNav && a.layoutDevice.components.upperFloatingNav.hideSubnav(),
                a.layoutDevice.components.popupNav && a.layoutDevice.components.popupNav.hidePopupNav())
        };
    e.initInnerPageTitle = function(b) {
        if (b && a.layoutDevice.components.innerBar) {
            var d = a.layoutDevice.components.innerBar.element.find(".innerPageTitle"),
                e = a.layoutDevice.components.innerBar.element.find("#dmBackBtn"),
                g = a.layoutDevice.components.innerBar.element.find("#pageTitleText");
            0 == d.length && (d = a("\x3cdiv\x3e\x3c/div\x3e"), 0 < g.length ? g.append(d) : 0 < e.length ? d.insertAfter(e) : a.layoutDevice.components.innerBar.element.append(d),
                d.addClass("innerPageTitle"));
            d.text(b.page_title)
        }
        a.layoutDevice.initInnerPageTitle && a.layoutDevice.initInnerPageTitle(b)
    };
    e.setSelected = function(a, d) {
        a.toggleClass("dmNavItemSelected", d);
        return a
    };
    e.isIOS7 = function() {
        return -1 != a.layoutManager.detectUserAgent().indexOf("iPhone") && navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i)
    };
    e.isPortrait = function() {
        return window.innerHeight > window.innerWidth ? !0 : !1
    };
    e.updateContainerMinimumHeight = function() {
        var b = a(".dmRespRowsWrapper"),
            d = window.innerHeight,
            e = a(".dmFooterContainer");
        0 < e.length && (d -= e.outerHeight());
        var g = a("#mobileFooter");
        0 < g.length && (d -= g.outerHeight());
        g = a("#desktopHeaderBox");
        0 < g.length ? d -= g.outerHeight() : (g = a(".dmHeader"), 0 < g.length && (d -= g.outerHeight()));
        g = a("#popupNavHeaderBox");
        0 < g.length && (d -= g.outerHeight());
        //Modernizr.cssvhunit || (b.css("min-height", d + "px"), a(".dmInner").css("minHeight", window.innerHeight + "px"));
        0 < e.length && setTimeout(function() {
            d += window.innerHeight - e[0].getBoundingClientRect().bottom;
            b.css("min-height", d +
                "px")
        }, 0);
        b.removeClass("dmRespRowsWrapperSize6", "dmRespRowsWrapperSize5", "dmRespRowsWrapperSize4", "dmRespRowsWrapperSize3", "dmRespRowsWrapperSize2", "dmRespRowsWrapperSize1");
        950 < d ? b.addClass("dmRespRowsWrapperSize6") : 890 < d ? b.addClass("dmRespRowsWrapperSize5") : 800 < d ? b.addClass("dmRespRowsWrapperSize4") : 700 < d ? b.addClass("dmRespRowsWrapperSize3") : 620 < d ? b.addClass("dmRespRowsWrapperSize2") : b.addClass("dmRespRowsWrapperSize1")
    };
    e.isIOS = function() {
        return /(iPhone|iPad|iPod)/.test(navigator.userAgent)
    };
    e.isAndroidDefaultBrowser = function() {
        return -1 < navigator.userAgent.indexOf("Mozilla/5.0") && -1 < nua.indexOf("Android ") && -1 < nua.indexOf("AppleWebKit") && !(-1 < nua.indexOf("Chrome"))
    }
})(jQuery);
var layoutDeviceComponentInterface = {
    onReadyGlobal: function(a) {},
    onReadyEditorMode: function(a) {},
    onReadyPreviewMode: function(a) {},
    onLoadGlobal: function(a) {},
    onLoadEditorMode: function(a) {},
    onLoadPreviewMode: function(a) {},
    afterAjaxCommand: function(a) {},
    onAjaxLinkClick: function(a, l) {},
    onAjaxLinkBeforeClick: function(a, l) {
        return !0
    }
};
var layoutDeviceInterface = {
    type: "",
    components: {},
    onReady: function(a, l) {},
    onLoad: function(a, l) {},
    getTopFixedElementsOffset: function() {
        return 0
    },
    getBottomFixedElementsOffset: function() {
        return 0
    },
    initInnerBar: function() {},
    onAjaxLinkClick: function(a, l) {}
};
(function(a) {
    function l() {
        return a.layoutManager._isEditorMode && parent.window.$.dmfw && parent.window.$.dmfw.newInlineEditing
    }

    function r() {
        this.element = null
    }

    function e() {
        this.element = a("#upperFloatingNav")
    }

    function b() {
        this.element = a(".dmLinksMenu \x3e ul")
    }

    function d() {
        this.slideTrigger = this.iscrollObject = this.element = null;
        this.slideDownNavHandlerImpl = function(b, d, e) {
            function g() {
                l.hide();
                n.element.css("visibility", "visible");
                l.off("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd")
            }
            var l, n = this;
            l = a(document.getElementById("slideDownNav"));
            if ("undefined" == typeof b || null === b) b = !0;
            d || (d = !1);
            e || (e = !1);
            this.element.stop();
            this.element.unbind("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd");
            this.element.css("display", "block");
            b ? a("#slideDownNav").css({
                "-webkit-transition-duration": ".5s",
                "-moz-transition-duration": ".5s",
                "-o-transition-duration": ".5s",
                "-ms-transition-duration": ".5s"
            }) : (a("#slideDownNav").css({
                "-webkit-transition-duration": "0s",
                "-moz-transition-duration": "0s",
                "-o-transition-duration": "0s",
                "-ms-transition-duration": "0s"
            }), n.element.css("visibility", "visible"));
            var q = a("#dmRoot");
            if (0 < l.length && l.hasClass("dmSlideNavClose") && !d || e) l.scrollTop(0), l.removeClass("dmSlideNavClose").removeClass("menuClosed"), l.addClass("dmSlideNavOpen"), a.layoutManager.isNee() && a(document.querySelectorAll(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext")).addClass("inlineEditorBarsLowZindex"),
                l.show(), e = this.element.parent(), e.is(".fixedPart") && "fixed" === e.css("position") ? (this.element.css("overflow", "auto"), q.css("overflow", "hidden"), q.css("position", "fixed")) : this.element.css("overflow", "visible"), a.layoutManager.hideAllSubItems(), a.layoutManager.setSelected(a(".slideDownTrigger"), !0).siblings("li").removeClass("dmNavItemSelected"), a.layoutManager.openAppropriateSub(), a.layoutDevice.components.slideDownNav.element.find("li").filter(function() {
                    return 1 === a(this).css("opacity")
                }).eq(-1).addClass("liRemoveBorder"),
                "slide" === a.layoutManager._layoutParams._navigationAnimationStyle ? l.css({
                    "-webkit-transform": "translate3d(0px, 0px, 0px)",
                    "-o-transform": "translate(0px, 0px)",
                    "-moz-transform": "translate(0px, 0px)",
                    "-ms-transform": "translate(0px, 0px)"
                }) : "scale" === a.layoutManager._layoutParams._navigationAnimationStyle && l.css({
                    "-webkit-transform": "scale3d(1, 1, 1)",
                    "-o-transform": "scale(1, 1)",
                    "-moz-transform": "scale(1, 1)",
                    "-ms-transform": "scale(1, 1)",
                    "-webkit-transform-origin": "0% 0%",
                    "-moz-transform-origin": "0% 0%",
                    "-o-transform-origin": "0% 0%",
                    "-ms-transform-origin": "0% 0%"
                }), a.DM.handleExpandingNav({
                    context: this,
                    isOpen: !0
                });
            else if (l.hasClass("dmSlideNavOpen") && !e || d) l.addClass("dmSlideNavClose").addClass("menuClosed"), l.removeClass("dmSlideNavOpen"), a.layoutManager.isNee() && a(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext").removeClass("inlineEditorBarsLowZindex"), e = this.element.parent(), e.is(".fixedPart") && "fixed" === e.css("position") && (q.css("overflow",
                    "auto"), q.css("position", "static")), b && (this.element.off("webkitTransitionEnd").on("webkitTransitionEnd", g), this.element.off("transitionend").on("transitionend", g), this.element.off("oTransitionEnd").on("oTransitionEnd", g), this.element.off("msTransitionEnd").on("msTransitionEnd", g)), a.layoutManager.setSelected(a(".slideDownTrigger"), !1), b ? "slide" === a.layoutManager._layoutParams._navigationAnimationStyle ? (b = this.element.find("ul").outerHeight(!0), l.css({
                    "-webkit-transform": "translate3d(0px, " + -b + "px, 0px)",
                    "-o-transform": "translate(0px, " + -b + "px)",
                    "-moz-transform": "translate(0px, " + -b + "px)",
                    "-ms-transform": "translate(0px, " + -b + "px)"
                })) : "scale" === a.layoutManager._layoutParams._navigationAnimationStyle && l.css({
                    "-webkit-transform": "scale3d(1, 0, 1)",
                    "-o-transform": "scale(1, 0)",
                    "-moz-transform": "scale(1, 0)",
                    "-ms-transform": "scale(1, 0)",
                    "-webkit-transform-origin": "0% 0%",
                    "-moz-transform-origin": "0% 0%",
                    "-o-transform-origin": "0% 0%",
                    "-ms-transform-origin": "0% 0%"
                }) : l.hide(), b = a("#iscrollBody"), b.length &&
                b.css("height", "auto"), a.layoutManager.hideAllSubItems(), this.slideTrigger && 0 < this.slideTrigger.find(".navItemArrowBg").length && (b = this.slideTrigger.find(".navItemArrowBg"), b.addClass("pointDown")), d ? a.layoutManager.markCurrentSelectedNavigation(!1) : a.layoutManager.markCurrentSelectedNavigation(!0), a.DM.handleExpandingNav({
                    context: this
                })
        };
        this.initSlideDownTrigger = function() {
            var b, d;
            d = this;
            this.slideTrigger && 0 < this.slideTrigger.find(".navItemArrowBg").length && (b = d.slideTrigger.find(".navItemArrowBg"),
                b.addClass("pointDown"));
            a.layoutManager._is_touch_device && this.slideTrigger ? this.slideTrigger.unbind("touchstart.t").bind("touchstart.t", function(a) {
                d.slideDownNavHandlerImpl(null, null, null);
                a.preventDefault();
                a.stopPropagation()
            }) : this.slideTrigger && this.slideTrigger.unbind("click.c").bind("click.c", function(a) {
                d.slideDownNavHandlerImpl(null, null, null);
                a.preventDefault();
                a.stopPropagation()
            })
        }
    }

    function q() {
        this.iscrollObject = this.element = null;
        this.isUseIscroll = !1;
        this.isBodyScrollable = !0;
        this.afterAjaxCommand =
            null
    }

    function g() {
        this.startY = this.slideNavigationObject = this.scrollObject = this.element = null;
        this.scrolled = !1
    }

    function t() {}
    r.prototype = jQuery.extend(!0, {}, layoutDeviceComponentInterface);
    r.prototype.onReadyPreviewMode = function() {
        this.element = a("#innerBar");
        a.layoutDevice.initInnerBar()
    };
    r.prototype.onReadyEditorMode = function() {
        this.onReadyPreviewMode()
    };
    r.prototype.onLoadPreviewMode = function() {};
    r.prototype.onLoadEditorMode = function() {};
    r.prototype.afterAjaxCommand = function(b) {
        a.layoutDevice.initInnerBar(b)
    };
    e.prototype = jQuery.extend(!0, {}, layoutDeviceComponentInterface);
    e.prototype.onReadyEditorMode = function() {
        this.onReadyGlobal()
    };
    e.prototype.onReadyPreviewMode = function() {
        this.onReadyGlobal()
    };
    e.prototype.onLoadEditorMode = function(a) {};
    e.prototype.onLoadPreviewMode = function(a) {};
    e.prototype.hideSubnav = function() {
        "tablet" === a.layoutDevice.type && a("ul#upperFloatingNavigation \x3e li \x3e ul").stop(!0).fadeOut()
    };
    e.prototype.onReadyGlobal = function() {
        a("#upperFloatingNavigation").find("a").off("click.menu").on("click.menu",
            function(b) {
                window.editorParent.$ && window.editorParent.$.dmfw && a.layoutManager.isNee() && !window.editorParent.$.dmpages.isExternalLink(a(this).attr("href")) && (b.stopPropagation(), b.preventDefault(), l() || window.editorParent.$.dmfw.previewNavigateTo({
                    url: a(this).attr("href"),
                    navigateWithAjax: !0,
                    el: a(this),
                    e: b
                }))
            });
        if ("tablet" === a.layoutDevice.type) {
            var b = a("ul#upperFloatingNavigation");
            a.commonComponents.upperFloatingNav.hideSubnav();
            b.off("touchend.subnav click.subnav", "\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn").on("touchend.subnav click.subnav",
                "\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn",
                function() {
                    var b = a(this).find("\x3eul");
                    b.is(":not(:visible)") && (a.commonComponents.upperFloatingNav.hideSubnav(), b.fadeIn().delay(1E4).fadeOut())
                }).off("mouseenter", "\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseenter", "\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn", function() {
                var b = a(this).find("\x3eul");
                b.is(":not(:visible)") && b.fadeIn()
            }).off("mouseleave", "\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseleave", "\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",
                function() {
                    a.commonComponents.upperFloatingNav.hideSubnav()
                })
        }
    };
    e.prototype.onAjaxLinkBeforeClick = function(b) {
        if (b.is("#upperFloatingNavigation li *") && "tablet" === a.layoutDevice.type && b.parent().is(".desktopTopNav.hasdmSub"))
            if (b = b.parent().find("\x3eul"), b.is(":visible")) b.delay(1E3).fadeOut();
            else return this.hideSubnav(), b.fadeIn().delay(1E4).fadeOut(), !1;
        return !0
    };
    e.prototype.onAjaxLinkClick = function(b) {
        b.is("#upperFloatingNavigation li *") && (a("#upperFloatingNavigation").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),
            b.closest("li").addClass("dmNavItemSelected"))
    };
    b.prototype = jQuery.extend(!0, {}, layoutDeviceComponentInterface);
    b.prototype.onReadyEditorMode = function() {
        this.onReadyGlobal()
    };
    b.prototype.onReadyPreviewMode = function() {
        this.onReadyGlobal()
    };
    b.prototype.onLoadEditorMode = function(a) {};
    b.prototype.onLoadPreviewMode = function(a) {};
    b.prototype.hideSubnav = function() {
        "tablet" === a.layoutDevice.type && a(".dmLinksMenu \x3e ul \x3e li \x3e ul").stop(!0).fadeOut()
    };
    b.prototype.onReadyGlobal = function() {
        "tablet" ===
        a.layoutDevice.type && (a(".dmLinksMenu \x3e ul"), a.commonComponents.extensionMenuNav.hideSubnav(), a("#site_content").off("touchend.subnav click.subnav", ".dmLinksMenu \x3e ul \x3eli.hasdmSub:not(:has(\x3ea)), .dmLinksMenu \x3e ul \x3eli.desktopTopNavMoreBtn").on("touchend.subnav click.subnav", ".dmLinksMenu \x3e ul \x3eli.hasdmSub:not(:has(\x3ea)), .dmLinksMenu \x3e ul \x3eli.desktopTopNavMoreBtn", function() {
            var b = a(this).find("\x3eul");
            b.is(":not(:visible)") && (a.commonComponents.extensionMenuNav.hideSubnav(),
                b.fadeIn().delay(1E4).fadeOut())
        }).off("mouseenter", "\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseenter", "\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn", function() {
            var b = a(this).find("\x3eul");
            b.is(":not(:visible)") && b.fadeIn()
        }).off("mouseleave", "\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseleave", "\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn", function() {
            a.commonComponents.extensionMenuNav.hideSubnav()
        }));
        var b = a(".dmLinksMenu .innerUl");
        if (b.length)
            for (var d = 0; d < b.length; d++) {
                var e =
                    b.eq(d),
                    g = e.outerHeight(),
                    l = e.parents("ul").offset().top + e.parents("ul").outerHeight() + 10,
                    n = a("#dm").height();
                g + l > n && (g = e.parent().offset().top, g > n - g ? e.addClass("openAbove") : e.height(n - g).css("overflowY", "scroll"))
            }
    };
    b.prototype.onAjaxLinkBeforeClick = function(b) {
        if (b.is(".dmLinksMenu \x3e ul li *") && "tablet" === a.layoutDevice.type && b.parent().is(".desktopTopNav.hasdmSub"))
            if (b = b.parent().find("\x3eul"), b.is(":visible")) b.delay(1E3).fadeOut();
            else return this.hideSubnav(), b.fadeIn().delay(1E4).fadeOut(), !1;
        return !0
    };
    b.prototype.onAjaxLinkClick = function(b) {
        b.is(".dmLinksMenu \x3e ul li *") && (a(".dmLinksMenu \x3e ul").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"), b.closest("li").addClass("dmNavItemSelected"))
    };
    b.prototype.selector = ".dmLinksMenu \x3e ul";
    d.prototype = jQuery.extend(!0, {}, layoutDeviceComponentInterface);
    d.prototype.initIscroll = function() {
        var b, d = a(document.getElementById("slideDownNav"));
        b = a("#iscrollBody");
        null !==
            this.iscrollObject && (this.iscrollObject.destroy(), this.iscrollObject = null);
        0 < a.layoutDevice.getTopFixedElementsOffset() ? (d.height(a.DM.getPageHeight() - a.layoutDevice.getTopFixedElementsOffset() - 10), this.iscrollObject = new iScroll("slideDownNav", {
                onScrollStart: function() {
                    var d, e, g;
                    b = a("#iscrollBody");
                    d = a(window).height() - b.offset().top;
                    
                    e = a("body").scrollTop();
                    g = a.iOSVersion()[0];
                    7 > g && (d += 60);
                    b.attr("data-top", e).addClass("noScroll").css({
                        height: d,
                        "-webkit-transform": "translate(0, -" + e + "px)",
                        "-moz-transform": "translate(0, -" +
                            e + "px)",
                        "-ms-transform": "translate(0, -" + e + "px)",
                        "-o-transform": "translate(0, -" + e + "px)",
                        transform: "translate(0, -" + e + "px)"
                    });
                    7 > g && window.scrollTo(0, 60)
                },
                onScrollEnd: function() {
                    var b, d;
                    d = a("#iscrollBody");
                    b = d.attr("data-top");
                    d.removeClass("noScroll").css({
                        height: "auto",
                        "-webkit-transform": "translate(0, 0)",
                        "-moz-transform": "translate(0, 0)",
                        "-ms-transform": "translate(0, 0)",
                        "-o-transform": "translate(0, 0)",
                        transform: "translate(0, 0)"
                    });
                    a("body").scrollTop(b)
                },
                bounce: !1
            })) : d.hasClass("dmSlideNavOpen") &&
            d.offset().top + d.find("ul").height() > b.height() && (d = d.offset().top + d.find("ul").height(), b.height(d))
    };
    d.prototype.initLoadGlobal = function() {
        this.initSlideDownTrigger()
    };
    d.prototype.onLoadEditorMode = function() {
        this.initIscroll();
        this.initLoadGlobal()
    };
    d.prototype.onLoadPreviewMode = function() {
        this.initIscroll();
        this.initLoadGlobal()
    };
    d.prototype.onReadyPreviewMode = function() {
        this.element = a("#slideDownNav").addClass("dmNavTriggerButton");
        this.slideTrigger = a(".slideDownTrigger");
        var b = 0;
        this.element.addClass("dmSlideNavClose").addClass("menuClosed");
        a.DM.isBodyScrollable() && (a.layoutManager._is_touch_device && this.element.find(".dmNavigation").unbind("touchstart").bind("touchstart", function() {
            b = event.touches[0].pageY;
            document.getElementById("slideDownNav")
        }), this.element.find(".dmNavigation").unbind("mousewheel DOMMouseScroll touchmove").bind("mousewheel DOMMouseScroll touchmove", function(d) {
            if (!(0 < a(this).parents(".fixedPart").length && "fixed" === a(this).parents(".fixedPart").css("position"))) {
                d.preventDefault();
                var e;
                a.layoutManager._is_touch_device ?
                    (d = b - event.touches[0].pageY, a("html, body").scrollTop(document.body.scrollTop + d)) : (e = document.body.scrollTop, d = event.wheelDelta || -event.detail, e = 0 < d ? e - 40 : e + 40, a("html, body").scrollTop(e))
            }
        }));
        0 === a("#innerBar:visible").length && 10 !== a.layoutManager.getCurrentLayout() && 1 !== a.layoutManager.getCurrentLayout() && this.element.find(".dmNavWrapper").removeClass("dmNavWrapper");
        this.initSlideDownTrigger()
    };
    d.prototype.onReadyEditorMode = function() {
        this.onReadyPreviewMode()
    };
    d.prototype.refresh = function() {
        this.initIscroll()
    };
    q.prototype = jQuery.extend(!0, {}, layoutDeviceComponentInterface);
    g.prototype = jQuery.extend(!0, {}, layoutDeviceComponentInterface);
    g.prototype.onReadyEditorMode = function() {
        this.onReadyGlobal()
    };
    g.prototype.onReadyPreviewMode = function() {
        this.onReadyGlobal()
    };
    g.prototype.onLoadEditorMode = function(a) {
        this.onLoadGlobal(a);
        this.initIscroll()
    };
    g.prototype.onLoadPreviewMode = function(a) {
        this.onLoadGlobal(a);
        this.initIscroll()
    };
    g.prototype.onReadyGlobal = function() {
        var b = this;
        a("#leftSidebar").find("a").off("click.menu").on("click.menu",
            function(d) {
                var e = a(document.getElementById("leftSidebar")),
                    g = a(this).attr("href");
                g && 0 === g.indexOf("http://") || (l() || b.slideNavigationObject.close(), e.find(".navItemSelectedServer").removeClass("navItemSelectedServer"), e.find(".dmNavItemSelected").removeClass("dmNavItemSelected"), a(this).closest("li").addClass("dmNavItemSelected"), a(this).addClass("currentPage"), l() || a.layoutManager.isNee() && window.editorParent.$ && window.editorParent.$.dmfw && window.editorParent.$.dmfw.previewNavigateTo({
                    url: a(this).attr("href"),
                    navigateWithAjax: !0,
                    el: a(this),
                    e: d
                }))
            })
    };
    g.prototype.initIscroll = function() {
        var b = this;
        a("body").css({
            transform: "all .3 ease",
            "-webkit-transform": "all .3 ease"
        });
//        a.DM.loadExternalScriptAsync("/_dm/s/rt/scripts/vendor/inobounce/inobounce.min.js");
        a.layoutManager.getLayoutElement().iscrollBody.element = a("#iscrollBody");
        a.layoutManager.getLayoutElement().iscrollBody.isBodyScrollable = !1;
        var d = function() {
                var b = a("body").scrollTop(),
                    d = a.layoutDevice.getTopFixedElementsOffset();
                a("body").css({
                    width: "100%",
                    height: "100%"
                });
                a("#iscrollBody").css({
                    "-webkit-overflow-scrolling": "touch",
                    height: a(window).height() - d
                });
                b && a("#iscrollBody").scrollTop(b - d);
                a.DM.events.trigger("iscrollBodyResized")
            },
            e = "tablet" === a.layoutDevice.type ? 240 : 190,
            e = {
                element: document.getElementById("dmSlideRightNavRight"),
                disable: "right",
                maxPosition: e,
                minPosition: -1 * e
            };
        l() && (a("#site_content").attr("data-snap-ignore", "true"), a("#dmSlideRightNavRight").attr("data-snap-ignore", "true"));
        b.slideNavigationObject = new Snap(e);
        a("#toggleMenuTrigger").off("click").on("click",
            function() {
                "closed" === b.slideNavigationObject.state().state ? b.slideNavigationObject.open("left") : b.slideNavigationObject.close()
            });
        d();
        a(window).resize(d)
    };
    g.prototype.onLoadGlobal = function(a) {};
    g.prototype.onAjaxLinkClick = function(b) {
        b.is("#leftSidebar li *") && (a("#leftSidebar").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"), b.closest("li").addClass("dmNavItemSelected"));
        this.toggleMenu("close");
        a("#dmSlideRightNavRight").animate({
                scrollTop: 0
            },
            "fast")
    };
    g.prototype.afterAjaxCommand = function(a) {};
    g.prototype.onAjaxLinkBeforeClick = function() {
        return !this.scrolled
    };
    g.prototype.onAjaxLinkTouchStart = function(a, b) {
        this.startY = b.originalEvent.pageY;
        this.scrolled = !1
    };
    g.prototype.onAjaxLinkTouchMove = function(a, b) {
        20 < Math.abs(b.originalEvent.pageY - this.startY) && (this.scrolled = !0)
    };
    g.prototype.toggleMenu = function(a) {
        this.slideNavigationObject && (a && "close" == a ? this.slideNavigationObject.close() : a && "open" == a ? this.slideNavigationObject.open("left") : "closed" ===
            this.slideNavigationObject.state().state ? this.slideNavigationObject.open("left") : this.slideNavigationObject.close())
    };
    g.prototype.refresh = function() {
        this.initIscroll()
    };
    t.prototype.onReadyEditorMode = function() {
        this.onReadyPreviewMode()
    };
    t.prototype.onReadyPreviewMode = function() {
        var b;
        a(document.getElementById("slideDownTrigger")).off("click.openPopupNav").on("click.openPopupNav", t.prototype.openPopupNav);
        (b = document.body) && a(b).toggleClass("menuClosed")
    };
    t.prototype.onLoadEditorMode = function() {};
    t.prototype.hidePopupNav = function() {
        setTimeout(function() {
            var b;
            if (b = document.body) a(b).removeClass("popupNavActive"), a(b).removeClass("menuClosed")
        }, 0)
    };
    t.prototype.onLoadPreviewMode = function() {};
    t.prototype.openPopupNav = function() {
        var b;
        if (b = document.body) a(b).toggleClass("popupNavActive"), a(b).toggleClass("menuClosed")
    };
    var n = {
        iscrollBody: new q,
        innerBar: new r,
        slideDownNav: new d,
        slideRightNav: new g,
        upperFloatingNav: new e,
        extensionMenuNav: new b,
        popupNav: new t
    };
    a.extend({
        commonComponents: n
    })
})(jQuery);
//# sourceMappingURL=d-js-one-runtime-layouts-package.min.js.map