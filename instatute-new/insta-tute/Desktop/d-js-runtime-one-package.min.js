(function(a,g,d){a.resolved=a.Deferred().resolve().promise();a.rejected=a.Deferred().reject().promise();var f=function(a,b,e){var h=/.*(dms3rep\/multi\/)(thumbnail\/|mobile\/|tablet\/|desktop\/)?[^.]*(-\d+x\d+)\.?.*/,f,d=/\/import\/clib\//;if(!h.test(a))return b&&"thumbnail"==b?-1===a.indexOf("/d_gallery_d_thumb_")&&(a=a.replace("/d_gallery","/d_gallery_d_thumb_")):a=a.replace("/d_gallery_d_thumb_","/d_gallery"),a;h=h.exec(a);f=h[2]?h[2]:"";e?(a=h[0],d.test(a)||(a=a.replace(h[3],"")),a=a.replace(h[1]+
f,"")):a=a.replace("dms3rep/multi/"+f,"dms3rep/multi/"+(b?b+"/":""));return a};String.prototype.getMultisizedPath=function(a){return f(this.toString(),a,!1)};String.prototype.revertMultisizedPath=function(){return f(this.toString(),null,!0)};Number.prototype.isPrintableKeycode=function(a){var b=47<this&&58>this||32===this||13===this||64<this&&91>this||95<this&&112>this||185<this&&193>this||218<this&&223>this;a&&13===this&&(b=!1);return b};g.invokeSafe=function(a,b){return getSafeFn(a,b)()};g.getSafeFn=
function(c,b){return getSafe(c,b)||a.noop};g.getSafe=function(a,b){var e,h,f=0;"string"===typeof a?(h=g,e=a):null!==a&&"undefined"!==typeof a&&(h=a,e=b);"string"===typeof e?e=e.split("."):(e=[],h=d);for(;e[f]!==d&&h!==d;)h=h[e[f]],f++;return h};a.extend(a,{getHeightForVisibleRows:function(a,b){var e,h=b.eq(0);e="auto";"auto"!==a&&(e=parseInt(h.css("line-height")),isNaN(e)&&(e=1.19*parseInt(h.css("font-size"))),e=a*e+"px");return e},waitUntil:function(c){var b,e,h=a.Deferred(),f=0;"function"===typeof c&&
(b={conditionFn:c});b=b||{};a.isPlainObject(c)&&a.extend(b,c);b.interval=c.interval||100;b.timeout=c.timeout||3E4;b.conditionFn=b.conditionFn||function(){return!0};e=window.setInterval(function(){f+=b.interval;b.conditionFn(b)?(window.clearInterval(e),h.resolve({duration:f})):f>b.timeout&&h.reject({timeout:b.timeout})},b.interval);return h.promise()},matchHeight:function(c,b,e){e=e||{};b=isNaN(b)?a(b).height():b;e=e.cssProp?e.cssProp:"min-height";a(c).css(e,b+"px")},equalHeight:function(a){var b=
0,e,h;a.each(function(){h=jQuery(this);h.css("minHeight",0);e=h.height();e>b&&(b=e)});a.css("min-height",b+"px")},loadScript:function(){var c={};return function(b,e){var h;e=e||{};window.assetsCacheQueryParam&&(b=-1<b.indexOf("?")?b+window.assetsCacheQueryParam.replace("?","\x26"):b+window.assetsCacheQueryParam);e.isJSONP&&a('script[src^\x3d"'+b+'"]').length||!e.forceLoad&&c[b]?h=a.Deferred().resolve().promise():(e=a.extend(e||{},{dataType:"script",cache:!0,url:b}),h=a.ajax(e).done(function(){c[b]=
!0}));return h}}(),isEditKeyCode:function(a){var b=a.keyCode;return 36<b&&41>b||8==b||"65"==b&&a.ctrlKey}});(function(a,b,e,h){var f=e.body||e.documentElement,f=f.style,d="",g="";""==f.WebkitAnimation&&(d="-webkit-");""==f.MozAnimation&&(d="-moz-");""==f.OAnimation&&(d="-o-");""==f.WebkitTransition&&(g="-webkit-");""==f.MozTransition&&(g="-moz-");""==f.OTransition&&(g="-o-");a.fn.extend({onCSSAnimationEnd:function(b){var e=a(this).eq(0);e.one("webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend",
b);(""!=d||"animation"in f)&&"0s"!=e.css(d+"animation-duration")||b();return this},onCSSTransitionEnd:function(b){var e=a(this).eq(0);e.one("webkitTransitionEnd mozTransitionEnd oTransitionEnd otransitionend transitionend",b);(""!=g||"transition"in f)&&"0s"!=e.css(g+"transition-duration")||b();return this}})})(jQuery,window,document);(function(){window.visibly={q:document,p:d,prefixes:["webkit","ms","o","moz","khtml"],props:["VisibilityState","visibilitychange","Hidden"],m:["focus","blur"],visibleCallbacks:[],
hiddenCallbacks:[],genericCallbacks:[],_callbacks:[],cachedPrefix:"",fn:null,onVisible:function(a){"function"==typeof a&&this.visibleCallbacks.push(a)},onHidden:function(a){"function"==typeof a&&this.hiddenCallbacks.push(a)},getPrefix:function(){if(!this.cachedPrefix)for(var a=0,b;b=this.prefixes[a++];)if(b+this.props[2]in this.q)return this.cachedPrefix=b},visibilityState:function(){return this._getProp(0)},hidden:function(){return this._getProp(2)},visibilitychange:function(a){"function"==typeof a&&
this.genericCallbacks.push(a);var b=this.genericCallbacks.length;if(b)if(this.cachedPrefix)for(;b--;)this.genericCallbacks[b].call(this,this.visibilityState());else for(;b--;)this.genericCallbacks[b].call(this,a)},isSupported:function(a){return this._getPropName(2)in this.q},_getPropName:function(a){return""==this.cachedPrefix?this.props[a].substring(0,1).toLowerCase()+this.props[a].substring(1):this.cachedPrefix+this.props[a]},_getProp:function(a){return this.q[this._getPropName(a)]},_execute:function(a){if(a)for(this._callbacks=
1==a?this.visibleCallbacks:this.hiddenCallbacks,a=this._callbacks.length;a--;)this._callbacks[a]()},_visible:function(){window.visibly._execute(1);window.visibly.visibilitychange.call(window.visibly,"visible")},_hidden:function(){window.visibly._execute(2);window.visibly.visibilitychange.call(window.visibly,"hidden")},_nativeSwitch:function(){this[this._getProp(2)?"_hidden":"_visible"]()},_listen:function(){try{this.isSupported()?this.q.addEventListener(this._getPropName(1),function(){window.visibly._nativeSwitch.apply(window.visibly,
arguments)},1):this.q.addEventListener?(window.addEventListener(this.m[0],this._visible,1),window.addEventListener(this.m[1],this._hidden,1)):this.q.attachEvent&&(this.q.attachEvent("onfocusin",this._visible),this.q.attachEvent("onfocusout",this._hidden))}catch(a){}},init:function(){this.getPrefix();this._listen()}};window.visibly.init()})()})(jQuery,window);!function(a,g,d){g[a]=g[a]||d();"undefined"!=typeof module&&module.exports?module.exports=g[a]:"function"==typeof define&&define.amd&&define(function(){return g[a]})}("Promise","undefined"!=typeof global?global:this,function(){function a(a,m){u.add(a,m);t||(t=k(u.drain))}function g(a){var m,b=typeof a;return null==a||"object"!=b&&"function"!=b||(m=a.then),"function"==typeof m?m:!1}function d(){for(var a=0;a<this.chain.length;a++){var m=1===this.state?this.chain[a].success:this.chain[a].failure,b=
this.chain[a],c=void 0,e=void 0;try{!1===m?b.reject(this.msg):(c=!0===m?this.msg:m.call(void 0,this.msg),c===b.promise?b.reject(TypeError("Promise-chain cycle")):(e=g(c))?e.call(c,b.resolve,b.reject):b.resolve(c))}catch(f){b.reject(f)}}this.chain.length=0}function f(m){var b,h=this;if(!h.triggered){h.triggered=!0;h.def&&(h=h.def);try{(b=g(m))?a(function(){var a=new e(h);try{b.call(m,function(){f.apply(a,arguments)},function(){c.apply(a,arguments)})}catch(d){c.call(a,d)}}):(h.msg=m,h.state=1,0<h.chain.length&&
a(d,h))}catch(l){c.call(new e(h),l)}}}function c(m){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=m,b.state=2,0<b.chain.length&&a(d,b))}function b(a,m,b,c){for(var e=0;e<m.length;e++)!function(e){a.resolve(m[e]).then(function(a){b(e,a)},c)}(e)}function e(a){this.def=a;this.triggered=!1}function h(a){this.promise=a;this.state=0;this.triggered=!1;this.chain=[];this.msg=void 0}function l(m){if("function"!=typeof m)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");
this.__NPO__=1;var b=new h(this);this.then=function(m,c){var e={success:"function"==typeof m?m:!0,failure:"function"==typeof c?c:!1};return e.promise=new this.constructor(function(a,m){if("function"!=typeof a||"function"!=typeof m)throw TypeError("Not a function");e.resolve=a;e.reject=m}),b.chain.push(e),0!==b.state&&a(d,b),e.promise};this["catch"]=function(a){return this.then(void 0,a)};try{m.call(void 0,function(a){f.call(b,a)},function(a){c.call(b,a)})}catch(e){c.call(b,e)}}var p,t,u,n=Object.prototype.toString,
k="undefined"!=typeof setImmediate?function(a){return setImmediate(a)}:setTimeout;try{Object.defineProperty({},"x",{}),p=function(a,m,b,c){return Object.defineProperty(a,m,{value:b,writable:!0,configurable:!1!==c})}}catch(m){p=function(a,m,b){return a[m]=b,a}}u=function(){function a(m,b){this.fn=m;this.self=b;this.next=void 0}var m,b,c;return{add:function(e,h){c=new a(e,h);b?b.next=c:m=c;b=c;c=void 0},drain:function(){var a=m;for(m=b=t=void 0;a;)a.fn.call(a.self),a=a.next}}}();var w=p({},"constructor",
l,!1);return l.prototype=w,p(w,"__NPO__",0,!1),p(l,"resolve",function(a){return a&&"object"==typeof a&&1===a.__NPO__?a:new this(function(m,b){if("function"!=typeof m||"function"!=typeof b)throw TypeError("Not a function");m(a)})}),p(l,"reject",function(a){return new this(function(m,b){if("function"!=typeof m||"function"!=typeof b)throw TypeError("Not a function");b(a)})}),p(l,"all",function(a){var m=this;return"[object Array]"!=n.call(a)?m.reject(TypeError("Not an array")):0===a.length?m.resolve([]):
new m(function(c,e){if("function"!=typeof c||"function"!=typeof e)throw TypeError("Not a function");var h=a.length,f=Array(h),d=0;b(m,a,function(a,m){f[a]=m;++d===h&&c(f)},e)})}),p(l,"race",function(a){var m=this;return"[object Array]"!=n.call(a)?m.reject(TypeError("Not an array")):new m(function(c,e){if("function"!=typeof c||"function"!=typeof e)throw TypeError("Not a function");b(m,a,function(a,m){c(m)},e)})}),l});(function(a,g){g.isReseller=g.isR;g.isWLReseller=g.isWLR;g.isDudaone=g.isMultiScreen})(jQuery,window);(function(a,g){var d={has:function(a,b){return-1!==b.toLowerCase().indexOf(a.toLowerCase())},lowerize:function(a){return a.toLowerCase()}},f=function(){for(var a,b=0,c,e,h,f,d,l=arguments;b<l.length;b+=2){d=l[b];var p=l[b+1];if("undefined"===typeof a)for(h in a={},p)c=p[h],"object"===typeof c?a[c[0]]=g:a[c]=g;for(c=e=0;c<d.length;c++)if(f=d[c].exec(this.getUA())){for(h=0;h<p.length;h++)d=f[++e],c=p[h],"object"===typeof c&&0<c.length?2==c.length?a[c[0]]="function"==typeof c[1]?c[1].call(this,d):c[1]:
3==c.length?a[c[0]]="function"!==typeof c[1]||c[1].exec&&c[1].test?d?d.replace(c[1],c[2]):g:d?c[1].call(this,d,c[2]):g:4==c.length&&(a[c[0]]=d?c[3].call(this,d.replace(c[1],c[2])):g):a[c]=d?d:g;break}if(f)break}return a},c=function(a,b){for(var c in b)if("object"===typeof b[c]&&0<b[c].length)for(var e=0;e<b[c].length;e++){if(d.has(b[c][e],a))return"?"===c?g:c}else if(d.has(b[c],a))return"?"===c?g:c;return a},b={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",
7:"NT 6.1",8:"NT 6.2",RT:"ARM"},e=[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],["name","version","major"],[/\s(opr)\/((\d+)?[\w\.]+)/i],[["name","Opera"],"version","major"],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,
/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],["name","version","major"],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[["name","IE"],"version","major"],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[["name","Yandex"],"version","major"],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[["name",/_/g," "],"version","major"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],["name","version","major"],[/(dolfin)\/((\d+)?[\w\.]+)/i],[["name","Dolphin"],
"version","major"],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[["name","Chrome"],"version","major"],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],["version","major",["name","Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],["version","major","name"],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],["name",["major",c,{1:["/8","/1","/3"],2:"/4","?":"/"}],["version",c,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",
"?":"/"}]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],["name","version","major"],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[["name","Netscape"],"version","major"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,
/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],["name","version","major"]],h=[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
["architecture",d.lowerize]],l=[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/\((ip[honed]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor",
"model",["type","mobile"]],[/\((bb10);\s(\w+)/i],[["vendor","BlackBerry"],"model",["type","mobile"]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+))/i],[["vendor","Asus"],"model",["type","tablet"]],[/(sony)\s(tablet\s[ps])/i],["vendor","model",["type","tablet"]],[/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/((playstation)\s[3portablevi]+)/i],[["vendor","Sony"],"model",["type","console"]],[/(sprint\s(\w+))/i],[["vendor",c,{HTC:"APA",Sprint:"Sprint"}],["model",c,
{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[["vendor","Motorola"],"model",["type","mobile"]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[["vendor","Motorola"],"model",["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9))/i],
[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(sie)-(\w+)*/i],[["vendor","Siemens"],"model",["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[["vendor","Acer"],"model",["type","tablet"]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],
[["vendor","LG"],"model",["type","tablet"]],[/((nexus\s4))/i,/(lg)[e;\s-\/]+(\w+)*/i],[["vendor","LG"],"model",["type","mobile"]],[/(mobile|tablet);.+rv\:.+gecko\//i],["type","vendor","model"]],p=[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],t=[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],
["name",["version",c,b]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",c,b]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids3portablevu]+)/i,
/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",
/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],["name",["version",/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]],u=function(m){var b=m||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:"");if(!(this instanceof u))return(new u(m)).getResult();this.getBrowser=function(){return f.apply(this,e)};this.getCPU=function(){return f.apply(this,h)};this.getDevice=
function(){return f.apply(this,l)};this.getEngine=function(){return f.apply(this,p)};this.getOS=function(){return f.apply(this,t)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return b};this.setUA=function(a){b=a;return this};this.setUA(b)};if("undefined"!==typeof exports)"undefined"!==typeof module&&module.exports&&(exports=module.exports=u),exports.UAParser=u;else if(a.UAParser=
u,"function"===typeof define&&define.amd&&define(function(){return u}),"undefined"!==typeof a.jQuery){var n=a.jQuery,k=new u;n.ua=k.getResult();n.ua.get=function(){return k.getUA()};n.ua.set=function(a){k.setUA(a);a=k.getResult();for(var b in a)n.ua[b]=a[b]}}})(this);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(a){var g="",d,f,c,b,e,h,l=0;for(a=Base64._utf8_encode(a);l<a.length;)d=a.charCodeAt(l++),f=a.charCodeAt(l++),c=a.charCodeAt(l++),b=d>>2,d=(d&3)<<4|f>>4,e=(f&15)<<2|c>>6,h=c&63,isNaN(f)?e=h=64:isNaN(c)&&(h=64),g=g+Base64._keyStr.charAt(b)+Base64._keyStr.charAt(d)+Base64._keyStr.charAt(e)+Base64._keyStr.charAt(h);return g},decode:function(a){var g="",d,f,c,b,e,h=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,
"");h<a.length;)d=Base64._keyStr.indexOf(a.charAt(h++)),f=Base64._keyStr.indexOf(a.charAt(h++)),b=Base64._keyStr.indexOf(a.charAt(h++)),e=Base64._keyStr.indexOf(a.charAt(h++)),d=d<<2|f>>4,f=(f&15)<<4|b>>2,c=(b&3)<<6|e,g+=String.fromCharCode(d),64!=b&&(g+=String.fromCharCode(f)),64!=e&&(g+=String.fromCharCode(c));return g=Base64._utf8_decode(g)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var g="",d=0;d<a.length;d++){var f=a.charCodeAt(d);128>f?g+=String.fromCharCode(f):(127<f&&2048>f?g+=
String.fromCharCode(f>>6|192):(g+=String.fromCharCode(f>>12|224),g+=String.fromCharCode(f>>6&63|128)),g+=String.fromCharCode(f&63|128))}return g},_utf8_decode:function(a){for(var g="",d=0,f=c1=c2=0;d<a.length;)f=a.charCodeAt(d),128>f?(g+=String.fromCharCode(f),d++):191<f&&224>f?(c2=a.charCodeAt(d+1),g+=String.fromCharCode((f&31)<<6|c2&63),d+=2):(c2=a.charCodeAt(d+1),c3=a.charCodeAt(d+2),g+=String.fromCharCode((f&15)<<12|(c2&63)<<6|c3&63),d+=3);return g}};var hexcase=0,b64pad="";function hex_sha1(a){var g=0;a=rstr2hex(rstr_sha1(str2rstr_utf8(a)));for(var d=0;d<a.length;d++)g+=a.charCodeAt(d);return g}function b64_sha1(a){return rstr2b64(rstr_sha1(str2rstr_utf8(a)))}function any_sha1(a,g){return rstr2any(rstr_sha1(str2rstr_utf8(a)),g)}function hex_hmac_sha1(a,g){return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(a),str2rstr_utf8(g)))}function b64_hmac_sha1(a,g){return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(a),str2rstr_utf8(g)))}
function any_hmac_sha1(a,g,d){return rstr2any(rstr_hmac_sha1(str2rstr_utf8(a),str2rstr_utf8(g)),d)}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc").toLowerCase()}function rstr_sha1(a){return binb2rstr(binb_sha1(rstr2binb(a),8*a.length))}
function rstr_hmac_sha1(a,g){var d=rstr2binb(a);16<d.length&&(d=binb_sha1(d,8*a.length));for(var f=Array(16),c=Array(16),b=0;16>b;b++)f[b]=d[b]^909522486,c[b]=d[b]^1549556828;d=binb_sha1(f.concat(rstr2binb(g)),512+8*g.length);return binb2rstr(binb_sha1(c.concat(d),672))}function rstr2hex(a){try{hexcase}catch(g){hexcase=0}for(var d=hexcase?"0123456789ABCDEF":"0123456789abcdef",f="",c,b=0;b<a.length;b++)c=a.charCodeAt(b),f+=d.charAt(c>>>4&15)+d.charAt(c&15);return f}
function rstr2b64(a){try{b64pad}catch(g){b64pad=""}for(var d="",f=a.length,c=0;c<f;c+=3)for(var b=a.charCodeAt(c)<<16|(c+1<f?a.charCodeAt(c+1)<<8:0)|(c+2<f?a.charCodeAt(c+2):0),e=0;4>e;e++)d=8*c+6*e>8*a.length?d+b64pad:d+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b>>>6*(3-e)&63);return d}
function rstr2any(a,g){var d=g.length,f=[],c,b,e,h,l=Array(Math.ceil(a.length/2));for(c=0;c<l.length;c++)l[c]=a.charCodeAt(2*c)<<8|a.charCodeAt(2*c+1);for(;0<l.length;){h=[];for(c=e=0;c<l.length;c++)if(e=(e<<16)+l[c],b=Math.floor(e/d),e-=b*d,0<h.length||0<b)h[h.length]=b;f[f.length]=e;l=h}d="";for(c=f.length-1;0<=c;c--)d+=g.charAt(f[c]);f=Math.ceil(8*a.length/(Math.log(g.length)/Math.log(2)));for(c=d.length;c<f;c++)d=g[0]+d;return d}
function str2rstr_utf8(a){for(var g="",d=-1,f,c;++d<a.length;)f=a.charCodeAt(d),c=d+1<a.length?a.charCodeAt(d+1):0,55296<=f&&56319>=f&&56320<=c&&57343>=c&&(f=65536+((f&1023)<<10)+(c&1023),d++),127>=f?g+=String.fromCharCode(f):2047>=f?g+=String.fromCharCode(192|f>>>6&31,128|f&63):65535>=f?g+=String.fromCharCode(224|f>>>12&15,128|f>>>6&63,128|f&63):2097151>=f&&(g+=String.fromCharCode(240|f>>>18&7,128|f>>>12&63,128|f>>>6&63,128|f&63));return g}
function str2rstr_utf16le(a){for(var g="",d=0;d<a.length;d++)g+=String.fromCharCode(a.charCodeAt(d)&255,a.charCodeAt(d)>>>8&255);return g}function str2rstr_utf16be(a){for(var g="",d=0;d<a.length;d++)g+=String.fromCharCode(a.charCodeAt(d)>>>8&255,a.charCodeAt(d)&255);return g}function rstr2binb(a){for(var g=Array(a.length>>2),d=0;d<g.length;d++)g[d]=0;for(d=0;d<8*a.length;d+=8)g[d>>5]|=(a.charCodeAt(d/8)&255)<<24-d%32;return g}
function binb2rstr(a){for(var g="",d=0;d<32*a.length;d+=8)g+=String.fromCharCode(a[d>>5]>>>24-d%32&255);return g}
function binb_sha1(a,g){a[g>>5]|=128<<24-g%32;a[(g+64>>9<<4)+15]=g;for(var d=Array(80),f=1732584193,c=-271733879,b=-1732584194,e=271733878,h=-1009589776,l=0;l<a.length;l+=16){for(var p=f,t=c,u=b,n=e,k=h,m=0;80>m;m++){d[m]=16>m?a[l+m]:bit_rol(d[m-3]^d[m-8]^d[m-14]^d[m-16],1);var w=safe_add(safe_add(bit_rol(f,5),sha1_ft(m,c,b,e)),safe_add(safe_add(h,d[m]),sha1_kt(m))),h=e,e=b,b=bit_rol(c,30),c=f,f=w}f=safe_add(f,p);c=safe_add(c,t);b=safe_add(b,u);e=safe_add(e,n);h=safe_add(h,k)}return[f,c,b,e,h]}
function sha1_ft(a,g,d,f){return 20>a?g&d|~g&f:40>a?g^d^f:60>a?g&d|g&f|d&f:g^d^f}function sha1_kt(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function safe_add(a,g){var d=(a&65535)+(g&65535);return(a>>16)+(g>>16)+(d>>16)<<16|d&65535}function bit_rol(a,g){return a<<g|a>>>32-g};(function(a){a.belowthefold=function(g,d){return a(window).height()+a(window).scrollTop()<=a(g).offset().top-d.threshold};a.abovethetop=function(g,d){return a(window).scrollTop()>=a(g).offset().top+a(g).height()-d.threshold};a.rightofscreen=function(g,d){return a(window).width()+a(window).scrollLeft()<=a(g).offset().left-d.threshold};a.leftofscreen=function(g,d){return a(window).scrollLeft()>=a(g).offset().left+a(g).width()-d.threshold};a.inviewport=function(g,d){return!a.rightofscreen(g,d)&&!a.leftofscreen(g,
d)&&!a.belowthefold(g,d)&&!a.abovethetop(g,d)};a.extend(a.expr[":"],{"below-the-fold":function(g,d,f){return a.belowthefold(g,{threshold:0})},"above-the-top":function(g,d,f){return a.abovethetop(g,{threshold:0})},"left-of-screen":function(g,d,f){return a.leftofscreen(g,{threshold:0})},"right-of-screen":function(g,d,f){return a.rightofscreen(g,{threshold:0})},"in-viewport":function(g,d,f){return a.inviewport(g,{threshold:0})}})})(jQuery);(function(){function a(){}function g(a,c){for(var b=a.length;b--;)if(a[b].listener===c)return b;return-1}var d=a.prototype;d.getListeners=function(a){var c,b,e=this._getEvents();if("object"==typeof a)for(b in c={},e)e.hasOwnProperty(b)&&a.test(b)&&(c[b]=e[b]);else c=e[a]||(e[a]=[]);return c};d.flattenListeners=function(a){var c,b=[];for(c=0;a.length>c;c+=1)b.push(a[c].listener);return b};d.getListenersAsObject=function(a){var c,b=this.getListeners(a);return b instanceof Array&&(c={},c[a]=b),c||b};
d.addListener=function(a,c){var b,e=this.getListenersAsObject(a),h="object"==typeof c;for(b in e)e.hasOwnProperty(b)&&-1===g(e[b],c)&&e[b].push(h?c:{listener:c,once:!1});return this};d.on=d.addListener;d.addOnceListener=function(a,c){return this.addListener(a,{listener:c,once:!0})};d.once=d.addOnceListener;d.defineEvent=function(a){return this.getListeners(a),this};d.defineEvents=function(a){for(var c=0;a.length>c;c+=1)this.defineEvent(a[c]);return this};d.removeListener=function(a,c){var b,e,h=this.getListenersAsObject(a);
for(e in h)h.hasOwnProperty(e)&&(b=g(h[e],c),-1!==b&&h[e].splice(b,1));return this};d.off=d.removeListener;d.addListeners=function(a,c){return this.manipulateListeners(!1,a,c)};d.removeListeners=function(a,c){return this.manipulateListeners(!0,a,c)};d.manipulateListeners=function(a,c,b){var e,h,d=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=typeof c||c instanceof RegExp)for(e=b.length;e--;)d.call(this,c,b[e]);else for(e in c)c.hasOwnProperty(e)&&(h=
c[e])&&("function"==typeof h?d.call(this,e,h):a.call(this,e,h));return this};d.removeEvent=function(a){var c,b=typeof a,e=this._getEvents();if("string"===b)delete e[a];else if("object"===b)for(c in e)e.hasOwnProperty(c)&&a.test(c)&&delete e[c];else delete this._events;return this};d.emitEvent=function(a,c){var b,e,h,d,g=this.getListenersAsObject(a);for(h in g)if(g.hasOwnProperty(h))for(e=g[h].length;e--;)b=g[h][e],d=b.listener.apply(this,c||[]),d!==this._getOnceReturnValue()&&!0!==b.once||this.removeListener(a,
g[h][e].listener);return this};d.trigger=d.emitEvent;d.emit=function(a){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,c)};d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};d._getEvents=function(){return this._events||(this._events={})};"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=
a:this.EventEmitter=a}).call(this);
(function(a){var g=document.documentElement,d=function(){};g.addEventListener?d=function(a,b,e){a.addEventListener(b,e,!1)}:g.attachEvent&&(d=function(c,b,e){c[b+e]=e.handleEvent?function(){var b=a.event;b.target=b.target||b.srcElement;e.handleEvent.call(e,b)}:function(){var b=a.event;b.target=b.target||b.srcElement;e.call(c,b)};c.attachEvent("on"+b,c[b+e])});var f=function(){};g.removeEventListener?f=function(a,b,e){a.removeEventListener(b,e,!1)}:g.detachEvent&&(f=function(a,b,e){a.detachEvent("on"+
b,a[b+e]);try{delete a[b+e]}catch(h){a[b+e]=void 0}});g={bind:d,unbind:f};"function"==typeof define&&define.amd?define(g):a.eventie=g})(this);
(function(a){function g(a,b){for(var c in b)a[c]=b[c];return a}function d(a){var b=[];if("[object Array]"===h.call(a))b=a;else if("number"==typeof a.length)for(var c=0,e=a.length;e>c;c++)b.push(a[c]);else b.push(a);return b}function f(a,h){function f(a,m,b){if(!(this instanceof f))return new f(a,m);"string"==typeof a&&(a=document.querySelectorAll(a));this.elements=d(a);this.options=g({},this.options);"function"==typeof m?b=m:g(this.options,m);b&&this.on("always",b);this.getImages();c&&(this.jqDeferred=
new c.Deferred);var e=this;setTimeout(function(){e.check()})}function u(a){this.img=a}f.prototype=new a;f.prototype.options={};f.prototype.getImages=function(){this.images=[];for(var a=0,m=this.elements.length;m>a;a++){var b=this.elements[a];"IMG"===b.nodeName&&this.addImage(b);for(var b=b.querySelectorAll("img"),c=0,e=b.length;e>c;c++)this.addImage(b[c])}};f.prototype.addImage=function(a){a=new u(a);this.images.push(a)};f.prototype.check=function(){function a(d,f){return m.options.debug&&e&&b.log("confirm",
d,f),m.progress(d),c++,c===h&&m.complete(),!0}var m=this,c=0,h=this.images.length;if(this.hasAnyBroken=!1,!h)return this.complete(),void 0;for(var d=0;h>d;d++){var f=this.images[d];f.on("confirm",a);f.check()}};f.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var m=this;setTimeout(function(){m.emit("progress",m,a);m.jqDeferred&&m.jqDeferred.notify(m,a)})};f.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var m=this;setTimeout(function(){if(m.emit(a,
m),m.emit("always",m),m.jqDeferred)m.jqDeferred[m.hasAnyBroken?"reject":"resolve"](m)})};c&&(c.fn.imagesLoaded=function(a,m){return(new f(this,a,m)).jqDeferred.promise(c(this))});var n={};return u.prototype=new a,u.prototype.check=function(){var a=n[this.img.src];if(a)return this.useCached(a),void 0;if(n[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;a=this.proxyImage=new Image;h.bind(a,"load",this);h.bind(a,
"error",this);a.src=this.img.src},u.prototype.useCached=function(a){if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else{var m=this;a.on("confirm",function(a){return m.confirm(a.isLoaded,"cache emitted confirmed"),!0})}},u.prototype.confirm=function(a,m){this.isConfirmed=!0;this.isLoaded=a;this.emit("confirm",this,m)},u.prototype.handleEvent=function(a){var m="on"+a.type;this[m]&&this[m](a)},u.prototype.onload=function(){this.confirm(!0,"onload");this.unbindProxyEvents()},u.prototype.onerror=
function(){this.confirm(!1,"onerror");this.unbindProxyEvents()},u.prototype.unbindProxyEvents=function(){h.unbind(this.proxyImage,"load",this);h.unbind(this.proxyImage,"error",this)},f}var c=a.jQuery,b=a.console,e=void 0!==b,h=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],f):a.imagesLoaded=f(a.EventEmitter,a.eventie)})(window);$(document).ready(function(){initHandlers();initBlogs()});
var RSS_CONTAINER_SELECTOR=".dmRssContainer",RSS_CONTAINER_MORE_POSTS_BUTTON="#dmMorePostsButton",RSS_CONTAINER_MORE_POSTS_INNER_DIV=".dmMorePostsButtonClass",POST_ITEM=".dmRssItem",POST_ITEM_LINK=".dmRssA",POST_NEXT_ITEM_ELEMENT="#dmNextItemLink",POST_PREV_ITEM_ELEMENT="#dmPrevItemLink",SEARCH_ELEMENT=".dmSearchElementMain",SEARCH_RESULTS_MAIN_DIV=".dmSearchResultsMain",SEARCH_BUTTON=".dmSearchButton",SEARCH_RESULTS_DIV=".dmSearchResults",SEARCH_INPUT=".dmSearchInput",queryNumber=1,lastSearchTerm=
"",blogItems=[],currentShownPost=new PostItem("");
function initBlogs(){if(0<$(RSS_CONTAINER_SELECTOR).length){blogItems=[];var a=$(POST_ITEM).length;$(POST_ITEM).each(function(a){elm=$(this).find(POST_ITEM_LINK);var f=elm.attr("href");blogItems[a]=new PostItem(f);elm.click(function(c){currentShownPost=blogItems[a]})});for(var g=0;g<blogItems.length;g++)0<g&&(blogItems[g].prevLink=blogItems[g-1].link),g<a-1&&(blogItems[g].nextLink=blogItems[g+1].link)}0<$("#dmPostBackToMain").length&&($("#dmPostBackToMain").css("display","none"),$(Parameters.HomeLinkSelector).attr("href",
$("#dmPostBackToMain").attr("href")))}function initHandlers(){"true"==$(SEARCH_BUTTON).attr("autocomplete")&&$(SEARCH_INPUT).bind("keyup",function(a){search()})}function findPostItem(a){for(var g=0;g<blogItems.length;g++)if(-1!=a.indexOf(blogItems[g].link))return blogItems[g];return null}function PostItem(a){this.link=a;this.nextLink=this.prevLink=""}
function fetchMoreBlogItems(a){if("BLOGGER"==Parameters.WebPlatform)fetchMoreBlogItemsForBlogger(a);else{var g={commandID:"loadMorePosts"};g._url=a;g._morePostsLabel=$(RSS_CONTAINER_MORE_POSTS_INNER_DIV).html();g._editor=$.DM.insideEditor();a="/_dm/s/rt/api/public/wpl/site/"+Parameters.SiteId;var d=$(RSS_CONTAINER_MORE_POSTS_BUTTON).offset().top+2,f=jQuery.DM.getPageWidth()/2-102;if($.browser.msie||$.browser.mozilla)f=jQuery.DM.getPageWidth()/2-125;d=[f,d];setLoaderSize(8,2);jQuery.DM.setLoadingOnScreen(!0,
d,!1);jQuery.DM.assignLoaderColor(RSS_CONTAINER_MORE_POSTS_INNER_DIV);$.ajax({url:a,type:"post",data:JSON.stringify(g),async:!0,contentType:"application/json",error:function(a,b,e){jQuery.DM.setLoadingOnScreen(!1)},success:function(a){var b=$(RSS_CONTAINER_MORE_POSTS_BUTTON);jQuery.DM.setLoadingOnScreen(!1);if(a.postList){var e=$("\x3cdiv\x3e\x3c/div\x3e").append($(a.postList).find(RSS_CONTAINER_SELECTOR)).html();a=$(POST_ITEM_LINK)[$(POST_ITEM).length-1];a=$(a).attr("href");isDudaone||null==$.DM.getQueryParam(a,
"url")||(a=unescape($.DM.getQueryParam(a,"url")));a=$.DM.getQueryParam(a,"post_id");for(var e=$(e),h=$(POST_ITEM_LINK,e),d=-1,f=0;f<h.length;f++){var g=$(h[f]).attr("href");isDudaone||null==$.DM.getQueryParam(g,"url")||(g=unescape($.DM.getQueryParam(g,"url")));if(a==$.DM.getQueryParam(g,"post_id")){d=f;break}}if(-1<d)for(f=0;f<=d;f++)e.find($(h[f])).parent().remove();a=e.html();$(a).insertBefore(b);b.remove();jQuery.DM.initAjaxLinks();jQuery.DM.updateIOSHeight();initBlogs();jQuery.DM.isUseLayout()&&
jQuery.layoutManager.initLayout()}}})}}
function fetchMoreBlogItemsForBlogger(a){a=$(RSS_CONTAINER_MORE_POSTS_BUTTON).attr("href");var g=$(RSS_CONTAINER_MORE_POSTS_BUTTON).offset().top+2,d=jQuery.DM.getPageWidth()/2-102;if($.browser.msie||$.browser.mozilla)d=jQuery.DM.getPageWidth()/2-125;g=[d,g];setLoaderSize(8,2);jQuery.DM.setLoadingOnScreen(!0,g,!1);jQuery.DM.assignLoaderColor(RSS_CONTAINER_MORE_POSTS_INNER_DIV);jQuery.DM.executeAjaxCommand(a,function(a){jQuery.DM.setLoadingOnScreen(!1);a=$(a.content).find(RSS_CONTAINER_SELECTOR).html();var c=
$(RSS_CONTAINER_MORE_POSTS_BUTTON);$(a).insertBefore(RSS_CONTAINER_MORE_POSTS_BUTTON);c.remove();jQuery.DM.initAjaxLinks();jQuery.DM.updateIOSHeight();initBlogs()},function(a,c,b){jQuery.DM.setLoadingOnScreen(!1)})}
function search(){var a=$(SEARCH_ELEMENT),g=$(SEARCH_INPUT).val().trim();if(""==g)queryNumber++,a.empty(),a.css("display","none"),$.DM.darkenPreviewScreen(!1);else if(lastSearchTerm!=g||"none"==a.css("display")){queryNumber++;lastSearchTerm=g;g={commandID:"searchPosts"};g._searchTerm=$(SEARCH_INPUT).val();g._providerType=$(SEARCH_BUTTON).attr("providertype");g._rssURL=$(SEARCH_BUTTON).attr("rssurl");g._openSearchDescriptor=$(SEARCH_BUTTON).attr("opensearchdescriptor");g._maxResults=$(SEARCH_BUTTON).attr("maxresults");
g._queryNumber=queryNumber;var d="/_dm/s/rt/api/public/wpl/site/"+Parameters.SiteId,f=$(SEARCH_INPUT).offset().top+6,f=[$(SEARCH_INPUT).width()+2*$(SEARCH_INPUT).offset().left-40,f];setLoaderSize(5,2);jQuery.DM.setLoadingOnScreen(!0,f,!1);$.ajax({url:d,type:"post",data:JSON.stringify(g),async:!0,contentType:"application/json",error:function(a,b,e){jQuery.DM.setLoadingOnScreen(!1)},success:function(c){c.results&&c.queryNumber==queryNumber&&(a.empty(),0==c.resultsNum?(a.css("display","none"),$.DM.darkenPreviewScreen(!1)):
(c=$(c.results),c.find(SEARCH_RESULTS_MAIN_DIV).html(),a.append(c),a.css("display","block"),a.focus(),$(SEARCH_INPUT).addClass("dmSearchInputWithResults"),$.DM.darkenPreviewScreen(!0),$("#dmBlackWrapper").unbind("click").bind("click",function(){a.css("display","none");$.DM.darkenPreviewScreen(!1)})));jQuery.DM.setLoadingOnScreen(!1)}})}}function closeSearch(){$(SEARCH_ELEMENT).css("display","none");$(SEARCH_INPUT).removeClass("dmSearchInputWithResults");$.DM.darkenPreviewScreen(!1)}
function initSwipeHandlers(){if(!dmNoSwipe){var a=findPostItem(currentShownPost.link);jQuery.DM.initSwipeSelectors(".dmBlogInnerPostPage",function(){if(""!=a.nextLink){currentShownPost=new PostItem(a.nextLink);currentShownPost.prevLink=a.link;var g=findPostItem(a.nextLink);null!=g&&(currentShownPost.nextLink=g.link);jQuery(POST_NEXT_ITEM_ELEMENT).attr("href",a.nextLink);jQuery(POST_NEXT_ITEM_ELEMENT).attr("animationType","forward");jQuery(POST_NEXT_ITEM_ELEMENT).trigger("click");return!0}return!1},
function(){if(""!=a.prevLink){currentShownPost=new PostItem(a.prevLink);currentShownPost.nextLink=a.link;var g=findPostItem(a.prevLink);null!=g&&(currentShownPost.prevLink=g.link);jQuery(POST_PREV_ITEM_ELEMENT).attr("href",a.prevLink);jQuery(POST_PREV_ITEM_ELEMENT).attr("animationType","backward");jQuery(POST_PREV_ITEM_ELEMENT).trigger("click");return!0}return!1})}}
function cropImage(a){$image=$(a);a=new Image;a.src=$image.attr("src");$image.css("position","static");$div=$image.parent();$div.css("overflow","hidden");-1==$image.attr("src").indexOf("transparent.gif")&&$div.css("background","white");width=a.width;height=a.height;divwidth=$div.width();divheight=$div.height();width>height?($image.css("height",""+divheight+"px"),width=$image.width,width>divwidth&&(console.log(width-divwidth,width,divwidth),diff=width-divwidth,$image.css("left",""+(0-diff/2)+"px"))):
($image.css("width",""+divwidth+"px"),height=$image.height,height>divheight&&(console.log(height-divwidth,height,divwidth),diff=height-divheight,$image.css("top",""+(0-diff/2)+"px")))};(function(a,g){var d={},f=0;d.EVENTS={FORM_SUBMISSION:"form_submission"};d.loadScript=function(a,b,e,h){b=d.toSafeFn(b);return g.DM.loadExternalScriptAsync(a,b,e,h)};d.runOnReady=function(a,b){var e=d.toSafeFn(b);a=a||"global_"+f++;var h="afterAjax."+a;"complete"===document.readyState?(g.DM.events.off(h).on(h,e),setTimeout(function(){e({isAjax:!1})},0)):g(document).ready(function(){g.DM.events.off(h).on(h,e);e({isAjax:!1})})};d.runBeforeAjaxNavigation=function(a,b){var e=d.toSafeFn(b);a=a||"global_"+
f++;var h="beforeAjax."+a;g.DM.events.off(h).on(h,e)};d.replacePhoneNumber=function(a,b){var e=function(a,b,c){a=g(a);var e=a.attr("href");e&&(b=e.replace(new RegExp(b,"g"),c),a.attr("href",b))};(function(){g(":not(iframe)").contents().filter(function(){return this.nodeType==Node.TEXT_NODE}).each(function(){this.textContent=this.textContent.replace(new RegExp(a,"g"),b)});g('.dmCall[phone\x3d"'+a+'"]').each(function(){g(this).attr("phone",b);e(this,a,b)});g('a[href^\x3d"tel:"]').each(function(){e(this,
a,b)})})()};d.toSafeFn=function(c){if(c&&c.safe)return c;var b=c?function(){try{return c.apply(a,arguments)}catch(b){g.log("function failed "+b.message)}}:function(){};b.safe=!0;return b};d.subscribeEvent=function(a,b){return g.DM.events.on(a,function(a,c){var d=c&&c.value?c.value:null;b&&b(d)})};d.getSiteExternalId=function(){return Parameters.ExternalUid};a.dmAPI=d})(window,jQuery);(function(){var a,g,d,f,c,b=function(a,b){return function(){return a.apply(b,arguments)}},e=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};g=function(){function a(){}return a.prototype.extend=function(a,b){var c,e;for(c in b)e=b[c],null==a[c]&&(a[c]=e);return a},a.prototype.isMobile=function(a){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a)},a.prototype.addEvent=function(a,b,c){return null!=a.addEventListener?
a.addEventListener(b,c,!1):null!=a.attachEvent?a.attachEvent("on"+b,c):a[b]=c},a.prototype.removeEvent=function(a,b,c){return null!=a.removeEventListener?a.removeEventListener(b,c,!1):null!=a.detachEvent?a.detachEvent("on"+b,c):delete a[b]},a.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},a}();d=this.WeakMap||this.MozWeakMap||(d=function(){function a(){this.keys=[];this.values=[]}return a.prototype.get=function(a){var b,c,e,
d,h;h=this.keys;b=e=0;for(d=h.length;d>e;b=++e)if(c=h[b],c===a)return this.values[b]},a.prototype.set=function(a,b){var c,e,d,h,m;m=this.keys;c=d=0;for(h=m.length;h>d;c=++d)if(e=m[c],e===a)return void(this.values[c]=b);return this.keys.push(a),this.values.push(b)},a}());a=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(a=function(){function a(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser.");"undefined"!=
typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return a.notSupported=!0,a.prototype.observe=function(){},a}());f=this.getComputedStyle||function(a){return this.getPropertyValue=function(b){var e;return"float"===b&&(b="styleFloat"),c.test(b)&&b.replace(c,function(a,b){return b.toUpperCase()}),(null!=(e=a.currentStyle)?e[b]:void 0)||null},this};c=/(\-([a-z]){1})/g;this.WOW=function(){function c(a){null==a&&(a={});this.scrollCallback=
b(this.scrollCallback,this);this.scrollHandler=b(this.scrollHandler,this);this.start=b(this.start,this);this.scrolled=!0;this.config=this.util().extend(a,this.defaults);this.animationNameCache=new d}return c.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null},c.prototype.init=function(){var a;return this.element=window.document.documentElement,"interactive"===(a=document.readyState)||"complete"===a?this.start():this.util().addEvent(document,"DOMContentLoaded",
this.start),this.finished=[]},c.prototype.start=function(){var b,c,e,d;if(this.stopped=!1,this.boxes=function(){var a,c,m,e;m=this.element.querySelectorAll("."+this.config.boxClass);e=[];a=0;for(c=m.length;c>a;a++)b=m[a],e.push(b);return e}.call(this),this.all=function(){var a,c,m,e;m=this.boxes;e=[];a=0;for(c=m.length;c>a;a++)b=m[a],e.push(b);return e}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(d=this.boxes,c=0,e=d.length;e>c;c++)b=d[c],this.applyStyle(b,!0);return this.disabled()||
(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?(new a(function(a){return function(b){var m,c,e,d,f;f=[];e=0;for(d=b.length;d>e;e++)c=b[e],f.push(function(){var a,b,e,d;e=c.addedNodes||[];d=[];a=0;for(b=e.length;b>a;a++)m=e[a],d.push(this.doSync(m));return d}.call(a));return f}}(this))).observe(document.body,{childList:!0,subtree:!0}):void 0},c.prototype.stop=function(){return this.stopped=
!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},c.prototype.sync=function(){return a.notSupported?this.doSync(this.element):void 0},c.prototype.doSync=function(a){var b,c,d,f;if(null==a&&(a=this.element),1===a.nodeType){a=a.parentNode||a;d=a.querySelectorAll("."+this.config.boxClass);f=[];b=0;for(c=d.length;c>b;b++)a=d[b],0>e.call(this.all,a)?(this.boxes.push(a),this.all.push(a),
this.stopped||this.disabled()?this.resetStyle():this.applyStyle(a,!0),f.push(this.scrolled=!0)):f.push(void 0);return f}},c.prototype.show=function(a){return this.applyStyle(a),a.className=""+a.className+((" "+a.className+" ").indexOf(" animated ")+1?"":" "+this.config.animateClass),null!=this.config.callback?this.config.callback(a):void 0},c.prototype.applyStyle=function(a,b){var c,e,d;return e=a.getAttribute("data-wow-duration"),c=a.getAttribute("data-wow-delay"),d=a.getAttribute("data-wow-iteration"),
this.animate(function(f){return function(){return f.customStyle(a,b,e,c,d)}}(this))},c.prototype.animate=function(){return"requestAnimationFrame"in window?function(a){return window.requestAnimationFrame(a)}:function(a){return a()}}(),c.prototype.resetStyle=function(){var a,b,c,e,d;e=this.boxes;d=[];b=0;for(c=e.length;c>b;b++)a=e[b],d.push(a.style.visibility="visible");return d},c.prototype.customStyle=function(a,b,c,e,d){return b&&this.cacheAnimationName(a),a.style.visibility=b?"hidden":"visible",
c&&this.vendorSet(a.style,{animationDuration:c}),e&&this.vendorSet(a.style,{animationDelay:e}),d&&this.vendorSet(a.style,{animationIterationCount:d}),this.vendorSet(a.style,{animationName:b?"none":this.cachedAnimationName(a)}),a},c.prototype.vendors=["moz","webkit"],c.prototype.vendorSet=function(a,b){var c,e,d,f;f=[];for(c in b)e=b[c],a[""+c]=e,f.push(function(){var b,f,g,h;g=this.vendors;h=[];b=0;for(f=g.length;f>b;b++)d=g[b],h.push(a[""+d+c.charAt(0).toUpperCase()+c.substr(1)]=e);return h}.call(this));
return f},c.prototype.vendorCSS=function(a,b){var c,e,d,g,m,h;e=f(a);c=e.getPropertyCSSValue(b);h=this.vendors;g=0;for(m=h.length;m>g;g++)d=h[g],c=c||e.getPropertyCSSValue("-"+d+"-"+b);return c},c.prototype.animationName=function(a){var b;try{b=this.vendorCSS(a,"animation-name").cssText}catch(c){b=f(a).getPropertyValue("animation-name")}return"none"===b?"":b},c.prototype.cacheAnimationName=function(a){return this.animationNameCache.set(a,this.animationName(a))},c.prototype.cachedAnimationName=function(a){return this.animationNameCache.get(a)},
c.prototype.scrollHandler=function(){return this.scrolled=!0},c.prototype.scrollCallback=function(){var a;if(!(a=!this.scrolled)){this.scrolled=!1;var b,c,e,d;e=this.boxes;d=[];b=0;for(c=e.length;c>b;b++)(a=e[b])&&(this.isVisible(a)?this.show(a):d.push(a));a=(this.boxes=d,this.boxes.length||this.config.live)}return a?void 0:this.stop()},c.prototype.offsetTop=function(a){for(var b;void 0===a.offsetTop;)a=a.parentNode;for(b=a.offsetTop;a=a.offsetParent;)b+=a.offsetTop;return b},c.prototype.isVisible=
function(a){var b,c,e,d,f;return c=a.getAttribute("data-wow-offset")||this.config.offset,f=window.pageYOffset,d=f+Math.min(this.element.clientHeight,this.util().innerHeight())-c,e=this.offsetTop(a),b=e+a.clientHeight,d>=e&&b>=f},c.prototype.util=function(){return null!=this._util?this._util:this._util=new g},c.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},c}()}).call(this);(function(a,g){function d(a){var b=window._dm_gaq,c=window._paq,e=window._gaq;b.systemGaqID&&e.push(["_trackPageview",a]);b.systemAggregatedGaqID&&b.systemAggregatedGaqID!==b.systemGaqID&&e.push(["b._trackPageview",a]);b.externalGaqID&&e.push(["c._trackPageview",a]);"undefined"!==typeof c&&null!=c&&c.push(["trackPageView",a]);if(b=window.dmsnowplow)b("setCustomUrl",a),b("trackPageView")}function f(b,c,e,d,f,g){g=g||{};var h=!1,n=window._paq,k=window._dm_gaq,p=window._gaq;d||(d=k.siteAlias);null==
e&&(e=void 0);try{"undefined"!==typeof n&&n&&n.push(["trackEvent",b,c])}catch(u){}k.systemGaqID&&(g.hitCallBack&&("_blank"===f.target?h=!0:p.push(["_set","hitCallback",function(){p.push(["_set","hitCallback",null]);f.href&&(document.location=f.href)}])),p.push(["_trackEvent",b,d,c,e]));k.systemAggregatedGaqID&&k.systemAggregatedGaqID!==k.systemGaqID&&p.push(["b._trackEvent",b,d,c,e]);d||(d=k.siteAlias);null==e&&(e=void 0);try{"undefined"!==typeof n&&n&&n.push(["trackEvent",b,c])}catch(l){}k.systemGaqID&&
(g.hitCallBack&&p.push(["_set","hitCallback",function(){p.push(["_set","hitCallback",null]);f.href&&("_blank"===f.target?h=!0:document.location=f.href)}]),p.push(["_trackEvent",b,d,c,e]));k.systemAggregatedGaqID&&k.systemAggregatedGaqID!==k.systemGaqID&&p.push(["b._trackEvent",b,d,c,e]);k.externalGaqID&&p.push(["c._trackEvent",b,d,c,e]);window.dmsnowplow&&window.dmsnowplow("trackStructEvent","site",b,c,e);if(f&&(n=a(f).closest("[data-rule]"),0<n.length)){e=parseInt(n.attr("data-rule"));var n=n.attr("data-rule-type"),
t=n+"__"+e;b="insite_"+b;k.systemGaqID&&p.push(["_trackEvent",b,d,t]);k.systemAggregatedGaqID&&k.systemAggregatedGaqID!==k.systemGaqID&&p.push(["b._trackEvent",b,d,t]);k.externalGaqID&&p.push(["c._trackEvent",b,d,t]);window.dmsnowplow&&window.dmsnowplow("trackStructEvent","insite",b,n,e)}if(k.systemGaqID&&g.hitCallBack)return h;"mobile"!=(a.layoutDevice?a.layoutDevice.type:"mobile")&&"Call"==c&&event.preventDefault()}function c(m){var c=jQuery("#dmPopupMask");a("#dm_content").append(c);var e="rgba(0,0,0,0.5)";
m&&m.overlayColor&&(e=m.overlayColor);c.css("background-color",e);c.is(":hidden")&&(c.height(document.body.offsetHeight).width(jQuery(window).width()).show(),jQuery(window).off("resize.popupmask").on("resize.popupmask",b),a.DM.events.off("iscrollBodyResized.popupOverlay").on("iscrollBodyResized.popupOverlay",b))}function b(){var a=jQuery("#dmPopupMask");a.is(":hidden")||a.height(document.body.offsetHeight).width(jQuery(window).width()).show()}function e(b,e,d,f,g){var h=h||a("body"),n=jQuery("#dmPopup"),
k=n.first(),p=jQuery("body").find("#dmPopup");n.not(k).remove();0===p.size()?h.append(k):h.append(p);p.attr("class","dmPopup");p.find(".data").empty();d&&p.addClass(d);c();b.find(".popupData").clone().appendTo("#dmPopup .data").show();k.find(".dmPopupTitle").html("\x3cspan\x3e\x3c/span\x3e"+e);p.find("*").andSelf().each(function(){var b=a(this).attr("class");b&&(a(this).attr("class",""),a(this).attr("class",b))});f=f||700;g=g||400;d=jQuery(window).width();e=jQuery(window).height();f=f=Math.min(f,
d-20);g=Math.min(g,e-20);d=d/2-f/2-10;h=a("#dmPopup").find(".dmPopupTitle").height();n=parseInt(a("#dmPopup").css("padding-top").replace(/[^-\d\.]/g,""));k=parseInt(a("#dmPopup").css("padding-bottom").replace(/[^-\d\.]/g,""));h=e/2-(g+n+k+h+30)/2;f={top:h+"px",width:f+"px",left:d+"px",minHeight:g+"px",height:"auto"};p.find(".data").css("height",g+"px");p.height()+h>e&&p.find(".data").css("height",g+"px");p.css(f);p.show();window.event&&window.event.stopPropagation();if(b.hasClass("dmShare"))p.off("click.share").on("click.share",
"div.dmShareWidget a",function(b){if(window.editorParent&&window.editorParent.jQuery&&(window.editorParent.jQuery.dmfw||window.editorParent.jQuery.onefw)){b.preventDefault();b.stopPropagation();var m={relativeDirection:"top",offset:window.editorParent.jQuery.onefw?0:70,tipsContainer:window.editorParent.jQuery&&window.editorParent.jQuery.onefw?window.editorParent.$("#_preview_w"):window.editorParent.$("#neePrevieweviceWrapper"),bodyText:"You can't use the widget to share a site from Preview mode.",
title:"Share"};window.editorParent.$&&window.editorParent.$.dmpages&&window.editorParent.$.dmpages.showOuterLinkPrompt(null,"_blank",a(b.target),m)}});return!1}function h(a,b){var c=jQuery(window).width(),e=jQuery(window).height(),d=1>a?c*a:Math.min(a,c-20),f=1>b?e*b:Math.min(b,e-20);return{top:e/2-f/2+"px",width:d+"px",left:c/2-d/2-10+"px",height:f+"px"}}function l(b){var c=jQuery("#dmPopupMask");a("body").append(c);c.hide();a("body").removeClass("popupOpen");a("#dmPopup").hide();a("#dmPopup .data").empty();
a("#dmPopup").removeAttr("data-video-bg");a("#dmPopup .videobgwrapper").remove();a("body").append(a("#dmPopup"));b&&(b.cancelBubble=!0,b.stopPropagation());return!1}function p(b,c,e){e=e||a("body");var d=e.find(".coloumns");if(null!=d)d.css("height",b+"px").css("width",c+"px");else for(d=1;13>d;d++)e.find("#coloumn"+d).height(b),e.find("#coloumn"+d).width(c)}function t(b,c){c=c||a("body");var e=c.find(".coloumns");if(null!=e)e.css("background-color",b);else for(e=1;13>e;e++)c.find("#coloumn"+e).css("background",
b)}function u(b){null!=b&&b.length&&b.forEach(function(b){a.dmrt.components.customWidget.addWidget(b.widgetId,b.version,atob(b.js))})}var n={AnimationType:{None:0,SlideLeft:1,SlideRight:2,Rotate:3,Fade:4},LinkType:{Home:0,Nav:1,Other:2},WebPlatformType:{General:0,Webs:1,Attsmb:2,WebsPlanet:3,Blogs:4},AgentType:{Iphone:0,Android:1,BlackBerry:2,Nokia:3,WindowsMobile:4,Other:5},ThemeType:{Matrix:0,Other:1}};(function(){var a,b;jQuery.uaMatch=function(a){a=a.toLowerCase();a=/(edge)[ \/]([\w.]+)/.exec(a)||
/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=jQuery.uaMatch(navigator.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=parseFloat(a.version));b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);b.msie=!!navigator.userAgent.match(/MSIE|Edge|Trident\/7\./);jQuery.browser=b;jQuery.live=function(a,
b,c){jQuery(this.context).on(a,this.selector,b,c);return this};jQuery.die=function(a,b){jQuery(this.context).off(a,this.selector||"**",b);return this}})();"function"!==typeof String.prototype.contains&&(String.prototype.contains=function(a){return-1!==this.indexOf(a)});var k=new function(){this.AjaxContainer="div.dmBody";this.WrappingContainer="div.dmOuter";this.BackgroundElement="div.dmInner";this.SiteType=this.SiteId=this.SiteAlias=this.CurrentLinkType=this.IsCurrentHomePage=this.CurrentPageUrl=
this.HomeUrl=null;this.DefaultPageAlias=this.InitialPageAlias="home";this.AnimationTypeInner=this.AnimationTypeBackward=this.AnimationTypeForward=n.AnimationType.Fade;this.Charset="UTF-8";this.CacheSize=10;this.AllowAjax=!0;this.IsSEOFriendlyLinks=!1;this.LinksToAjax="";this.LinksToAjaxExceptions=[];this.StartupCommand=this.AfterAjaxCommand=this.BeforeAjaxCommand=null;this.WebsiteGenerator=n.WebPlatformType.General;this.SelectorsToHideOnTransitions=null;this.HomeLinksClasses="dm-logo-anchor";this.HomeLinkText=
"Back to home";this.HomeLinkSelector="a.dmHome";this.UseGalleryModule=!1;this.CurrentThemeName="";this.DisableLinks=!1;this.AfterMoreLessCommand=null;this.IsBfs=!1;this.ManifestId=-1;this.StorePageAlias="";this.showCookieNotification=!1;this.cookiesNotificationMarkup="";this.NavParameters=function(){this.NavbarSize=5;this.NavbarSelector=".dmNav";this.SubNavbarSelector="";this.NavbarLiveHomePage=null;this.BlockContainerSelector=".dmBody";this.ShowBackToHomeOnInnerPages=!0;this.MoreButtonText="More Options";
this.LessButtonText="Less Options";this.ReplaceNavigationOnInnerPages=!0};this.SidebarParameters=function(){this.SidebarSelector=".dm_sideBar";this.SidebarArrowSelector="#fw-sidebar-arrow";this.SidebarInitialClass="fw-sidebarbegin";this.SidebarClosingClass="fw-sidebarend"};this.NavigationAreaParams=new this.NavParameters;this.SidebarParams=new this.SidebarParameters};g.Parameters=k;(function(a,b){function c(a,b){this.pageUrl=a;this.pageAlias=b||k.InitialPageAlias;this.pageContent=null;this.ajaxCallComplete=
!1;this.linkType=n.LinkType.Other;this.pageUrlIdentifier=hex_sha1(this.pageUrl);this.pageID=this.pageUrlIdentifier+"";this.pageScrollTo=null;this.pageReady=!1;this.pageAnimation=null}function g(){try{return window.localStorage?(localStorage.setItem("testKey",1),localStorage.removeItem("testKey"),!0):!1}catch(a){return!1}}function h(){g()&&k.AllowAjax&&L!==n.AgentType.Android&&8!==Z&&7!==Z&&(ca=[],la=!0,I=function(){return{setItem:function(a,b){var c=this.getStorage();c[a]=b;localStorage.setItem("dmPagesCache",
JSON.stringify(c))},getItem:function(a){return this.getStorage()[a]||null},clear:function(){localStorage.setItem("dmPagesCache","{}")},getSize:function(){return Object.keys(this.getStorage()).length},getStorage:function(){return JSON.parse(localStorage.getItem("dmPagesCache")||"{}")||{}}}}(),I.clear())}function C(){if(a.dmrt.srvInstruct)for(var b=0;b<a.dmrt.srvInstruct.length;b++){var c=a.dmrt.srvInstruct[b];switch(c.action){case "popup":var d=a("\x3cdiv\x3e\x3cdiv class\x3d'popupData'\x3e\x3c/div\x3e\x3c/div\x3e"),
f=c.props.delay?1E3*c.props.delay:0;d.find(".popupData").html(c.props.text);setTimeout(function(){e(d,c.props.title)},f)}}}function v(b,c,e,d){var f=-1!==b.indexOf("callback\x3d"),g=a.Deferred();d=a.extend({forceLoad:f,isJSONP:f},d||{});a.loadScript(b,d).done(function(){if(!f){if(c){try{c()}catch(a){console.log("DM-Ajax: init widget callback throws exception: "+a.message)}e&&r.updateAfterInit()}g.resolve()}}).fail(function(){g.reject()});return g.promise()}function F(a,b){if(null==a)return null;var c=
a.split("?"),e="";if(1<c.length)e=c[1];else return null;var e=e.split("#")[0],c=0,d,e=e.split("\x26"),f=e.length;for(c;c<f;c++)if(d=e[c],d=d.split("\x3d"),2===d.length&&d[0]===b)return d[1];return null}function D(){var b;null!=k.AjaxContainer&&(x=k.AjaxContainer,a(x).css("-webkit-transition","-webkit-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)").css("-moz-transition","-moz-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)").css("-o-transition",
"-o-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)").css("-ms-transition","-ms-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)").attr("id","dmFirstContainer"),x="#dmFirstContainer",a("#dmFirstContainer").css("-webkit-transform","none").css("-moz-transform","none").css("-o-transform","none").css("-ms-transform","none"),b=a("\x3cdiv\x3e\x3c/div\x3e"),Da(a(x).get(0),b),b.width(a(x).width()).height(a(window).height()).css("position",
"absolute").css("top","0px").css("display","none"),b.insertBefore(a(x)),b.attr("id","dmTempContainer"),a("#dmTempContainer").css("-webkit-transition","-webkit-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)").css("-moz-transition","-moz-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)").css("-o-transition","-o-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)").css("-ms-transition",
"-ms-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)").css("-webkit-transform",k.trans+"(0px, 0px, 0px)").css("-moz-transform","translate(0px, 0px)").css("-o-transform","translate(0px, 0px)").css("-ms-transform","translate(0px, 0px)"));null==k.WrappingContainer&&(k.AnimationTypeForward=n.AnimationType.None,k.AnimationTypeBackward=n.AnimationType.None,k.AnimationTypeInner=n.AnimationType.None);null!=k.CacheSize&&20<k.CacheSize&&(k.CacheSize=20);if(-1===
k.NavigationAreaParams.NavbarSize||-1<navigator.userAgent.indexOf("Opera"))k.NavigationAreaParams.NavbarSize=Number.MAX_VALUE;if(null!=k.CurrentPageUrl){b=window.location.hash;null!=b&&""!==b&&(b=b.replace("#",""));b=ma(b);null!=b?(_currentPage=Q(b),k.IsSEOFriendlyLinks||(window.location.hash=_currentPage.pageID),"complete"!==document.readyState&&_currentPage.pageContent.isHomePage||_currentPage.show()):(b=k.CurrentPageUrl,"MOBILE"!==k.SiteType||k.IsCurrentHomePage||k.InitialPageAlias===k.DefaultPageAlias||
"/site/"+k.SiteAlias+"/"+k.InitialPageAlias!==window.location.pathname||(b=location.pathname),_currentPage=new c(b),k.IsSEOFriendlyLinks||(window.location.hash=_currentPage.pageID),null!=k.CurrentLinkType&&(_currentPage.linkType=k.CurrentLinkType),null!=k.IsCurrentHomePage&&null!=_currentPage&&(k.IsCurrentHomePage&&(_currentPage.linkType=n.LinkType.Home,_currentPage.pageUrl=r.getHomeLink()),b="\x3cdiv id\x3d'"+a(x).attr("id")+"' class\x3d'"+a(x).attr("class")+"'\x3e"+a(x).html()+"\x3c/div\x3e",_currentPage.pageContent=
{content:b,isHomePage:k.IsCurrentHomePage,css:a("#pagestyle").html(),devicecss:a("#pagestyleDevice").html(),cssLink:a("#homeCssLink").attr("href"),alias:k.InitialPageAlias,classic_link:k.classicLink}));da=_currentPage.pageUrlIdentifier;ca.push(_currentPage.pageID);La(_currentPage);if(-1===k.NavigationAreaParams.NavbarSize||a.browser.opera)k.NavigationAreaParams.NavbarSize=Number.MAX_VALUE;y=document.write;document.write=function(){}}}function A(){null!=k.AjaxContainer&&(x=k.AjaxContainer,a(x).attr("ID",
"dmFirstContainer"),x="#dmFirstContainer");null==k.WrappingContainer&&(k.AnimationTypeForward=n.AnimationType.None,k.AnimationTypeBackward=n.AnimationType.None,k.AnimationTypeInner=n.AnimationType.None);if(-1===k.NavigationAreaParams.NavbarSize||a.ua.browser.name.contains("Opera"))k.NavigationAreaParams.NavbarSize=Number.MAX_VALUE;if(null!=k.CurrentPageUrl){_currentPage=new c(k.CurrentPageUrl);da=_currentPage.pageUrlIdentifier;k.IsSEOFriendlyLinks||(window.location.hash=_currentPage.pageID);da=_currentPage.pageUrlIdentifier;
ca.push(_currentPage.pageID);La(_currentPage);var b="\x3cdiv id\x3d'"+a(x).attr("id")+"' class\x3d'"+a(x).attr("class")+"'\x3e"+a(x).html()+"\x3c/div\x3e";_currentPage.pageContent={content:b,isHomePage:k.IsCurrentHomePage,css:a("#pagestyle").html(),devicecss:a("#pagestyleDevice").html(),cssLink:a("#homeCssLink").attr("href"),alias:k.InitialPageAlias,classic_link:k.classicLink}}null!=k.CurrentLinkType&&(_currentPage.linkType=k.CurrentLinkType);k.IsCurrentHomePage&&null!=_currentPage&&(_currentPage.linkType=
n.LinkType.Home,_currentPage.pageUrl=r.getHomeLink())}function O(a){null==a&&(a="");for(var b=0;b<k.LinksToAjaxExceptions.length;b++)if(-1!==a.indexOf(k.LinksToAjaxExceptions[b])||-1!==unescape(a).indexOf(k.LinksToAjaxExceptions))return!0;return!1}function P(a){return O(a.attr("href"))||"_blank"===a.attr("target")&&"popup"!==a.attr("link_type")||""===a.attr("href")||null!=a.attr("data-push-notifs")}function J(){a("a[link_type\x3d'popup']").each(function(){var b=a(this);b.off("click.openPopup").on("click.openPopup",
function(a){ea(b.attr("popup_target"),a)})})}function S(){a("a[href*\x3d'#']").each(function(){var b=a(this),c=b.attr("href");if(c){var e=c.indexOf("#");if(-1!==e&&0>c.indexOf("#!")){var d=c.substr(c.lastIndexOf("/")+1),d=d.split("?")[0],d=d.split("#")[0];_currentPage.pageAlias===d&&b.click(function(b){b=null;b=c.substr(e+1);a.DM.scrollToAnchor(a("#"+b));location.hash=b;a.layoutManager.closeAllOpenedNavs()})}}})}function fa(b){if(!k.DisableLinks&&(a=N,r.updateWidth(),k.AllowAjax)){var c=null;k.LinksToAjax=
"a[href^\x3d'/'], a[href^\x3d'#'], .u_dmStyle_backToHome";null!=b&&(c=k.LinksToAjax,b=b.filter(k.LinksToAjax),k.LinksToAjax=b);a(k.LinksToAjax).each(function(){var b=!1,c=null,e=null,d=a(this),f=a.DM.isTouchDevice&&!a.DM.isIOS()?"touchend.navigate":"click.navigate";if(null!=d.attr("href")&&d.attr("href").startsWith("#")&&1<d.attr("href").length&&0>d.attr("href").indexOf("#!"))d.attr("dmGoto",d.attr("href").replace("#","")),d.removeAttr("href"),d.css("cursor","pointer"),d.css("cursor","hand"),d.click(function(a){_currentPage.pageScrollTo=
d.attr("dmGoto");_currentPage.scrollTo();null!=a&&a.stopPropagation()});else if(ta(d.attr("onClick"))&&!P(d)&&(d.off("touchstart.navigate").on("touchstart.navigate",function(f){b=!1;c=f.originalEvent.targetTouches[0].screenX;e=f.originalEvent.targetTouches[0].screenY;if(a.commonComponents.slideRightNav)a.commonComponents.slideRightNav.onAjaxLinkTouchStart(d,f)}).off("touchmove.navigate").on("touchmove.navigate",function(f){if(10<Math.abs(f.originalEvent.targetTouches[0].screenY-e)||Math.abs(10<f.originalEvent.targetTouches[0].screenX-
c))if(b=!0,a.commonComponents.slideRightNav)a.commonComponents.slideRightNav.onAjaxLinkTouchMove(d,f)}),!d.is("#slideDownNav a, #slideUpNav a")&&!d.data("disableAjaxNavigation"))){if("touchend.navigate"===f)d.off("click.navigate").on("click.navigate",function(a){a.stopPropagation();a.preventDefault();a.stopImmediatePropagation();return!1});d.off(f).on(f,function(a){var c=d.attr("href");return b?!1:"popup"===d.attr("link_type")?ea(d.attr("popup_target"),a):R(c,d,a)})}});null!=c&&(k.LinksToAjax=c,c=
null)}}function R(b,e,d,f){var g,h;f=f||{};e=e||a("\x3cdiv\x3e\x3c/div\x3e");b=b||e.attr("href");g=e.attr("data-disable-ajax-navigation");if("popup"===e.attr("link_type"))return ea($this.attr("popup_target"),d);if(!g)if(!k.AllowAjax||d&&d.shiftKey)d&&d.shiftKey&&d.preventDefault(),window.location.href=b;else{if(a.commonComponents.upperFloatingNav&&!a.commonComponents.upperFloatingNav.onAjaxLinkBeforeClick(e,d)||a.commonComponents.slideRightNav&&!a.commonComponents.slideRightNav.onAjaxLinkBeforeClick(e,
d))return!1;if("#"===b)d&&d.preventDefault();else{null!=d&&(g=e,null!=g.attr("href")&&g.attr("href").startsWith("/site/")||d.stopPropagation(),d.preventDefault());null!=document.cookie&&-1!==document.cookie.indexOf("dm_show_classic")&&(document.location=a("#classic_link").attr("href"));if(O(b))return!0;g=b;if(-1!==g.indexOf("#")&&0>g.indexOf("#!")){var p=b;h=e;g=p.substr(p.indexOf("#")+1);var t=p.substr(p.lastIndexOf("/")+1).split("?")[0].split("#")[0],u=location.pathname,p=p.replace(/#.*/,"");_currentPage.pageAlias===
t||u===p?(a.DM.scrollToAnchor(a("#"+g),{forceScroll:!0}),window.noPopState=!0,location.hash=g,a.layoutManager.layoutAfterAjax(_currentPage.pageContent),a.layoutManager.onAjaxLinkClick(h),a.layoutDevice.onAjaxLinkClick(h),h={anchorInPage:!0}):h={anchorInPage:!1,scrollTo:g};if(h.anchorInPage)return}f.skipCache?E=null:(g=unescape(F(b,"url")),E=na("null"!==g?g:b));null==E||"null"===E.pageUrl?(g=e.attr("raw_url"))&&""!==g?(g=g.substr(g.lastIndexOf("/")+1),E=new c(b,g)):E=new c(b):la&&(E=Q(E));h&&!h.anchorInPage&&
h.scrollTo&&(E.pageScrollTo=h.scrollTo);b=E;t=e;h=t.attr("class")||"";g=t.parent().attr("class")||"";t=t.parent().parent().attr("class")||"";h=-1!==h.toLowerCase().indexOf("home")||null!=k.HomeLinksClasses&&-1!==h.toLowerCase().indexOf(k.HomeLinksClasses.toLowerCase())?n.LinkType.Home:-1!==h.toLowerCase().indexOf("nav")||-1!==g.toLowerCase().indexOf("nav")||-1!==t.toLowerCase().indexOf("nav")?n.LinkType.Nav:n.LinkType.Other;b.linkType=h;E.pageAnimation="forward";b=e;(h=b.attr("animationType"))&&""!==
h||(h=b.attr("animationtype"));b="backward"===h?"backward":"forward"===h?"forward":"inner"===h?"inner":null;null!=b&&(E.pageAnimation=b);_currentPage=E;a.layoutManager.onAjaxLinkClick(e,d);a.layoutDevice.onAjaxLinkClick(e,d);try{a.DM.events.trigger("beforeAjax",{isAjax:!0})}catch(l){K("DMAjax says: before ajax event threw exception: "+l.message)}(1>e.parents("[disableLink]").length||"false"===e.parents("[disableLink]").attr("disableLink"))&&_currentPage.show(!f.skipCache)}}}function ea(b,c){c.preventDefault();
a.dmrt.components.popupService.displayPopup(b)}function Q(a){var b=new c(a.pageUrl);b.pageUrl=a.pageUrl;b.pageContent=a.pageContent;b.ajaxCallComplete=a.ajaxCallComplete;b.linkType=a.linkType;b.pageUrlIdentifier=a.pageUrlIdentifier;b.pageID=a.pageID;b.pageScrollTo=a.pageScrollTo;b.pageReady=a.pageReady;b.pageAnimation=a.pageAnimation;b.pageAlias=a.pageAlias;return b}function ta(a){a=a||"";for(var b=0;b<Ma.length;b++)if(a===Ma[b])return!0;return!1}function ua(b){a=N;b.ajaxCallCompleted=!1;if(null!=
k.BeforeAjaxCommand)try{k.BeforeAjaxCommand()}catch(c){K("DMAjax says: before ajax command threw exception")}var d=b.pageUrl;return a.ajax({contentType:"application/json; charset\x3d"+k.Charset,dataType:"json",url:d+(d.contains("?")?"\x26":"?")+"dm_ajaxCall\x3dtrue",timeout:3E4,error:function(b){if(b&&b.responseJSON&&(b.responseJSON.alias||"").match(/(dmP|p)ageNotFound/))window.location.href=d;else{var c="There was an error connecting to the page";401===b.status&&(c="Incorrect name/password combination");
a(x).replaceWith('\x3cdiv style\x3d"background:white;padding:8px"\x3e\x3ch4\x3e'+c+'.\x3c/h4\x3e\x3cbr/\x3e\x3ca  href\x3d""\x3eTry Again\x3c/a\x3e\x3c/div\x3e');va(!1)}},success:function(c){if(c.status&&"password"==c.status){var f=a('\x3cdiv class\x3d"password-popup" /\x3e');f.load("/_dm/s/rt/widgets/passwordProtectedPages/rt_password_protected_popup.jsp?siteAlias\x3d"+k.SiteAlias+"\x26pageUrl\x3d"+d,function(){a(".dmPopupClose").off("click.navigateBack").on("click.navigateBack",function(){var b=
window.location.pathname+window.location.search,c=a('a[href\x3d"'+b+'"]:visible');R(b,c);a(".dmPopupClose").off("click.navigateBack")});a(document).off("keypress.password").on("keypress.password","#pwd",function(b){13===b.keyCode&&a("input#ok").click()});a(document).off("click.cancel").on("click.cancel","#cancel",function(b){a(".dmPopupClose").click()});a(document).off("click.password").on("click.password","input#ok",function(){a.ajax({url:"/_dm/s/rt/api/public/rt/site/"+k.SiteAlias+"/page/"+btoa(c.pageAlias).replace("/",
"_").replace("+","-")+"/auth",type:"POST",contentType:"application/json",data:JSON.stringify({value:a("#pwd").val()}),success:function(c){a.setCookie(c.name,c.value,0,"/");a(".dmPopupClose").off("click.navigateBack").click();ua(b)},error:function(a){if(a&&a.responseText)try{if("Unauthorized"==JSON.parse(a.responseText).error_code){$passwordWarningMessageWrong.removeClass("hidden");return}}catch(b){}$passwordWarningMessageMissing.removeClass("hidden")}})});var d=a(f).find(".hiddenField").html();e(f,
d,"password-popup",500,170);a("#pwd").focus()})}else c.error_message?(a(x).replaceWith('\x3cdiv style\x3d"background:white;padding:8px"\x3e\x3ch4\x3e'+c.error_message+'.\x3c/h4\x3e\x3cbr/\x3e\x3ca  href\x3d""\x3eTry Again\x3c/a\x3e\x3c/div\x3e'),va(!1)):(null!=c.redirect&&(window.location.href=c.redirect),b.ajaxCallComplete=!0,b.pageContent=c,b.pageAlias=c.alias,_currentPage=b,va())}})}function xa(){var a=0;if(la)a=I.getSize();else{var a=0,b;for(b in I)a++}return a}function va(b){if(null!=b&&!b)return a.DM._frameworkReady=
!0,oa(!1),!1;if(null!=_currentPage&&null!=_currentPage.pageContent&&_currentPage.pageReady){b="";try{b=_currentPage.pageContent.title||a("\x3cdiv\x3e"+_currentPage.pageContent.headsection+"\x3c/div\x3e").find("title").text()}catch(c){}a("title").text(b);k.IsSEOFriendlyLinks&&window.history&&window.history.pushState&&!_currentPage.dontPushState&&(a.DM.forceReplaceState?(a.DM.forceReplaceState=!1,window.history.replaceState({},b,_currentPage.pageUrl)):window.history.pushState({},b,_currentPage.pageUrl));
a("#dmFirstContainer").css("display","none");a("#dmFirstContainer").html("");oa(!1);-1!==_currentPage.pageContent.content.indexOf("document.write")&&(document.write=function(){},document.writeln=function(){});if(a("#dmTempContainer").is(":hidden")){a("#dmFirstContainer").css("opacity","1");b=a(_currentPage.pageContent.content);var e=a(x);try{rtCommonProps["rt.ajax.ajaxScriptsFix"]?e.eq(0).html(b.html()):e.get(0).innerHTML=b.html(),_currentPage.pageContent.insite_scripts&&e.eq(0).append(_currentPage.pageContent.insite_scripts)}catch(f){console.log("AJAX: error on parsing server response into client element"),
console.log(f)}finally{e.css("display","block"),e.attr("class",b.attr("class"))}}else b=a("#dmTempContainer"),e=a("#dmFirstContainer"),b.attr("id","dmFirstContainer"),e.attr("id","dmTempContainer"),a("#dmFirstContainer").parents().hasClass("dmFlexboxWrapper")||a("#dmFirstContainer").css("width","auto"),a("#dmFirstContainer").css("opacity","1").css("left","0px").css("height","auto").css("position",""),x=a("#dmFirstContainer");a("#dmTempContainer").html("");a("#dmTempContainer").css("display","none");
a("#dmFirstContainer").css("top","0px");a("#dmFirstContainer, #dmTempContainer").css("-webkit-transition-duration","0s").css("-webkit-transform",k.trans+"(0px, 0px, 0px)").css("-moz-transition-duration","0s").css("-moz-transform","translate(0px, 0px)").css("-o-transition-duration","0s").css("-o-transform","translate(0px, 0px)").css("-ms-transition-duration","0s").css("-ms-transform","translate(0px, 0px)");fa();H(_currentPage);u(_currentPage.pageContent.customwidgetjs);if(null!=k.AfterAjaxCommand)try{k.AfterAjaxCommand(_currentPage.pageContent)}catch(g){K("DMAjax says: after ajax command threw exception: "+
g.message)}if("function"===typeof a.afterAjaxCall)try{a.afterAjaxCall(_currentPage.pageContent)}catch(h){K("DMAjax says: after ajax call threw exception: "+h.message)}if("function"===typeof a.DM.userOnPageReadyFn)try{a.DM.userOnPageReadyFn({isAjax:!0})}catch(p){K("DMAjax says: after ajax user function threw exception: "+p.message)}try{a.DM.events.trigger("afterAjax",{isAjax:!0})}catch(n){K("DMAjax says: after ajax event threw exception: "+n.message)}a.layoutManager.layoutAfterAjax(_currentPage.pageContent);
b=window.styleImages;"function"===typeof b&&(b(),setTimeout("styleImages()",300),setTimeout("styleImages()",2E3),setTimeout("styleImages()",5E3));jQuery.DM.updateIOSHeight();try{if(0<a("#shareSection").length||0<a(".dmShare").length)jQuery.getScript("https://platform.twitter.com/widgets.js"),window.IN&&window.IN.parse(),window.gapi&&window.gapi.plusone.go()}catch(t){K("DMAjax says: after ajax share reload threw exception: "+t.message)}try{var l=jQuery.Event("readystatechange");jQuery("document").trigger(l);
l=jQuery.Event("onload");jQuery("window").trigger(l)}catch(v){K("DMAjax says: after ajax onload threw exception: "+v.message)}try{r.afterAjaxGeneralInits({isAjax:!0,data:_currentPage.pageContent}),r.afterAjaxGeneralLoadInits()}catch(q){K("DMAjax says: after ajax after ajax general inits threw exception: "+q.message)}a.DM._frameworkReady=!0;!_currentPage.scrollTo({noAnimation:!0,forceScroll:!0})&&a.layoutDevice&&"mobile"==a.layoutDevice.type&&a("#iscrollBody").scrollTop(0);xa()<k.CacheSize&&La(_currentPage);
Ea();if("undefined"!==typeof previewPopUp&&window.editorParent.$&&window.editorParent.$.dmx&&window.editorParent.$.dmfw){var l=window.location.origin,w=k.HomeUrl.trim().replace("?preview\x3dtrue",""),l=l+("/site/"+window.editorParent.$.dmx.site.alias+"?preview\x3dtrue\x26dm_try_mode\x3dtrue\x26url\x3d"),l=l+encodeURIComponent(_currentPage.pageUrl);window.editorParent.$.previewExternalLink.setLastEditePage(l);a("#dm").find("a").on("click",function(){"slideDownNav"!==a(this).closest("div").attr("id")&&
""<a(this).attr("href")&&"false"===a(this).attr("dm_dont_rewrite_url")&&-1<a(this).attr("href").indexOf("/site/")+window.editorParent.$.dmx.site.alias&&-1===a(this).attr("href").indexOf(w)&&0===a(this).attr("href").indexOf("http")&&window.editorParent.$.dmfw.previewExternalLink.setBackFromExternal(!0)})}try{null!=window._gaq&&d(_currentPage.pageUrl)}catch(B){K("DMAjax says: gaq is not defined on dev mode, ignore this error")}}}function Ea(){if(k.AllowAjax&&!k.IsSEOFriendlyLinks&&(!a.browser.msie||
8<=a.browser.version||8<=document.documentMode))return a.history.load(_currentPage.pageUrlIdentifier),!1}function T(b,c,e,d){a("body").removeClass("fullyLoaded");a=N;null==e&&(e=!0);try{"undefined"!==window.getInnerActiveAd&&window.getInnerActiveAd("ad","")}catch(f){}d&&a("#dmTempContainer").css("display","block");b.linkType===n.LinkType.Home||"backward"===b.pageAnimation?za[k.AnimationTypeBackward].animateIn(b,c):b.linkType===n.LinkType.Other||"inner"===b.pageAnimation?za[k.AnimationTypeInner].animateIn(b,
c):b.linkType!==n.LinkType.Nav&&"forward"!==b.pageAnimation&&null!=b.pageAnimation||za[k.AnimationTypeForward].animateIn(b,c);e?ca.push(b.pageID):ca.pop()}function H(b){b.pageContent&&b.pageContent.url_redirect?window.location.href=b.pageContent.url_redirect:(null==b.pageContent&&(b.pageContent=_currentPage.pageContent),b.pageContent.css=b.pageContent.css||"",b.pageContent.devicecss=b.pageContent.devicecss||"",b.pageContent.customwidgetcss=b.pageContent.customwidgetcss||"",!a.browser.msie||11<=a.browser.version?
(a("#pagestyle").html(b.pageContent.css),a("#pagestyleDevice").html(b.pageContent.devicecss),a("#customWidgetStyle").html(b.pageContent.customwidgetcss)):(a("#pagestyle").get(0).styleSheet.cssText=b.pageContent.css,a("#pagestyleDevice").get(0).styleSheet.cssText=b.pageContent.devicecss,a("#customWidgetStyle").get(0).styleSheet.cssText=b.pageContent.customwidgetcss),a("#homeCssLink").remove(),b.pageContent.cssLink&&a("#pagestyle").before('\x3clink id\x3d"homeCssLink" type\x3d"text/css" rel\x3d"stylesheet" href\x3d"'+
b.pageContent.cssLink+'"/\x3e'),b.pageContent.isHomePage?a(".dm-bfs").addClass("dm-layout-home").removeClass("dm-layout-sec"):a(".dm-bfs").removeClass("dm-layout-home").addClass("dm-layout-sec"),a("#criticalCss").empty(),Na(b),a.extend(k,b.pageContent.parameters))}function Na(b){0<a("#classic_link").length&&(null==b.pageContent.classic_link||"none"===b.pageContent.classic_link||""===b.pageContent.classic_link?a(".classicWrapper").hide():(a(".classicWrapper").show(),b.pageContent.classic_link&&a("#classic_link").attr("href",
b.pageContent.classic_link)))}function Ca(b){b&&a(b.target).off("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd");_currentPage.pageReady=!0;b=a("#iscrollBody");b.hasClass("noScroll")&&b.removeClass("noScroll").css({height:"auto","-webkit-transform":"translate(0, 0)","-moz-transform":"translate(0, 0)","-ms-transform":"translate(0, 0)","-o-transform":"translate(0, 0)",transform:"translate(0, 0)"});oa(!0);ga();va()}function ga(){0===(pa()&&L!==n.AgentType.Android?a("#disabledImageZone:in-viewport"):
a("#loading:in-viewport")).length&&a("body, html").scrollTop(0)}function oa(b,c,e,d){a=N;null==e&&(e=!0);if(pa()&&L!==n.AgentType.Android){var f=a("#disabledImageZone");0<f.length&&(b?(f.css("position","absolute"),f.changeDisplay("block"),f.css("z-index","100000"),null==c?(f.css("left",wa("innerWidth","clientWidth")/2+"px"),f.css("top",a(window).height()/2+"px")):(f.css("left",c[0]+"px"),f.css("top",c[1]+"px")),e&&p(10,3),d||Fa()):f.changeDisplay("none"))}else e=a("#dmFirstContainer"),d=a("#loading"),
b?(0===d.length&&(d=a(document.createElement("div")),d.attr("id","loading"),d.css("background","url('/_dm/s/rt/images/nav-loader.gif') no-repeat center"),d.css("position","absolute"),d.css("z-index","999999"),d.css("width","43px"),d.css("height","40px"),e.parent().append(d)),null==c?(d.css("left",e.width()/2-7+"px"),L===n.AgentType.Android&&d.css("left",e.width()/2-28+"px"),d.css("top",e.offset().top+20+"px")):(d.css("left",c[0]-28+"px"),d.css("top",c[1]+"px")),d.changeDisplay("block")):0<d.length&&
d.changeDisplay("none")}function Fa(a){var b=255;try{b=null==a?r.getScreenBrigthness():r.getScreenBrigthness(a)}catch(c){K("DMAjax says: unable to determine the screen brigthness, check background colors")}125<b?t("rgb(0,17,17)"):t("rgb(255,238,238)")}function ma(a){var b=null;return b=la?JSON.parse(I.getItem(a)):I[a]}function na(a){try{var b;if(la)for(b in I.getStorage()){if(JSON.parse(I.getItem(b)).pageUrl===a)return JSON.parse(I.getItem(b))}else for(b in I){var c=I[b].pageUrl;-1!==I[b].pageUrl.indexOf("?url\x3d")&&
(c=unescape(F(I[b].pageUrl,"url")));if(c===a)return I[b]}}catch(e){}return null}function La(a){null==ma(a.pageID)&&xa()<k.CacheSize&&(la?(-1!==a.pageUrl.indexOf("url\x3d")?a.pageUrl=unescape(F(a.pageUrl,"url")):a.pageUrl=unescape(a.pageUrl),I.setItem(a.pageID,JSON.stringify(a))):I[a.pageID]=a)}function wa(b,c){var e=a("body"),d=e.css("width").length;try{if(void 0!==window[b])return window[b];var f=document.documentElement;if(f&&f[c])return f[c];if(void 0!==document.body[c])return document.body[c];
if("innerWidth"===b||"innerHeight"===b)return e.css("width").substr(0,d-2)}catch(g){if("innerWidth"===b||"innerHeight"===b)return e.css("width").substr(0,d-2)}}function Da(a,b,c){var e;null==c&&(c=!1);if(c)for(c=0;c<b.get(0).attributes.length;c++)try{e=b.get(0).attributes[c],b.removeAttr(e.name)}catch(d){}for(c=0;c<a.attributes.length;c++)try{e=a.attributes[c],b.attr(e.name,e.value)}catch(f){}}function Ga(b){var c=a("#dmBackToTop");400>b?(c.css("opacity","0"),c.css("visibility","hidden")):(c.css("opacity",
"1"),c.css("visibility","visible"))}function pa(){return a.browser.chrome||a.browser.safari||a.browser.mozilla||a.browser.opera||a.browser.msie&&9<a.browser.version?!0:!1}function K(){if(0<arguments.length)return 1<arguments.length&&Array.prototype.join.call(arguments," "),!0}function qa(b,e,d){window.location.hash&&-1<window.location.hash.indexOf("#!")||b.startsWith("PhotoSwipe")||!d||!(null==_currentPage||b!==_currentPage.pageID&&_currentPage.pageUrl&&"null"!=_currentPage.pageUrl&&_currentPage.pageUrl!==
k.HomeUrl&&_currentPage.pageUrl!==r.getHomeLink())||null!=E&&!E.pageReady||(E=ma(b),null!=E?(E=Q(E),null!=E.pageContent&&(E.equals(_currentPage)||(E.pageAnimation="backward"),b=a("body"),b.hasClass("ps-active")&&(a(".ps-toolbar-close").click(),b.removeClass("ps-active")),E.show())):e?k.AllowAjax?(b=new c(e),b.dontPushState=!0,b.show()):window.location.href=e:(E=ma(da),null!=E&&(E=Q(E),E.pageAnimation="backward",E.show())))}function Oa(b){null==b&&(b=!1);var c=[0,0];if(b||jQuery.DM.isBodyScrollable())"undefined"!==
typeof window.pageYOffset?c=[window.pageXOffset,window.pageYOffset]:"undefined"!==typeof document.documentElement.scrollTop&&0<document.documentElement.scrollTop?c=[document.documentElement.scrollLeft,document.documentElement.scrollTop]:"undefined"!==typeof document.body.scrollTop&&(c=[document.body.scrollLeft,document.body.scrollTop]);else try{c=a.layoutManager&&a.layoutManager.isNee()||!1===a.layoutDevice.components.iscrollBody.isUseIscroll?[jQuery.layoutManager.getLayoutElement().iscrollBody.element.scrollLeft(),
jQuery.layoutManager.getLayoutElement().iscrollBody.element.scrollTop()]:[Math.abs(jQuery.layoutManager.getLayoutElement().iscrollBody.iscrollObject.x),Math.abs(jQuery.layoutManager.getLayoutElement().iscrollBody.iscrollObject.y)]}catch(e){c=[0,0]}return c}b.__x__="";c.prototype.equals=function(a){return this.pageUrl===a.pageUrl};c.prototype.render=function(){oa(!0);ua(this,!1)};c.prototype.show=function(b){if(null!=_currentPage)if(null==b&&(b=!0),a.DM._frameworkReady=!1,_currentPage=this,null!=y&&
(document.write=y),null==this.pageContent){a("#dmTempContainer").html("");a("#dmTempContainer").css("display","none");var c=this;ua(this).done(function(){T(c,!0,b,!1)},this)}else{var e=a(this.pageContent.content);a("#dmTempContainer").attr("class",e.attr("class"));a("#dmTempContainer").html(e.html());a("#dmTempContainer").css("display","none");var e=0+a.layoutDevice.getTopFixedElementsOffset(),d=a(".freeHeader");0<d.length&&(e+=d.outerHeight());a("#dmTempContainer").offset({top:e});a("#dmTempContainer").width(a(x).width());
a("#dmTempContainer").height(a(window).height());a("#dmTempContainer").css("position","absolute");T(this,!1,b,!0)}};c.prototype.scrollTo=function(b){if(null!=this.pageScrollTo&&0<this.pageScrollTo.length){var c=a("#"+this.pageScrollTo);c.length||(c=a("a[name\x3d"+this.pageScrollTo+"]"));a.DM.scrollToAnchor(c,b);return!0}return!1};var x=null,E=window._currentPage=null,N=a,I={},ca=[],la=!1,Wa=["/_dm/rt","/site/classic"],Ma=[null,"","return true;","return true"],za=[];za[n.AnimationType.None]=new function(){this.animateIn=
function(b,c){a=N;_currentPage.pageReady=!0;oa(c);ga();va()}};za[n.AnimationType.Fade]=new function(){this.animateIn=function(b){function c(e){b.processed||(console.log("Animation before Timeout"),b.processed=!0,a("#dmTempContainer").css("opacity","1"),Ca(e))}a=N;var e=a("#dmTempContainer");a(x).css("opacity","1");e.css("opacity","0");e.css("-webkit-transition-duration","0s");e.css("-moz-transition-duration","0s");e.css("-o-transition-duration","0s");e.css("-ms-transition-duration","0s");e.css("-webkit-transform",
k.trans+"(0, 0, 0)");e.css("-moz-transform","translate3d(0, 0, 0)");e.css("-o-transform","translate3d(0, 0, 0)");e.css("-ms-transform","translate3d(0, 0, 0)");a(x).css("-webkit-transition-duration","0.4s");a(x).css("-webkit-transform",k.trans+"(0, 0, 0)");e.css("-webkit-transition-duration","0.4s");e.css("-webkit-transform",k.trans+"(0, 0, 0)");a(x).css("-moz-transition-duration","0.4s");a(x).css("-moz-transform","translate(0, 0)");e.css("-moz-transition-duration","0.4s");e.css("-moz-transform","translate(0, 0)");
a(x).css("-o-transition-duration","0.4s");a(x).css("-o-transform","translate(0px, 0px)");e.css("-o-transition-duration","0.4s");e.css("-o-transform","translate(0px, 0px)");a(x).css("-ms-transition-duration","0.4s");a(x).css("-ms-transform","translate3d(0, 0, 0)");e.css("-ms-transition-duration","0.4s");e.css("-ms-transform","translate3d(0, 0, 0)");a(x).css("opacity","0");b.processed=!1;setTimeout(function(){b.processed||(console.log("Timeout before Animation"),b.processed=!0,a(x).unbind("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd"),
a("#dmTempContainer").css("opacity","1"),Ca())},0);a(x).unbind("webkitTransitionEnd").one("webkitTransitionEnd",c);a(x).unbind("transitionend").one("transitionend",c);a(x).unbind("oTransitionEnd").one("oTransitionEnd",c)}};var da="0000",L=n.AgentType.Other,r={},y=null;a.extend({DM:r});a.DM._frameworkReady=!1;try{Object.defineProperty(r,"events",{get:function(){return a("body")}})}catch(Y){r.events=a("body")}r.Enum=n;r.setParameters=function(){k.AllowAjax?D():A()};r.enableAnimations=function(){k.AnimationTypeForward=
n.AnimationType.Fade;k.AnimationTypeBackward=n.AnimationType.Fade;k.AnimationTypeInner=n.AnimationType.Fade};r.disableAnimations=function(){k.AnimationTypeForward=n.AnimationType.None;k.AnimationTypeBackward=n.AnimationType.None;k.AnimationTypeInner=n.AnimationType.None};r.updateWidth=function(){if(!k.isFastMigrationSite){var b=a(window).width(),b="1440"==b?"1425":b;a("body").css("min-width",b);a("#dmTransArea").width(b);a(".dmRespRow.fullBleedMode .dmRespCol .dmLinksMenu").each(function(b,c){a(this).css("margin-left",
"");if(a(this).offset().left+a(this).outerWidth()>a(window).outerWidth()){var e=Math.max(a(this).parent().outerWidth()-a(this).outerWidth()-20,0);a(this).dmCss("margin-left",e+"px !important")}})}};r.updateIOSHeight=function(b,c){var e=window.myScroll;b=b||a(window).height();c=c||a(window).width();c="1440"==c?"1425":c;jQuery("#iOSWrapper").css("height",b);a("body").css("min-width",c);"undefined"!==typeof e&&(setTimeout(e.refresh,100),setTimeout(e.refresh,1E3),setTimeout(e.refresh,5E3))};r.updateWidthAndHeight=
function(a,b){r.updateWidth();r.updateIOSHeight(a,b)};r.updateAfterInit=function(){r.updateWidth();r.isUseIscroll()&&a.layoutManager.refreshIscroll()};r.isCurrentHomePage=function(){var a=!0;_currentPage&&null!=_currentPage.pageContent?a=_currentPage.pageContent.isHomePage:_currentPage&&(a=_currentPage.linkType===n.LinkType.Home);return a};r.getHomeLink=function(){var a,b=window.location.toString();a="";var c=F(b,"dm_try_mode"),e=F(b,"dm_package"),b=F(b,"fw_sig_tier");null!=c&&(a+="dm_try_mode\x3d"+
c);null!=e?a+="dm_package\x3d"+e:null!=b&&(a+="fw_sig_tier\x3d"+b);0<a.length&&(a="\x26"+a);return k.HomeUrl+"?url\x3d"+k.NavigationAreaParams.NavbarLiveHomePage.replace("?","\x26")+a};r.jumpTo=function(b,c){try{c=c||0,a("body, html").scrollTop(a(b).offset().top+c)}catch(e){}};r.setLoadingOnScreen=function(a,b,c,e){oa(a,b,c,e)};r.getPageHeight=function(){return wa("innerHeight","clientHeight")};r.getPageWidth=function(){return wa("innerWidth","clientWidth")};r.initAjaxLinks=function(a){fa(a)};r.initMenusArrows=
function(b){var c;if(!isDudaone&&(b=b||{},c=jQuery(".dmRestaurantMenu .menuCategory"),0<c.length)){for(var e=null,d=function(a){var b=a.find(".menuCatArrow");b.hasClass("icon-chevron-up")?(a.nextUntil(".menuCategory").not(".menuCategory").css("display","none"),b.removeClass("icon-chevron-up").addClass("icon-chevron-down")):(a.nextUntil(".menuCategory").not(".menuCategory").css("display","list-item"),b.removeClass("icon-chevron-down").addClass("icon-chevron-up"))},f=function(){var a=b.elem.find("li"),
c=b.elem.find("li.menuCategory").find(".menuCatArrow");a.css("display","list-item");c.removeClass("icon-chevron-down").addClass("icon-chevron-up")},g=function(){d(a(this))},h=0;h<c.length;h++){var p=a(c[h]);p.next().hasClass("menuCategory")||!p.next().length?p.find(".menuCatArrow").addClass("hide"):(p.unbind("click").click(g),e||(e=p),d(p))}b.isOpenAll?f():e&&d(e)}};r.setCachedPageContent=function(a,b){-1!==a.indexOf("url\x3d")&&(a=unescape(F(a,"url")));var c=na(a);null!=c&&(c.pageContent=b)};r.hasMoreLessButtons=
function(){return 0<jQuery(".dmMore").length||0<jQuery(".dmLess").length};r.assignLoaderColor=function(a){Fa(a)};r.openCloseRSS=function(b){b=a(b).parent();var c=b.attr("_oldHeight");c&&0<c.length?(b.attr("_oldHeight",""),b.attr("style",""),b.find(".dmListItemDescriptionDiv:first").css("max-height",c),b.parent().removeClass("parentOfOpenDescription")):(b.attr("_oldHeight",b.find(".dmListItemDescriptionDiv:first").css("max-height")),b.attr("style",""),b.find(".dmListItemDescriptionDiv:first").css("max-height",
"none"),b.parent().addClass("parentOfOpenDescription"));a.DM.afterExpandCollapse()};r.afterDropPositionFoundHook=function(){a.layoutManager.afterDropPositionFoundHook()};r.shouldshowCookieNotification=function(){var a=!1,b=!1;/showCookieNotification=true/.test(window.location.search)?a=!0:r.isPreview()?a=!1:(b=g(),a=k.showCookieNotification);b&&(a=a&&"true"!==localStorage.getItem("cookieNotificationHasBeenSeen"))&&localStorage.setItem("cookieNotificationHasBeenSeen","true");return a};r.getCookiesNotificationMarkup=
function(){var a=k.cookiesNotificationMarkup;/cookieNotificationLanguage=/.test(window.location.search)&&(a=window.cookiesNotificationMarkupPreview);return a};r.handleCookiesNotification=function(){r.shouldshowCookieNotification()&&a.loadScript("/_dm/s/rt/smart/message.js").then(function(){window.insiteScripts.message({settings:{delay:.5,body:r.getCookiesNotificationMarkup()},dontParseSettings:!0,dontSendCloseEvent:!0})})};var Z=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML=
"\x3c!--[if gt IE "+ ++a+"]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e",c[0];);return 4<a?a:void 0}();a.DM.getParamValue=F;r.isLinkException=O;r.isAnchorElementException=P;r.initNonAjaxPopups=function(){J()};r.ajaxNavigateToLink=function(a,b,c,e){R(a,b,c,e)};r.ajaxNavigateToLinkOnEvent=function(b){R(a(this).attr("href"),a(this),b)};r.isPermittedOnClickValue=ta;r.isAjaxLink=function(b){return a(b).is(k.LinksToAjax)&&!O(b.attr("href"))?!0:!1};r.getCacheSize=function(){return xa()};r.getQueryParam=function(a,
b){return F(a,b)};r.isUseLayout=function(){return!0};r.isUseIscroll=function(){return null==a.layoutDevice.components.iscrollBody?!1:a.layoutDevice.components.iscrollBody.isUseIscroll};r.isBodyScrollable=function(){return a.commonComponents.slideRightNav&&a.commonComponents.slideRightNav.slideNavigationObject?!1:null==a.layoutDevice.components.iscrollBody?!0:a.layoutDevice.components.iscrollBody.isBodyScrollable};r.initStickyHeaderIfNeeded=function(b){b=a(".dmHeaderContainer").length?a(".dmHeaderContainer"):
a("#desktopHeaderBox");a(".hasStickyHeader").length&&b.length&&(a(".forceStickyHeader").length||"fixed"==b.css("position"))&&a(".d-header-wrapper:visible").length?a("#stickyHeaderSpacer").length||a("\x3cdiv id\x3d'stickyHeaderSpacer' class\x3d'stickyHeaderSpacer'\x3e\x3c/div\x3e").insertAfter(b):a("#stickyHeaderSpacer").remove()};r.showPrevPageFromCache=function(){var a;try{var b=null,c=null;1<ca.length&&(c=ca[ca.length-2]);a=b=la?Q(JSON.parse(I.getItem(c))):I[c]}catch(e){a=null}null!=a&&(a.pageAnimation=
"backward",a.show(!1))};r.needToShowBackToHome=function(){if(k.AllowAjax&&!a.DM.getQueryParam(window.location.href,"nee")){var b=1<ca.length;_currentPage&&_currentPage.pageContent&&_currentPage.pageContent.isHomePage&&(b=!1);return b}return!k.IsCurrentHomePage};r.setUserOnPageReady=function(b){a.DM.userOnPageReadyFn=b;"function"!==typeof a.DM.userOnPageReadyFn||a.DM.setUserOnReadyFn||(a(function(){"function"===typeof a.DM.userOnPageReadyFn&&a.DM.userOnPageReadyFn({isAjax:!1})}),a.DM.setUserOnReadyFn=
!0)};r.restoreDefaultNavigationStyles=function(){var b=a(k.NavigationAreaParams.NavbarSelector);if(0<b.length){var c=b.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(c=c.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0===c.length&&(c=b.children("a"));c.each(function(){var b=a(this);1===this.nodeType&&(b.css("position",""),b.css("top",""),b.changeDisplay(""),b.css("opacity",""),b.css("transform",""),b.css("-webkit-transition",""),b.css("-webkit-transform",""),b.css("-moz-transition",
""),b.css("-moz-transform",""),b.css("-o-transition",""),b.css("-o-transform",""),b.css("-ms-transition",""),b.css("-ms-transform",""),b.unbind("webkitTransitionEnd"),b.unbind("transitionend"),b.unbind("oTransitionEnd"))})}};r.loadExternalScriptsAsync=function(){k.AllowAjax&&(a.history.init(qa),Ea())};r.loadExternalScriptAsync=function(a,b,c,e){return v(a,b,c,e)};r.loadExternalScriptSync=function(b,c,e){a.ajaxSetup({async:!1});r.loadExternalScriptAsync(b,c,e);a.ajaxSetup({async:!0})};r.setPageClass=
function(){var b=a("#dm_content").find("\x3e:first-child").attr("id");a("#dm-outer-wrapper").removeClass("d-page-"+a("#dm-outer-wrapper").attr("data-page-class")).addClass("d-page-"+b).attr("data-page-class",b)};r.initListWidget=function(){return a("div.dmPrettyList").length?"List initialized":"No Lists"};r.insideEditor=function(){try{var b=window.editorParent&&window.editorParent.jQuery&&window.editorParent.jQuery.dmfw,c=!window.editorParent.jQuery.onefw&&a("body").hasClass("bodyInsideNee"),e=window.editorParent.jQuery.onefw&&
!window.editorParent.jQuery.onefw.inPreviewMode;return!!b&&(c||e)}catch(d){return!1}};r.isPreview=function(){return r.insideEditor()||window.editorParent&&window.editorParent.jQuery&&(window.editorParent.jQuery("body").hasClass("mobilePreviewBody")||window.editorParent.jQuery("body").hasClass("onePreviewBody"))};r.showPopUp=function(a,b,c,e){c=c||600;e=e||560;if(a)return window.open(a,b,"toolbar\x3dno, location\x3dno, directories\x3dno, status\x3dno, menubar\x3dno, scrollbars\x3dno, resizable\x3dno, copyhistory\x3dno, width\x3d"+
c+", height\x3d"+e+", top\x3d"+(screen.height/2-e/2)+", left\x3d"+(screen.width/2-c/2))};r.fixEmptyColumns=function(){if(!window.editorParent.$){var b=a(".dmBody .dmRespCol");a.each(b,function(b,c){var e=a(c);0===e.find("[dmle_widget], [dmle_extension], [data-placeholder\x3dtrue], img, hr, .dmParagraphPlaceholder, .dmNewParagraph, .dmCustomHtml, .dmLocked").filter(":not(:hidden):not(.dmDraggedDomElement):not(.dmDraggedDomElement *)").add(e.find(".hide-for-small,.hide-for-medium,.hide-for-large")).length&&
(0===e.height()||e.is(":has(.dmPasteButton)")||0===e.find(":visible").text().trim().length)&&e.children().length&&e.addClass("emptyColumn")})}};r.initExternalAppButtons=function(b){(b&&b.is(".dmExternalAppButton")?a(b):a(".dmExternalAppButton")).each(function(){var b=a(this);b.attr("data-name");var c=b.attr("data-provider"),d=b.attr("data-src"),f=parseInt(b.attr("data-inith")||"500")||500;if(d){var g=a('\x3cdiv\x3e\x3cdiv class\x3d"popupData"\x3e\x3ciframe seamless src\x3d"'+d+'" style\x3d"margin:auto;width:900px;height:'+
f+'px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e');b.off("click.openPopup").on("click.openPopup",function(){r.insideEditor()||e(g,"","noTitle externalAppPopup"+c,940,f+50)})}})};r.initClickToCallWidget=function(){var b,c,e,d,f;d=a.layoutDevice?a.layoutDevice.type:"mobile";c=a(".dmCall.voipReplacement");for(b=0;b<c.length;b++)e=c.eq(b),0===e.find(".phoneNumHolder").length&&(f=e.attr("phone"),e.append('\x3cspan class\x3d"text phoneNumHolder"\x3e'+f+"\x3c/span\x3e"),"mobile"!==d&&e.attr("href","#"));
a("body").off("mousedown.voipReplacement").on("mousedown.voipReplacement",".dmCall.voipReplacement",function(){if("mobile"===(a.layoutDevice?a.layoutDevice.type:"mobile"))return-1===window.location.href.indexOf("nee\x3d");var b=a(this),c=b.find(".phoneNumHolder"),e=b.attr("phone");c.html(e);e&&(c.show(),setTimeout(function(){b.toggleClass("revealPhoneNum")},100),a(".phoneNumHolder").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){b.hasClass("revealPhoneNum")?a(this).show():
a(this).hide()}))})};r.ajaxExt=function(){a("[ext_ajax_load]").each(function(){var b=a(this).attr("ext_site_alias"),c=a(this).attr("ext_page_alias"),e=a(this).attr("dmle_extension"),d=a(this).attr("ext_el_id"),f=a(this);a.post("/_dm/s/rt/scripts/ajax_ext.jsp",{siteAlias:b,pageAlias:c,extId:e,elementId:d,dm_device:a.layoutDevice?a.layoutDevice.type:"mobile"},function(b){b=a(b);-1===window.location.href.indexOf("nee\x3d")&&!1!==k.RemoveDID&&b.removeAttr("duda_id");f.replaceWith(b)})})};r.initAudioPlayer=
function(){0<jQuery(".dmAudioPlayer").length&&v("/_dm/s/rt/scripts/vendor/jplayer/jquery.jplayer.min.js",function(){v("/_dm/s/rt/scripts/vendor/jplayer/add-on/jplayer.playlist.min.js",function(){var b=jQuery(".dmAudioPlayer");a(document).ready(function(){for(var c=0;c<b.length;c++){var e=a(b[c]).attr("id"),d=a(b[c]).attr("type"),f="#jp_container_"+e,e="#jp_jplayer_"+e,g={};g[d]=a(b[c]).attr("media");g.title=a(b[c]).attr("title");"true"===a(b[c]).attr("dl")&&(g.free=!0);d={swfPath:"/_dm/s/rt/scripts/vendor/jplayer/",
supplied:d,wmode:"window",preload:"auto"};void 0!==Z&&(d.solution="flash, html");new window.jPlayerPlaylist({jPlayer:e,cssSelectorAncestor:f},[g],d)}})},!0)},!0)};r.isIOS=function(){return/(iPhone|iPad|iPod)/.test(navigator.userAgent)};r.initFacebookScripts=function(){var b=a("#fb-root-override").length?a("#fb-root-override"):a("#fb-root"),c=b.data("locale")||"en_US";if(0<b.length)if("undefined"!==typeof FB)try{FB.XFBML.parse()}catch(e){}else window.fbAsyncInit=function(){try{FB.init({status:!0,cookie:!0,
xfbml:!0,oauth:!0})}catch(a){}},function(a){var b;a.getElementById("facebook-jssdk")||(b=a.createElement("script"),b.id="facebook-jssdk",b.async=!0,b.src="en_US"===c?"//dd-cdn.multiscreensite.com/jscache/facebook_all_en_US.js":"//connect.facebook.net/"+c+"/all.js",a.getElementsByTagName("head")[0].appendChild(b))}(document)};r.onIscrollScrolls=function(){var b=Oa(),c=jQuery.layoutManager.getLayoutElement().iscrollBody.element;Ga(b[1]);a(c).height();r.isBodyScrollable()||a(c).height()};r.initBackToTop=
function(){var b=window,c;r.isBodyScrollable()||(b=jQuery.layoutManager.getLayoutElement().iscrollBody.element);Ga(Oa()[1]);window.location.href.indexOf("nee\x3d");a(b).off("scroll.btt").on("scroll.btt",function(){var c=Oa();Ga(c[1]);a(b).height();r.isBodyScrollable()||a(b).height()});a(".dmBackToTop").off("click.top").on("click.top",function(){c=a(".dmBackToTop");c.css("opacity","0");c.css("visibility","hidden");r.isBodyScrollable()?a.DM.scrollPreviewToElement(a("body"),500,null):a.DM.scrollPreviewToElement(a("#site_content"),
500,null)})};r.initDatePicker=function(){function b(e){var d=a(e).attr("lang");"ja"===d||"pt"===d||"es"===d?v("/_dm/s/rt/scripts/vendor/datePicker/mobiscroll.lang."+d+".js",function(){c(e,d)}):c(e,"en-US")}function c(b,e){if(a(b).hasClass("dmDatePicker")){var d=a(b).attr("date_format"),f="mmddyyyy"===d?"mm/dd/yyyy":"dd/mm/yyyy";a(b).scroller({preset:"date",display:"bubble",dateOrder:d,dateFormat:f,lang:e,endYear:(new Date).getFullYear()+10})}else d=a(b).attr("time_format"),f="Hii"===d?"H:ii":"h:ii a",
a(b).scroller({preset:"time",display:"bubble",timeFormat:f,timeWheels:d,lang:e})}var e,d,f;f=a(".dmDatePicker");d=a(".dmTimePicker");0<f.add(d).length&&((e="desktop"===a.layoutDevice.type)?v("/_dm/s/rt/scripts/vendor/datetimepicker/jquery.datetimepicker.js",function(){var b,c;b={datepicker:!1,format:"H:i",step:15};c={timepicker:!1};a.each(f,function(b,e){c.format="ddmmyyyy"===a(e).attr("date_format")?"d/m/Y":"m/d/Y";a(e).datetimepicker(c)});a.each(d,function(c,e){b.formatTime="hiia"===a(e).attr("time_format").toLowerCase()?
"h:i a":"H:i";b.format="hiia"===a(e).attr("time_format").toLowerCase()?"h:i a":"H:i";a(e).datetimepicker(b)})}):v("/_dm/s/rt/scripts/vendor/datePicker/mobiscroll-2.0.3.custom.min.js",function(){var c=jQuery(".dmDatePicker"),e;for(e=0;e<c.length;e++)b(a(c[e]));c=jQuery(".dmTimePicker");for(e=0;e<c.length;e++)b(a(c[e]))}))};r.initRSS=function(){var b=a(".dmRSSFeed .dmListItemDescriptionDiv");if(!b.length)return"No RSS";b.each(function(){var b=a(this),c=b.height();b.css("max-height","none");b.height()===
c?b.parent().find(".rssListReadMore").addClass("dmDisplay_None"):b.parent().find(".rssListReadMore").removeClass("dmDisplay_None");b.css("max-height","")});return"RSS Initialized"};r.initSmartTables=function(){var b=jQuery("table.footable.dmSmartTable");0<b.length&&v("/_dm/s/rt/scripts/vendor/footable.0.1.js",function(){for(var c=0;c<b.length;c++)a(b[c]).footable()})};r.initBlogs=function(){0<a(".dmRssContainer").length&&window.initBlogs&&window.initBlogs()};r.preloadImages=function(){var a=new Image;
a.src="/_dm/s/rt/images/emailShareTitleBg.png";a.src="/_dm/s/rt/images/closeShareWin.png"};r.initPoweredByBanner=function(){function b(){200>new Date-e?setTimeout(b,200):(d=!1,c())}var c=function(){var b=a("#topBanner");if(!r.insideEditor()||!b.data("fixed")){var c=a(".socialRow .dmSocialHub"),e=a(".socialRow .dmSocialParagraph"),d=a("#upperFloatingNav"),f=a(".hasStickyHeader").length,g=0===d.length,h=0===c.length||"none"===c.css("display"),p=0===e.length||"none"===e.css("display");if(b.length){var n=
10;b.css("top",n);!a.dmrt.isEditorMode&&a("#topBanner").length&&a("#topBanner").show();if(!(h&&p&&g&&~~!f)){h||a(window).width()-c.offset().left-c.outerWidth()<b.width()+10&&(n=c.offset().top+c.height()+10);p||a(window).width()-e.offset().left-e.outerWidth()<b.width()+10&&(n=Math.max(n,e.offset().top+e.height()+10));g||(c=a(window).width()-d.offset().left-d.outerWidth(),e=d.offset().top+d.outerHeight(),g=b.offset().top+b.height(),d.offset().top<g&&c<b.width()+10&&(n=Math.max(n,e+10)));f&&(n=a("#desktopHeaderBox").height(),
d=a(".dmHeaderContainer").height(),n=(n||d)+10);if(f=d=document.getElementById("slideDownTrigger"))f=b[0],d.offsetBottom=d.offsetTop+d.offsetHeight,d.offsetRight=d.offsetLeft+d.offsetWidth,f.offsetBottom=f.offsetTop+f.offsetHeight,f.offsetRight=f.offsetLeft+f.offsetWidth,f=!(d.offsetBottom<f.offsetTop||d.offsetTop>f.offsetBottom||d.offsetRight<f.offsetLeft||d.offsetLeft>f.offsetRight);f&&(n=d.offsetTop+d.offsetHeight);b.css("top",n);b.data("fixed",!0)}}}},e=new Date,d=!1;a(window).unbind("resize.banner").bind("resize.banner",
function(){e=new Date;!1===d&&(d=!0,setTimeout(b,200))});c()};r.scrollPreviewToElement=function(b,c,e,d){d=d||{};c=c||400;if(null!=b&&0!==b.length){var f=b.offset().top,g="body";if(a.browser.mozilla||a.browser.msie)g="body,html";if(!r.isBodyScrollable()&&0<a("#iscrollBody").has(b).length)if(f-=a.layoutDevice.getTopFixedElementsOffset(),r.isUseIscroll())a.layoutManager.getLayoutElement().iscrollBody.iscrollObject.scrollToElement(b.get(0),400);else{g="#iscrollBody";b=[0,0];try{b=[a.layoutManager.getLayoutElement().iscrollBody.element.scrollLeft(),
a.layoutManager.getLayoutElement().iscrollBody.element.scrollTop()]}catch(h){b=[0,0]}f+=b[1]}b=a(g).scrollTop();var n=window.editorParent.$&&window.editorParent.$("#_preview").height();a.DM.isBodyScrollable()||(n=a("#iscrollBody").height());n||(n="undefined"!==typeof window.innerWidth?window.innerHeight:0);var p=window.getEventsFirePolicy?window.getEventsFirePolicy():!0;if(d.forceScroll||b>f||f>b+n)window.setEventsFirePolicy&&window.setEventsFirePolicy(!1),d.noAnimation?(a(g).scrollTop(f-(d.offsetTop?
d.offsetTop:0)),window.setEventsFirePolicy&&window.setEventsFirePolicy(p),e&&e()):a(g).animate({scrollTop:f-(d.offsetTop?d.offsetTop:0)},c,function(){window.setEventsFirePolicy&&window.setEventsFirePolicy(p);e&&e()})}};r.scrollToAnchor=function(b,c){c=c||{};var e=0,d=a("#stickyHeaderSpacer");d.length&&(e=d.outerHeight());c.additionalOffset&&(e+=c.additionalOffset);c.offsetTop=e;r.scrollPreviewToElement(b,c.duration,c.afterScroll,c)};r.getScrollingPosition=function(a){return Oa(a)};r.pullContent=function(){a.dmrt.isEditorMode&&
window.editorParent.$&&window.editorParent.$.dmx.current.element&&window.editorParent.$.contentImport.open({element:window.editorParent.$.dmx.current.element,editable:window.editorParent.$.dmx.current.editable})};r.afterAjaxGeneralInits=function(b){r.setPageClass();r.loadExternalScriptsAsync();r.initNavbar();r.ajaxExt();r.initListWidget();r.initDatePicker();r.initAudioPlayer();r.initRSS();r.initFacebookScripts();r.initBlogs();r.initMenusArrows();r.initExternalAppButtons();r.initClickToCallWidget();
r.fixEmptyColumns();r.initStickyHeaderIfNeeded();r.triggerInsiteEvents();a.dmrt.initReady(a.layoutDevice?a.layoutDevice.type:"mobile",b)};r.triggerInsiteEvents=function(){a.each(window._dm_insite||[],function(b,c){a.DM.events.trigger("ruleTriggered",{ruleName:c.name});a.DM.events.trigger("ruleTriggered:"+c.name,{rule:c})});a(".dmSmartSection a[href]").on("click.insite",function(){var b=a(this),c=b.attr("href");if(c&&""!==c&&!a(this).is(".dmMap a,.dmCall a")){var e=0===c.indexOf("http");return f("link_click",
"click",c,k.SiteAlias,b.get(0),{hitCallBack:e})}})};r.afterAjaxGeneralLoadInits=function(){r.initBackToTop();r.initSmartTables();r.initPoweredByBanner();a.dmrt.initLoad(a.layoutDevice?a.layoutDevice.type:"mobile");a("body").addClass("fullyLoaded")};r.getScreenBrigthness=function(b){var c,e,d;c=a(k.BackgroundElement);null!=b&&(c=a(b));if(null!=c){d=c.css("background-color");if(null==d)return 255;-1===d.indexOf("rgba")?(b=/rgb\((\d+), (\d+), (\d+)\)/,d=b.exec(d),b=parseInt(d[1],10),c=parseInt(d[2],
10),e=parseInt(d[3],10),b=(299*b+587*c+114*e)/1E3):(b=/rgba\((\d+), (\d+), (\d+), (\d+)\)/,d=b.exec(d),b=parseInt(d[1],10),c=parseInt(d[2],10),e=parseInt(d[3],10),d=parseInt(d[4],10),b=(299*b+587*c+114*e)/1E3,0===d&&(b=255));return b}return 255};r.logToDMAjax=function(a){K(a)};r.getCurrentPageUrl=function(){return _currentPage.pageAlias};r.getPageFromCache=function(a){return null!=a?ma(a):null};r.getPageUrlByPageId=function(b){return null!=b&&(b=ma(b),null!=b)?(b=b.pageUrl,-1!==b.indexOf("url\x3d")&&
(b=unescape(a.DM.getQueryParam(_currentPage.pageUrl,"url"))),b):null};r.hideAllPopups=function(){"function"===typeof l&&l()};r.testTouch=function(){var b=!1;"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch?(b=!0,a("html").addClass("touch")):a("html").addClass("pointer");return b};r.forceReplaceState=!1;r.isBrowserSupportTransitions=pa;a(document).ready(function(){var b=!1,c=a.layoutDevice&&"desktop"!==a.layoutDevice.type;(function(){var c;a(window).on("scroll",
function(){clearTimeout(c);b||(b=!0,a(document.body).addClass("disable-hover"),parent&&parent.$&&parent.$.setTestProperty&&window.parent.$.setTestProperty("previewEventsDisabled",!0));c=setTimeout(function(){a(document.body).removeClass("disable-hover");b=!1;parent&&parent.$&&parent.$.setTestProperty&&window.parent.$.setTestProperty("previewEventsDisabled",!1)},400)},!1)})();a.DM.isTouchDevice=function(){var b=window.getSafe;return b("previewParent.isSitePreview")?!1:"desktop"===b("$.layoutDevice.type")?
!1:a.DM.testTouch()}();if(RegExp("android","gi").test(navigator.appVersion)){L=n.AgentType.Android;var e=a("\x3cstyle\x3e* {-webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\x3c/style\x3e");a("head").append(e)}else if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))L=n.AgentType.Iphone;else if(navigator.userAgent.match(/BlackBerry/i))L=n.AgentType.BlackBerry;else if(navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/iEMobile/i))L=
n.AgentType.WindowsMobile;k.CurrentThemeName.indexOf("NoiseBG");if(L===n.AgentType.WindowsMobile||7===Z||a&&a.browser&&a.browser.msie&&10>a.browser.version)k.AllowAjax=!1;r.updateWidth();a.DM._frameworkReady||(k.trans=L===n.AgentType.Iphone?"translate3d":"translate",h(),k.LinksToAjaxExceptions=Wa.concat(k.LinksToAjaxExceptions),k.AllowAjax?D():A(),pa()&&k.AllowAjax||r.disableAnimations(),r.afterAjaxGeneralInits(),r.preloadImages(),Na(_currentPage),C(),a.DM._frameworkReady=!0);c&&!r.insideEditor()&&
a("body, html").scrollTop(0);k.AllowAjax?(fa(),k.IsSEOFriendlyLinks&&window.history&&(window.onpopstate=function(a){window.noPopState?window.noPopState=!1:(a=a.target.location.pathname+a.target.location.search,qa(hex_sha1(a)+"",a,!0))})):(S(),J());a(document).off("touchend.temporaryblock click.temporaryblock");null!=k.StartupCommand&&k.StartupCommand();(function(a){a(document).ready(function(){var b,c,e;c=a(".imageWidget, .dmImageSlider, .dmPhotoGallery:not(.dmFacebookGallery), .dmHoursOfOperation").toArray();
for(e=0;e<c.length;e++)b=c[e],b.setAttribute("editableWidget",!0),-1<b.className.indexOf("imageWidget")?b.setAttribute("data-widget-type","image"):-1<b.className.indexOf("dmImageSlider")?b.setAttribute("data-widget-type","imageSlider"):-1<b.className.indexOf("dmPhotoGallery")?b.setAttribute("data-widget-type","photoGallery"):-1<b.className.indexOf("dmHoursOfOperation")&&b.setAttribute("data-widget-type","hoursOfOperation")})})(jQuery);r.handleCookiesNotification()});a(window).load(function(){r.afterAjaxGeneralLoadInits();
r.updateWidth()})})(jQuery,window);g.dm_gaq_push_url=d;g.dm_gaq_push_event=f;String.prototype.startsWith=function(a){return 0===this.indexOf(a)};String.prototype.endsWith||(String.prototype.endsWith=function(a,b){if(null==a)return!1;var c=this.toString();if(void 0===b||b>c.length)b=c.length;b-=a.length;c=c.indexOf(a,b);return-1!==c&&c===b});String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};(function(a){a.fn.blink=function(b){function c(d){d=d||a(this);d.data("blinkStop")||d.fadeOut(b.fadeOut,
e)}function e(d){d=d||a(this);d.data("blinkStop")||d.fadeIn(b.fadeIn,c)}if("stop"===b)return this.data("blinkStop",!0).stop(!0,!0).show();this.data("blinkStop",!1);b=a.extend({},{fadeIn:100,fadeOut:300},b||{});c(this);return this}})(jQuery);(function(a){a.fn.changeDisplay=function(b,c){if(b){b=b.replace("!important","");a(this).css("display","");var e=c?"":" !important";a(this).attr("style",(a(this).attr("style")?a(this).attr("style")+";":"")+"display: "+b+e)}""===b&&a(this).css("display",b)};a.fn.dmCss=
function(b,c){var e="";c||(e=a(this).css(b));""===c?e=a(this).css(b,""):-1!==c.indexOf("!important")?(c=c.replace("!important",""),a(this).css(b,""),a(this).each(function(){var e=a(this).attr("style");a(this).attr("style",(e?e+";":"")+b+": "+c+" !important")}),e=a(this)):e=a(this).css(b,c);return e};a.fn.naturalSize=function(){if(this){var b=a(this);if(b.is("img")){if(void 0===b.prop("naturalWidth")||null===b.prop("naturalWidth")){var c=a("\x3cimg/\x3e").attr("src",b.attr("src"));b.prop("naturalWidth",
c[0].width);b.prop("naturalHeight",c[0].height)}return{width:b.prop("naturalWidth"),height:b.prop("naturalHeight")}}}return{}};a.fn.centerImageWithin=function(b,c){c=c||{};var e=a(this),d=a(b);if(e.is("img")&&0<d.length){e.attr("dm","true");var d=e.naturalSize(),f=d.height,g=d.width;if(!f||!g||0===f*g){var h=e.attr("dm_crop_dim"),d=!1;h&&(h=h.split("_"))&&4===h.length&&(d=!0);d||(e.attr("irh"),e.attr("irw"));return!1}var d=c.forceContainerHeight||b.height(),h=c.forceContainerWidth||b.width(),n=!c.stretch&&
g<=h&&f<=d;e.css("height","");e.css("left","");e.css("width","");e.css("top","");e.css("max-width","none");n?(d=Math.ceil(f)-d,e.css("top",""+(0-d/2)+"px")):(n=h/g*f,f=d/f*g,g=n>=d,c.stretch&&g||!c.stretch&&!g?(e.dmCss("width",h+"px !important"),e.dmCss("max-width",h+"px !important"),e.dmCss("min-width",h+"px !important"),e.dmCss("height",Math.ceil(n)+"px !important"),d=Math.ceil(n)-d,e.css("top",""+(0-d/2)+"px")):(e.dmCss("height",d+"px !important"),e.dmCss("width",Math.ceil(f)+"px !important"),
e.dmCss("max-width",Math.ceil(f)+"px !important"),e.dmCss("min-width",Math.ceil(f)+"px !important"),d=Math.ceil(f)-h,c.stretch&&e.css("left",""+(0-d/2)+"px")));return!0}}})(jQuery);a.fn.imgCover=function(b){b=b||{type:"cover"};this.each(function(c,e){var d=a(e);if(d.is("img")){var f=d.parent(),g=d.attr("src");d.hide();f.addClass("dmCoverImgContainer").css("background-image","url("+g.replace("'","\\'")+")").css("background-size",b.type).css("background-repeat","no-repeat").css("background-position",
"center")}});return this};jQuery.fn.center=function(){this.css("position","absolute");this.css("top",(jQuery(window).height()-this.outerHeight())/2+jQuery(window).scrollTop()+"px");this.css("left",(jQuery(window).width()-this.outerWidth())/2+jQuery(window).scrollLeft()+"px");return this};g.showOverlay=c;g.dmShowPopupPage=function(b,e,d,f,g){g=g||{};var n=a("#dm_content"),p=jQuery("#dmPopup"),k=p.first(),t=jQuery("body"),l=t.find("#dmPopup");p.not(k).remove();0===l.size()?n.append(k):n.append(l);l.attr("class",
"dmPopupPage noTitle "+(e?e:""));l.find(".data").html(b);t.addClass("popupOpen");g.dontOverlay||c(g);l.find("*").andSelf().each(function(){var b=a(this).attr("class");b&&(a(this).attr("class",""),a(this).attr("class",b))});b=h(d,f);l.css(b);l.find(".data").css({"overflow-y":"auto",height:"100%"});g.animation&&"none"!==g.animation&&(l.addClass("animated"),l.addClass(g.animation));g.videoBg&&l.attr("data-video-bg",g.videoBg);g.hasOverlay&&l.addClass("hasBackgroundOverlay");l.show();window.event&&window.event.stopPropagation();
g.onClose&&a(".dmPopupClose").click(g.onClose);a(window).off("orientationchange.popupResize resize.popupResize").on("orientationchange.popupResize resize.popupResize",function(a){a=h(d,f);l.css(a)});return!1};g.dmShowPopup=e;g.dmHidePopup=l;g.dmModifyPopupPageContent=function(a){var b=jQuery("body").find("#dmPopup");b&&(b=b.find(".data"),b.empty(),a.appendTo(b))};g.handleImageLoadError=function(b){b=jQuery(b);b.hide();var c=b.data("dm-image-path");c&&(b.removeAttr("data-dm-image-path"),b.removeData("dm-image-path"),
b.on("load",function(){var b=a(this);b.off("load");b.show()}),b.attr("src",c))};g.setSmartSiteCookiesInternal=function(b,c,e,d){var f=24*window.expireDays,g=new Date,h=a.getCookie(b);null==h&&(h=g.getTime());a.setCookie(c,h,f);a.setCookie(b,g.getTime(),f);b=1*a.getCookie(e)+1;if(1===b||g.getTime()-h>window.visitLength)a.setCookie(d,g.getTime(),f),a.setCookie(e,b,f)};g.setLoaderSize=p;g.setLoaderColor=t;g.showDefaultLoader=function(b,c){p(10,3,b);t("black",b);b.closest("body").css("height","100%");
b.css("position","absolute").css("display","block").css("z-index","100000").css("left",a(c).width()/2+"px").css("top",a(c).height()/2+"px");b.closest("body").css("height","");b.find("#imageZone").show()};g.setCustomWidgetScripts=u})(jQuery,window);(function(a,g){function d(e){null==e&&(e=!1);var d=a(Parameters.NavigationAreaParams.NavbarSelector),g=Parameters.NavigationAreaParams.NavbarSize;e&&(d=a(Parameters.NavigationAreaParams.SubNavbarSelector));var h=d;if(0<h.length){var k=d.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(k=k.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==k.length&&(k=d.children("a"));if("inline"==k.eq(0).css("display")&&"block"!=k.eq(0).children(":first-child").css("display"))h.length=0;else{var l=
h.find(".dmLess");0==l.length&&(l=h.find("#dmNavigationLessAnchor"));0<l.length&&l.remove();l=h.find(".dmMore");0==l.length&&(l=h.find("#dmNavigationMoreAnchor"));0<l.length&&l.remove();var w=!1,q=0,z=0,B=0,C=0,v=null;k.length>g+1?k.each(function(e){var d=a(this);if(1==this.nodeType)if(0==e&&("inline-block"==d.css("display")&&d.css("display"),v=d.clone().css("display",d.css("display")).css("float",d.css("float"))),e>=g)C++,c()?(d.changeDisplay("none"),d.addClass("dmNavCollapsedItem"),d.removeClass("dmNavShownItem"),
d.removeClass("p_list_last")):(e==g&&(z=d.offset().top-z-B,q+=B+z),d.changeDisplay("none"),d.addClass("dmNavCollapsedItem"),d.removeClass("dmNavShownItem"),d.css("position","relative"),d.removeClass("p_list_last"),d.hasClass("dmNavigationMoreAnchor")||d.hasClass("dmMore")||(d.css("position","relative"),d.removeClass("p_list_last"),d.addClass("p_list_item"),d.changeDisplay("none"),b(h,v)&&(d.css("-webkit-transition",""),d.css("-webkit-transform",""),d.css("opacity","0"),d.css("-moz-transition",""),
d.css("-moz-transform",""),d.css("-o-transition",""),d.css("-o-transform",""),d.css("-ms-transition",""),d.css("-ms-transform",""),e=function(){d.changeDisplay("none")},d.bind("webkitTransitionEnd",e),d.bind("transitionend",e),d.bind("oTransitionEnd",e))),b(h,v)&&d.css("top",-q+"px"),q+=d.height()+z,d.changeDisplay("none")),w=!0;else if(e==g-1){if(d.addClass("dmNavShownItem"),!a.browser.msie||11<=1*a.browser.version)z=d.offset().top,B=d.height()}else d.addClass("dmNavShownItem")}):k.addClass("dmNavShownItem");
w&&(e=f(d,"more",e),h.filter(":not('#hiddenNavPlaceHolder *')").children("li").eq(-1).after(e));var F=[];h.find("li").each(function(b,c){var e=a(this);"inline-block"==e.css("display")?(F[b]=!0,e.css("display","inline")):F[b]=!1});h.find("li").each(function(b,c){if(F[b]){var e=a(this);"inline"==e.css("display")&&e.css("display","inline-block")}})}}}function f(c,e,d){null==d&&(d=!1);var f=a("#navAnchor");0==f.length&&(f=a("\x3ca\x3e\x3c/a\x3e"),f.attr("name","nav"),f.attr("id","navAnchor"),f.insertBefore(c.parent()));
f=c.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(f=f.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));var g="li";0==f.length&&(f=c.children("a"),g="a");var h=a([]);if("li"==g){0==h.length&&(h=a('\x3cli class\x3d"p_list_item p_list_last dmNavShownItem"\x3e\x3c/li\x3e'));var l=f.eq(Parameters.NavigationAreaParams.NavbarSize-1).find("a").attr("className");"undefined"===typeof l&&(l=f.eq(Parameters.NavigationAreaParams.NavbarSize-1).find("a").attr("class"));l=f.eq(Parameters.NavigationAreaParams.NavbarSize-
1).css("display");f.eq(Parameters.NavigationAreaParams.NavbarSize-1).height();"more"==e?(g=(g=c.attr("dmmoreicon"))?" fontIcon hasFontIcon "+g:"",h.addClass("dmMore"),h.removeClass("dmLess"),h.attr("id","dmMore"),h.html('\x3ca onclick\x3d"jQuery.DM.expandNavigation('+d+");$.DM.afterExpandCollapse();return false;\" href\x3d\"#\" class\x3d'dmUDNavigationItem_dmMore dmMorea dmNavigationMoreAnchor'\x3e\x3cdiv class\x3d'navIconBg'\x3e\x3cdiv class\x3d'navIcon "+g+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d'dmMoreNavText' class\x3d'navText'\x3e"+
Parameters.NavigationAreaParams.MoreButtonText+"\x3c/div\x3e\x3cdiv class\x3d'navArrowBg'\x3e\x3cdiv class\x3d'navArrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'navArrowBottom'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e")):"less"==e&&(g=(g=c.attr("dmlessicon"))?" fontIcon hasFontIcon "+g:"",h.addClass("dmLess"),h.removeClass("dmMore"),h.attr("id","dmLess"),h.html("\x3ca id\x3d'dmLess' onclick\x3d\"jQuery.DM.collapseNavigation("+d+");$.DM.afterExpandCollapse();return false;\" href\x3d\"#\" class\x3d'dmUDNavigationItem_dmLess dmLessa dmNavigationLessAnchor'\x3e\x3cdiv class\x3d'navIconBg'\x3e\x3cdiv class\x3d'navIcon "+
g+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d'dmLessNavText' class\x3d'navText'\x3e"+Parameters.NavigationAreaParams.LessButtonText+"\x3c/div\x3e\x3cdiv class\x3d'navArrowBg'\x3e\x3cdiv class\x3d'navArrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'navArrowBottom'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e"))}else"a"==g&&(0==h.length&&(h=a('\x3ca class\x3d"p_list_item p_list_last"\x3e\x3c/a\x3e')),l=f.eq(Parameters.NavigationAreaParams.NavbarSize-1).attr("className"),"undefined"===typeof l&&(l=f.eq(Parameters.NavigationAreaParams.NavbarSize-
1).attr("class")),l=f.eq(Parameters.NavigationAreaParams.NavbarSize-1).css("display"),f.eq(Parameters.NavigationAreaParams.NavbarSize-1).height(),"more"==e?(h.attr("id","dmMore"),h.addClass("dmNavigationMoreAnchor"),h.addClass("dmMore"),h.removeClass("dmLess"),h.unbind("click").click(function(a){jQuery.DM.expandNavigation(d)}),h.text(Parameters.NavigationAreaParams.MoreButtonText)):"less"==e&&(h.attr("id","dmLess"),h.addClass("dmNavigationLessAnchor"),h.addClass("dmLess"),h.removeClass("dmMore"),
h.unbind("click").click(function(a){jQuery.DM.collapseNavigation(d)}),h.text(Parameters.NavigationAreaParams.LessButtonText)),h.css("cursor","pointer"));b(c,f.eq(0))&&h.css("position","relative");h.changeDisplay(l);"more"==e&&b(c,f.eq(0))&&h.css("opacity","1");"less"==e&&b(c,f.eq(0))&&h.css("opacity","0");return h}function c(){return!(a.browser.msie&&11>a.browser.version)&&a.DM.isBrowserSupportTransitions()||a.browser.mozilla?!1:!0}function b(b,c){return a.DM.isBrowserSupportTransitions()&&c.css("display")&&
-1==c.css("display").indexOf("inline")&&b.css("display")&&-1==b.css("display").indexOf("inline")&&-1==c.css("display").indexOf("table")&&("none"==c.css("float")||""==c.css("float"))?!0:!1}var e=!1,h=null;a.DM=a.DM||{};var l={expandableMenuWasClicked:function(b){var c=a("#expandableNavigationContainer"),e=c.parent();b=void 0===b?!c.hasClass("expandableMenuOpen"):b;c.unbind("webkitTransitionEnd");c.unbind("transitionend");c.unbind("oTransitionEnd");var d=a("#dmBlackContainer");0===d.length&&(d=a('\x3cdiv ID\x3d"dmBlackContainer"\x3e\x3c/div\x3e'),
d.css("position","absolute"),d.changeDisplay("none"),d.css("overflow","hidden"),d.css("left","0px").css("top","0px"),d.css("background-color","black"),d.css("opacity","0.5"),d.css("z-index","99999"),d.changeDisplay("none"),d.css("width",a(window).width()+"px").css("height","100%"),d.attr("class","dmNoMargin"),a("#dmFirstContainer").append(d).css("position","relative"),d.unbind("click").click(function(){jQuery.DM.expandableMenuWasClicked()}),a(window).unbind("resize.expand").bind("resize.expand",function(){c.css("width",
a(window).width()+"px");d.css("width",a(window).width()+"px")}));b?(c.show(),d.changeDisplay("block"),d.height("height","100%"),c.css("width",a(window).width()+"px"),a(".dmInner").css("background-color"),e.css("z-index","999999998"),e.css("position","relative"),c.addClass("expandableMenuOpen"),c.removeClass("expandableMenuClose"),e.addClass("expandableParentMenuOpen"),e.removeClass("expandableParentMenuClose")):(c.addClass("expandableMenuClose"),c.removeClass("expandableMenuOpen"),e.addClass("expandableParentMenuClose"),
e.removeClass("expandableParentMenuOpen"),e.attr("movedToMain")&&(a("#expandableSubDiv").show(),a("#expandableMainDiv").hide(),e.attr("movedToMain","")),d.changeDisplay("none"),setTimeout(function(){c.css("width","");c.hide()},0));a.DM.afterExpandCollapse()},afterExpandCollapse:function(){a.layoutManager.cssCalculations();a.DM.isUseIscroll()&&a.layoutManager.refreshIscroll();h&&h()},handleExpandingNav:function(b){var c=b.context;b=b.isOpen;if(navigator.userAgent.toLowerCase().match(/(iPad|iPhone|iPod)/i))if(b)c.currentVideoElement=
a('video[controls\x3d"controls"]'),c.currentVideoElement.addClass("toPixel"),c.clickToCallArray=a('a[href^\x3d"tel:"]').map(function(b){b=a(this);var c=b.attr("href");b.removeAttr("href");return{element:b,href:c}}),c.textInputsArray=a('input[type\x3d"text"]'),c.textInputsArray.addClass("toPixel");else{try{c.currentVideoElement&&(c.currentVideoElement.removeClass("toPixel"),c.currentVideoElement=void 0)}catch(e){}try{c.clickToCallArray&&(a.each(c.clickToCallArray,function(a,b){b.element.attr("href",
b.href)}),c.clickToCallArray=void 0)}catch(d){}try{c.textInputsArray&&(c.textInputsArray.removeClass("toPixel"),c.textInputsArray=void 0)}catch(f){}}},backToMenuButtonWasClicked:function(b){a("#expandableSubDiv").toggle(b);a("#expandableMainDiv").toggle(!b);a("#expandableNavigationContainer").parent().attr("movedToMain",b?"":"true");l.afterExpandCollapse()},initNavbar:function(b){null==b&&(b=!1);if(!a.DM._frameworkReady||b){b=a(Parameters.NavigationAreaParams.NavbarSelector);var c=a(".newNavigationElementPlaceHolder");
e=!1;0<c.length&&(Parameters.NavigationAreaParams.NavbarSelector=".newNavigationElementPlaceHolder #dmNav",e=!0);e?d():0<b.length?_currentPage.linkType==a.DM.Enum.LinkType.Home||null!=_currentPage.pageContent&&void 0!=typeof _currentPage.pageContent.isHomePage&&_currentPage.pageContent.isHomePage||null==_currentPage.pageContent&&a.DM.isCurrentHomePage()?(b.changeDisplay("block",!0),d(),l.initSubNavbar()):Parameters.NavigationAreaParams.ShowBackToHomeOnInnerPages&&null!=_currentPage.pageContent&&_currentPage.pageContent.alias==
Parameters.DefaultPageAlias&&!e?(b.css("cssText","display: none !important"),showBackToHome(),l.initSubNavbar(),a(".dm_subMenu").each(function(b){a(this).changeDisplay("block",!0)})):null!=_currentPage.pageContent||a.DM.isCurrentHomePage()?(b.changeDisplay("block",!0),d()):(b.changeDisplay("none"),showBackToHome(),l.initSubNavbar(),a(".dm_subMenu").each(function(b){a(this).changeDisplay("block",!0)})):e||_currentPage.linkType==a.DM.Enum.LinkType.Home||void 0!=typeof _currentPage.pageContent.isHomePage&&
_currentPage.pageContent.isHomePage||!Parameters.NavigationAreaParams.ShowBackToHomeOnInnerPages||!(0<a("#dmPostBackToMain").length||_currentPage.pageContent.alias==Parameters.DefaultPageAlias)||(showBackToHome(),l.initSubNavbar());a.layoutManager.afterInitNav()}},initSubNavbar:function(){0<a(Parameters.NavigationAreaParams.SubNavbarSelector).length&&d(!0)},hangEventsOnMoreLess:function(a){a&&(h=a)},expandNavigation:function(e){null==e&&(e=!1);var d=a(Parameters.NavigationAreaParams.NavbarSelector),
g=Parameters.NavigationAreaParams.NavbarSize;e&&(d=a(Parameters.NavigationAreaParams.SubNavbarSelector));var h=d;if(0<h.length){var k=h.find(".dmMore");k.length||(k=h.find(".dmNavigationMoreAnchor"));if(0<k.length){k.remove();var l=f(d,"less",e);h.filter(":not('#hiddenNavPlaceHolder *')").children("li").eq(-1).after(l);var w=0,q=0,z=0,B=0;e=d.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(e=e.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==e.length&&(e=d.children("a"));var C=
0;e.each(function(b){b=a(this);b.is(":visible")&&(1==this.nodeType&&0==C?(B=b.offset().top,z=b.height()):1==this.nodeType&&1==C&&(B=b.offset().top-B-z),1==this.nodeType&&C>=g&&(q=parseInt(q,10)+parseInt(b.height(),10),q+=B),C++)});var v=-q+B,F=l.height(),D,A="";e.each(function(e){var d=a(this);d.addClass("dmNavShownItem");0==e&&(D=d.clone().css("display",d.css("display")).css("float",d.css("float")));1==this.nodeType&&e==g-1?(z=d.height(),A=d.css("display")):1==this.nodeType&&e>=g&&(d.hasClass("dmNavigationLessAnchor")||
d.hasClass("dmLess")?(q=d.height(),e=w+q+B,w+=q,d.addClass("p_list_item"),d.changeDisplay(A),b(h,D)&&(c()||a.browser.opera||a.browser.msie&&11<=1*a.browser.version?l.css("top","0px"):l.css("top",v-F+"px"),c()||a.browser.msie&&11<=1*a.browser.version||l.css("top",-e+"px"),d.css("-webkit-transition","-webkit-transform 0.2s linear, opacity 0.4s linear").css("-webkit-transform","translate(0, "+e+"px)").css("-ms-transition","-ms-transform 0.2s linear, opacity 0.4s linear").css("transition","transform 0.2s linear, opacity 0.4s linear").css("opacity",
"1"),a.browser.msie||d.css("transform","translate(0px, "+e+"px)"),e=function(){d.changeDisplay(A)},d.bind("webkitTransitionEnd",e),d.bind("transitionend",e),d.bind("oTransitionEnd",e))):(q=d.height(),e=w+z+B,w+=z+B,z=q,d.removeClass("p_list_last"),d.addClass("p_list_item"),d.removeClass("dmNavCollapsedItem"),d.changeDisplay(A),b(h,D)&&(d.css("-webkit-transition","-webkit-transform 0.2s linear, opacity 0.4s linear").css("-webkit-transform","translate(0, "+e+"px)").css("-ms-transition","-ms-transform 0.2s linear, opacity 0.4s linear").css("transition",
"transform 0.2s linear, opacity 0.4s linear").css("opacity","1"),"0px"!=d.css("top")&&(!a.browser.msie||a.browser.msie&&11<=a.browser.version)&&d.css("transform","translate(0px, "+e+"px)"),e=function(){d.changeDisplay(A)},d.bind("webkitTransitionEnd",e),d.bind("transitionend",e),d.bind("oTransitionEnd",e))))});null!=Parameters.AfterMoreLessCommand&&Parameters.AfterMoreLessCommand()}a.browser.msie&&11>a.browser.version?(h.changeDisplay("none",!0),h.changeDisplay("block",!0)):"inline-block"==A&&(h.hide(),
h.show());var O=!1;h.find("li").each(function(b,c){var e=a(this);"inline-block"==e.css("display")&&(O=!0,e.css("display","inline"))});O&&h.find("li").each(function(b,c){a(this).css("display","inline-block")})}},fullCollapseNavigation:function(b){d(b);a.layoutManager.afterInitNav()},collapseNavigation:function(c){null==c&&(c=!1);var e=a(Parameters.NavigationAreaParams.NavbarSelector),d=Parameters.NavigationAreaParams.NavbarSize;c&&(e=a(Parameters.NavigationAreaParams.SubNavbarSelector));var g=e;if(0<
g.length){var h=g.find(".dmLess");0==h.length&&(h=g.find(".dmNavigationLessAnchor"));var l;if(0<h.length){h.remove();var w=0;c=f(e,"more",c);g.filter(":not('#hiddenNavPlaceHolder *')").children("li").eq(-1).after(c);c=e.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(c=c.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==c.length&&(c=e.children("a"));c.each(function(c){var e=a(this);0==c&&(l=e.clone().css("display",e.css("display")).css("float",e.css("float")));c<=d&&1==this.nodeType&&
(w+=e.height());1==this.nodeType&&c>=d?e.hasClass("dmNavigationMoreAnchor")||e.hasClass("dmMore")||(e.css("position","relative"),e.removeClass("p_list_last"),e.addClass("p_list_item"),e.addClass("dmNavCollapsedItem"),e.removeClass("dmNavShownItem"),e.changeDisplay("none"),b(g,l)&&(e.css("-webkit-transition",""),e.css("-webkit-transform",""),e.css("opacity","0"),e.css("-moz-transition",""),e.css("-moz-transform",""),e.css("-o-transition",""),e.css("-o-transform",""),e.css("-ms-transition",""),e.css("-ms-transform",
""),c=function(){e.changeDisplay("none")},e.bind("webkitTransitionEnd",c),e.bind("transitionend",c),e.bind("oTransitionEnd",c))):e.addClass("dmNavShownItem")});null!=Parameters.AfterMoreLessCommand&&Parameters.AfterMoreLessCommand()}a.browser.msie&&(g.changeDisplay("none",!0),g.changeDisplay("block",!0))}}};g._hideMe=function(b,c){if(b){var e=a(b),d=e.closest("ul");e.closest("li").remove();a("#"+c).before(d);a("#"+c).closest("ul").changeDisplay("");a("#"+c).remove()}};g._launchHashed=function(b){if(b){var c=
a(b),e=c.closest("li");b=e.find("ul:first");if(0<b.find("li").size()){var d=e.closest("ul"),e=e.attr("id"),f=a('\x3cli class\x3d"p_list_item dmBackToMenuLi"\x3e\x3c/li\x3e');f.addClass("dmMore");f.attr("id","dmMore");c=c.attr("btmTitle")||"Back to menu";f.html("\x3ca href\x3d'#' onclick\x3d\"var event \x3d arguments[0] || window.event;_hideMe(this,'placeHolder_"+e+"');event.stopPropagation();$.DM.afterExpandCollapse();return false;\" class\x3d'dmUDNavigationItem_dmLess dmBackToMenuA'\x3e\x3cdiv class\x3d'navIconBg'\x3e\x3cdiv class\x3d'navIcon'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'navText'\x3e"+
c+"\x3c/div\x3e\x3cdiv class\x3d'navArrowBg'\x3e\x3cdiv class\x3d'navArrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'navArrowBottom'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e");b.prepend(f);b.after("\x3cdiv class\x3d'hashedPlaceHolder' id\x3d'placeHolder_"+e+"'\x3e\x3c/div\x3e");b.insertAfter(d);b.removeClass("dmDisplay_None");b.addClass("dmNavCustom");d.changeDisplay("none");a.DM.afterExpandCollapse()}}a.layoutManager.cssCalculations()};a.extend(a.DM,l)})(jQuery,window);$.extend({dmrt:function(){var a=$.Deferred(),g=$.Deferred(),d={},f=$.DM.getQueryParam(window.location.href,"nee")?!0:!1;$.modules={};return{initReady:function(c,b){b=b||{};var e={start:[],normal:[],end:[]},g=[],l;for(l in d){var p=d[l],t=p.runAt||"normal";e[t]||(t="normal");e[t].push(p)}g=g.concat(e.start,e.normal,e.end);$.each(g,function(a,e){null!=e[c]&&null!=e[c].ready?e[c].ready(f,b):e["default"].ready(f,b)});a.resolve()},initLoad:function(a,b){b=b||{};for(var e in d)null!=d[e][a]&&null!=d[e][a].load?
d[e][a].load(f,b):d[e]["default"].load(f,b);g.resolve()},refreshComponent:function(a,b,e,f){f=f||{};d[a][b].ready?d[a][b].ready(e,f):d[a]["default"].ready(e,f);d[a][b].load?d[a][b].load(e,f):d[a]["default"].load(e,f)},initGoogleMapsWidgets:function(){d.inlinemap["default"].ready()},initMultiLocationsWidgets:function(){d.geolocation["default"].ready()},googleMapsScriptDeferred:null,resolveGoogleMapsPromise:function(){$.dmrt.googleMapsScriptDeferred.resolve()},loadGoogleMapsScript:function(a){$.dmrt.googleMapsScriptDeferred||
($.dmrt.googleMapsScriptDeferred=$.Deferred(),$.DM.loadExternalScriptAsync("https://maps.googleapis.com/maps/api/js?key\x3dAIzaSyBAwUOqPUB1CU31yDztoZYaUE7sPv4ktEI\x26sensor\x3dfalse\x26callback\x3djQuery.dmrt.resolveGoogleMapsPromise\x26language\x3d"+a,function(){$.dmrt.resolveGoogleMapsPromise()}));return $.dmrt.googleMapsScriptDeferred.promise()},register:function(a,b){d[a]=b},components:d,isEditorMode:f,onReady:function(c){return a.then(c)},onLoad:function(a){return g.then(a)}}}()});(function(a,g){function d(a){for(var c=document.getElementsByTagName("script"),d=c.length;d--;)if(c[d].src==a)return!0;return!1}function f(){a('a[dmle_extension\x3d"agendize_appointments_book"]').each(function(){1>this.getElementsByClassName("agendizeBtnOverlay").length&&a("\x3cdiv class\x3d'agendizeBtnOverlay'\x3e\x3c/div\x3e").prependTo(this)})}function c(){d("https://app.agendize.com/web/scheduling.js")||a("head").append(" \x3cscript type\x3d'text/javascript'\x3evar scheduling \x3d {server: 'app.agendize.com', lang: 'en', gaTrackingId:Parameters.SiteAlias};\x3c/script\x3e \x3cscript type\x3d'text/javascript' src\x3d'https://app.agendize.com/web/scheduling.js'\x3e\x3c/script\x3e ");
var b=a('a[dmle_extension\x3d"agendize_appointments_book"]').attr("companyId");a('a[dmle_extension\x3d"agendize_appointments_book"] .agendizeBtnOverlay').off("click.agendizePopup").on("click.agendizePopup",function(){var c=a.layoutManager._isEditorMode;g.openScheduling&&!c?g.openScheduling(b):console.log("Error to open booking configuration from external JS file")})}a.extend(a.modules,{basemodule:{}});a.dmrt.register("agendize",{"default":{ready:function(b,e){a('a[dmle_extension\x3d"agendize_appointments_book"]').length&&
(f(),c())},load:function(a,c){}},mobile:{},tablet:{},desktop:{}})})(jQuery,window);(function(a){a.dmrt.register("animationScroll",{runAt:"end","default":{ready:function(g){if(isDudaone&&!a("#slideRightNav").length){var d=a.layoutDevice?a.layoutDevice.type:"mobile",f=!1;a("[data-anim], [data-anim-"+d+"], [data-current-anim]").each(function(){var c=a(this),b=c.attr("data-anim-"+d)||"";b||"desktop"!=d||(b=c.attr("data-anim")||c.attr("data-current-anim")||"");a(this).addClass("wow "+b);f=!0});f&&!a.wow&&window.WOW&&(a.wow=a.wow||new WOW,a.wow&&a.wow.init({live:!1}))}},load:function(a){}},
mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a){a.extend(a.modules,{basemodule:{}});a.dmrt.register("basemodule",{"default":{ready:function(a,d){},load:function(a,d){}},mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a){var g={runAt:"start",initBlogs:function(a){$('[dmle_extension\x3d"internal_blog_list"]').each(function(a,c){g.initBlog(c)})},initBlog:function(a){var f=$(a),c=f.find(".postArticle .inner"),b=f.attr("list-layout");g.initAnimations(f,c);g.handleBlogTitle(f);g.addActionText(f,c);return $.waitUntil(function(){return 0<document.body.offsetWidth&&$(a).is(":visible")}).done(function(){setTimeout(function(){g.limitDescRows(f,c);"list_slider"===b?g.initListSlider(f,c):"recent_posts"===b?g.initRecentPosts(f,
c):g.initLargeList(f,c);$("body").css("min-width",$(window).width());f.css("opacity",1);$.wow&&$.wow.scrollHandler()},0)})},handleBlogTitle:function(a){a=a.find(".blog-name");0===a.text().length&&a.css("display","none")},initLargeList:function(a,f){"1"===a.attr("posts-per-row")||$("body").hasClass(".dmMobileBody")||$.equalHeight(f);a.find(".dmWidget").unbind("click").click(g.loadMorePosts)},initRecentPosts:function(a,f){var c=f.find(".blogImg"),b=c.eq(0).width();$.matchHeight(c,b,{cssProp:"max-height"});
a.find(".dmWidget").unbind("click").click(g.loadMorePosts)},initListSlider:function(a,f){g.initSlider(a)},limitDescRows:function(a,f){var c=a.attr("visible-post-lines"),b=f.find(".postDescription"),c="all"===c?"none":$.getHeightForVisibleRows(c,b);b.css("maxHeight",c)},initSlider:function(a){function f(){var a=c.data();a&&a.flexslider&&(a.flexslider=void 0);c.flexslider({selector:".postArticle",controlNav:!1,directionNav:!0})}var c=a.find(".inner");c.flexSlider?f():$.DM.loadExternalScriptAsync("/_dm/s/rt/scripts/vendor/flexslider/jquery.flexslider.min.js",
f)},initAnimations:function(a,f){var c=a.attr("posts-animation");"none"!==c&&f.attr("data-anim-desktop",c)},addActionText:function(a,f,c){c=c||{};(a=c.actionText?c.actionText:a.attr("action-text"))&&""!=a.trim()?f.find(".readMore a").text(a):f.find(".readMore a").hide()},loadMorePosts:function(d){var f=$(d.currentTarget);d={};var c=f.closest(".mainBlog");d.commandID="d1_loadMorePosts";d["from-item"]=f.closest(".mainBlog").find(".postArticle").length;d["visible-items"]=c.attr("visible-items");d["list-layout"]=
c.attr("list-layout");d["visible-post-lines"]=c.attr("visible-post-lines");d["search-tags"]=c.attr("search-tags");d["more-posts-text"]=c.attr("more-posts-text");d["search-term"]=c.attr("search-term");var b="/_dm/s/rt/api/public/wpl/site/"+Parameters.SiteId;if(getSafe("previewParent.isSitePreview")||$.dmrt.isEditorMode)b+="?preview\x3dtrue";$.ajax({url:b,type:"post",data:JSON.stringify(d),async:!0,contentType:"application/json",error:function(a,b,c){},success:function(b){a.DM.setLoadingOnScreen(!1);
if(b&&b.postList){b=$(b.postList);b.find(".postArticle .inner");var d=b.find(".postArticle"),l=c.find(".lastArticle");l.removeClass("lastArticle");d.insertAfter(l);g.initBlog(c);$.dmrt.components.animationScroll["default"].ready();$.dmrt.components.commentCounter.updateCount();0==b.find(".morePosts").length&&f.remove()}}})},initSearchWidgets:function(a){$(".dmBlogSearchClickOverlay").each(function(f,c){$(c).unbind("click").click(function(b){g.searchBlog($(b.target).siblings(".dmBlogSearchInput"),
a)})});$(".dmBlogSearchInput").each(function(f,c){$(c).keypress(function(b){13===b.keyCode&&g.searchBlog($(b.target),a)})})},searchBlog:function(a,f){var c=$(a).closest(".dmBlogSearch").attr("searchpage"),b=$(a).val();b&&0<b.trim().length&&(c="/"+c+"?searchTerm\x3d"+encodeURIComponent(b),f?getSafe("editorParent.$.dmfw.previewNavigateTo")&&(c="/site/"+Parameters.SiteAlias+c,editorParent.$.dmfw.previewNavigateTo({url:c,navigateWithAjax:!0})):(previewParent&&(c="/site/"+Parameters.SiteAlias+(c+"\x26preview\x3dtrue")),
$.DM.ajaxNavigateToLink(c)))},"default":{ready:function(a){g.initBlogs(a);g.initSearchWidgets(a)},load:function(a){}},mobile:{load:function(a){}},tablet:{load:function(a){}},desktop:{load:function(a){}}};$.dmrt.register("blogList",g)})($);(function(a){function g(d){d=d||a(".dmCoupon");if(d.length){a.DM.insideEditor()||window.location.href.indexOf("nee\x3d");for(var c=0;c<d.length;c++){var b=a(d[c]),e=parseInt(b.attr("expdt"));a.browser&&a.browser.chrome||b.find(".dmCouponOfferBorder").hide();0<e&&new Date(e)<new Date&&(b.addClass("expiredCoupon"),b.addClass("displayNoneImportant"));var g=!1;b.on("click",".dmUseCoupon",function(){function b(){var d=e.parents(".dmCoupon").find(".dmCouponDesign"),f=d,l=null;"mobile"===getSafe("$.layoutDevice.type")&&
(l=a('\x3cdiv id\x3d"dm"\x3e\x3cdiv class\x3d"dmBody"\x3e\x3c/div\x3e\x3c/div\x3e'),l.find(".dmBody").append(d.parents('[dmle_extension\x3d"coupon"]').clone()),f=l.find(".dmCouponDesign"),0===f.length?(f=d,l=null):(l.css({position:"absolute",top:0,left:0,"z-index":1E12}),l.css("opacity","0"),l.appendTo("body")));html2canvas(f,{proxy:"/_dm/s/rt/actions/proxy",proxyReturnsImg:!0,onrendered:function(b){l&&(l.css("opacity","1"),l.remove());var c=b.toDataURL(),d=e,f=b.width+20;b=b.height;var k=a('\x3cimg id\x3d"couponImg"\x3e');
k.attr("src",c);var p=d.find(".popupData").attr("print-coupon-message");d.find(".popupData").empty();k.appendTo(d.find(".popupData"));a.layoutDevice&&"desktop"==a.layoutDevice.type&&(a('\x3cp\x3e\x3cinput class\x3d"ptOrangeBtn" type\x3d"button" value\x3d"'+p+'" onclick\x3d"$.DM.printCoupon(\''+c+"')\"/\x3e\x3c/p\x3e").appendTo(d.find(".popupData")),b+=35);dmShowPopup(d,"","couponPopupData",f,b+50);g=!1}});dm_gaq_push_event("CouponWidget",c.attr("name"),null,Parameters.SiteAlias,c)}if(!a.DM.insideEditor()&&
!g){g=!0;var c=a(this).parents(".dmCoupon"),e=c.find(".dmUsePopupWrapper");e.find("#dm").remove();a.loadScript("/editor/nee/utils/html2canvas.js").done(b)}});var e=b.find(".dmShareCoupon"),l=b.find(".dmSharePopupWrapper");e.click(function(b){p(b)&&dmShowPopup(l,a(this).html()+":")});var p=function(b){if(isDudaone){b=window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&window.editorParent.jQuery.onefw.inPreviewMode;if(!(window.editorParent&&window.editorParent.jQuery&&window.editorParent.jQuery.dmfw)||
window.editorParent.jQuery.onefw&&window.editorParent.jQuery.onefw.inPreviewMode){if(b){var c={relativeDirection:"top",tipsContainer:window.editorParent.$?window.editorParent.$("#_preview_w"):void 0,bodyText:"You can't use the widget to share a site from Preview mode.",title:"Share"};window.editorParent.$&&window.editorParent.$.dmpages&&window.editorParent.$.dmpages.showOuterLinkPrompt(null,"_blank",a(event.target),c);return!1}return!0}return!1}return window.editorParent&&window.editorParent.jQuery&&
(window.editorParent.jQuery.dmfw||window.editorParent.jQuery.onefw)?(b.preventDefault(),b.stopPropagation(),c={relativeDirection:"top",offset:window.editorParent.jQuery.onefw?0:70,tipsContainer:window.editorParent.jQuery&&window.editorParent.jQuery.onefw?window.editorParent.$("#_preview_w"):window.editorParent.$("#neePrevieweviceWrapper"),bodyText:"You can't use the widget to share a site from Preview mode.",title:"Share"},window.editorParent.$&&window.editorParent.$.dmpages&&window.editorParent.$.dmpages.showOuterLinkPrompt(null,
"_blank",a(b.target),c),!1):!0};l.find("a").click(function(a){return p(a)})}}}function d(a){var c=window.open("about:blank","_new","height\x3d400,width\x3d600");c.document.write("\x3chtml\x3e\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e");c.document.write("\x3c/head\x3e\x3cbody \x3e");c.document.write('\x3cimg src\x3d"'+a+'"\x3e');c.document.write("\x3c/body\x3e\x3c/html\x3e");c.document.close();c.focus();c.print();c.close();return!0}a.DM.initCouponWidget=a.DM.initCouponWidget||g;a.DM.printCoupon=a.DM.printCoupon||
d;a.dmrt.register("coupon",{"default":{ready:function(a){g()},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a){var g={"default":{ready:function(a){},load:function(a){}},addWidget:function(d,f,c,b){f=d+"~"+f;if(!window.customWidgetsFunctions[f]&&c)try{var e=new Function("element","data","api",c);window.customWidgetsFunctions[f]=e}catch(g){console.log("error initing JS part for custom widget "+d+" : "+g)}b&&a("#customWidgetStyle").append(b)},executeAll:function(d,f){a('[dmle_extension\x3d"custom_extension"]').each(function(a,b){g.executeWidgetScripts(d,f,b)})},executeWidgetScripts:function(d,f,
c){c=c instanceof a?c.get(0):c.length?c[0]:c;var b=c.getAttribute("data-widget-id")+"~"+c.getAttribute("data-widget-version");if(window.customWidgetsFunctions&&window.customWidgetsFunctions[b])try{var e=JSON.parse(atob(c.getAttribute("data-widget-config")));window.customWidgetsFunctions[b](c,{device:f,page:_currentPage.pageAlias,inEditor:d,config:e})}catch(g){console.log("error invoking function"+g)}},mobile:{ready:function(a){g.executeAll(a,"mobile")}},tablet:{ready:function(a){g.executeAll(a,"tablet")}},
desktop:{ready:function(a){g.executeAll(a,"desktop")}}};a.dmrt.register("customWidget",g)})(jQuery);(function(a,g){var d={runAt:"start",initDisqus:function(a){var c=$("#disqus_thread");if(0<c.length){var b=c.attr("shortname"),e=c.attr("disqus_identifier"),d=c.attr("language");b&&e&&""!=b&&""!=e&&(g.disqus_shortname=b,g.disqus_identifier=e,g.disqus_config=function(){this.language=d},g.DISQUS?g.DISQUS.reset({reload:!0,config:{disqus_identifier:g.disqus_identifier}}):$.DM.loadExternalScriptAsync("//"+g.disqus_shortname+".disqus.com/embed.js",null,null,{forceLoad:a}))}},reload:function(){var a=$("#disqus_thread");
getSafe("DISQUS.next.host.loader.configAdapter.config")?(g.DISQUS.next.host.loader.configAdapter.config.forum=a.attr("shortname"),g.DISQUS.reset({reload:!0})):(g.DISQUS=void 0,g.DISQUSWIDGETS=void 0,d.initDisqus(!0))},"default":{ready:function(a){d.initDisqus(!1)},load:function(a){}},mobile:{load:function(a){}},tablet:{load:function(a){}},desktop:{load:function(a){}}};$.dmrt.register("disqus",d)})($,window);(function(a){a.extend(a.modules,{facebook_comments:{}});a.dmrt.register("facebook_comments",{"default":{ready:function(g){a(".fb-comments").each(function(d,f){function c(){return 0<e.find("iframe").length&&"string"===typeof e.find("iframe").attr("src")?(clearInterval(g),a(window).on("resize.facebook_"+l,b),b(),!0):!1}function b(){var b,c,d,f=null,g=-500;a.contains(document,e.get(0))?(b=e.find("iframe"),c=b.attr("src").split("width\x3d"),d=e.parent().width(),e.parent().height(),b.attr("src",c[0]+"\x26width\x3d"+
d),a.browser&&!0===a.browser.mozilla&&(f=window.setInterval(function(){g+=500;0<e.parent().length&&e.removeClass("fb_hide_iframes");3E3<=g&&(window.clearInterval(f),f=null)},500))):(a(window).off("resize.facebook_"+l),e.data("facebook_resizerId",null))}var e,g,l;e=a(f);e.data("facebook_resizerId")||(l=Math.random().toString(16).slice(2),c()||(g=setInterval(c,100)),e.data("facebook_resizerId",l))})},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a){function g(){a(".dmRespCol").matchHeight({byRow:!0,property:"height",target:null,remove:!1})}a.dmrt.register("flexboxmodule",{"default":{ready:function(d){!d&&a.browser.msie&&10>a.browser.version&&a.DM.loadExternalScriptAsync("/_dm/s/rt/scripts/vendor/jqueryMatchHeight/jquery.matchHeight-min.js",g,!0)},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a){var g={initFormCaptcha:function(){var d=jQuery(".dmform form");if(!d.length)return"No Forms";d.find(".g-recaptcha").remove();d.closest(".dmform[captcha\x3d'true']").each(function(d,c){var b=a.layoutDevice?a.layoutDevice.type:"mobile",e=a(this).attr("data-captcha-layout")||("mobile"==b?"compact":"normal"),g=a("\x3cdiv class\x3d'g-recaptcha  dmforminput dmRespDesignCol'\x3e\x3c/div\x3e"),l=a(this).find(".dmform-wrapper").attr("captcha-lang");g.insertBefore(a(this).find(".dmformsubmit"));
a.get("/_dm/s/rt/api/public/rt/captcha",function(b){"fixed"==a("body").css("position")&&a("body").css("position","static");grecaptcha.render(g.get(0),{sitekey:b.publicKey,theme:"light",size:e,hl:l})})})},initFileUpload:function(){jQuery(".dmform form a[data-file]").length&&a.DM.loadExternalScriptAsync("/_dm/s/rt/widgets/form/filepicker.jsp",function(){jQuery(".dmform form a[data-file]").each(function(d,f){var c=a(this);c.off("click.file").on("click.file",function(){if(!a.editGrid||a.editGrid.inPreviewMode())c.removeClass("inputError"),
storeOptions=a.extend({path:Parameters.SiteAlias+"/forms/attachments/"},storeOptions),filepicker.pickAndStore({maxSize:10485760,multiple:!1,backgroundUpload:!0,folders:!1,services:["COMPUTER","DROPBOX","GOOGLE_DRIVE","GMAIL"]},storeOptions,function(b){a("#filesMessage").html(b.length+" file(s) were uploaded");c.parent().find(".fileLabel").html(b[0].filename);c.parent().find(".fileName").val("https://"+b[0].container+".s3.amazonaws.com/"+encodeURIComponent(b[0].key))},function(a){})})})})},trackExternalConversion:function(d){if(d.attr("data-conversion")){var f=
document.createElement("iframe");a(f).css("display","none");d=Base64.decode(d.attr("data-conversion"));document.body.appendChild(f);f.contentWindow.document.open();f.contentWindow.document.write(d);f.contentWindow.document.close()}},initForm:function(){var d=jQuery(".dmform form");if(!d.length)return"No Forms";"undefined"!==typeof grecaptcha&&g.initFormCaptcha();g.initFileUpload();a(".dmform-success, .dmform-error").hide();d.unbind("submit").submit(function(d){var c=a(this),b="dudaConstantContactId"===
c.parents(".dmform").attr("dmle_widget");d.preventDefault();c.closest(".dmform").find(".dmform-error").hide();a(".inputError").removeClass("inputError");a(".recaptchaError").remove();var e=!0,h,l;c.find(".required input:not([type\x3dhidden]), .required textarea").each(function(b,c){h="checkbox"===a(c).attr("type");l="radio"===a(c).attr("type");if(""===a(c).val().trim()||h&&1>a(c).parents(".checkboxwrapper").find("input:checked").length){var d=h?a(c).parents(".checkboxwrapper"):a(c);d.addClass("inputError");
e&&a.DM.jumpTo(c,-20);e=!1}else if(""===a(c).val().trim()||l&&1>a(c).parents(".radiowrapper").find("input:checked").length)d=l?a(c).parents(".radiowrapper"):a(c),d.addClass("inputError"),e&&a.DM.jumpTo(c,-20),e=!1});c.find(".required select").each(function(b,c){0==c.selectedIndex&&(a(c).addClass("inputError"),e=!1)});c.find(".required a[data-file]").each(function(b,c){""==a(this).next().html()&&(a(this).addClass("inputError"),e=!1)});c.find("input[type\x3demail]").each(function(b,c){c.hidden||!a(c).parent().hasClass("required")&&
""===a(c).val()||/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,500}))$/.test(c.value)||(e=!1,c.className+=" inputError")});if(e){d=c.find("input[type\x3d'submit']").offset().top-100;d=[a.DM.getPageWidth()/2,d];a.DM.setLoadingOnScreen(!0,d);var p=0;c.closest(".dmform").find("input, textarea, select").map(function(){var b=a(this),e=b.attr("name");e&&e.startsWith("dmform-")&&(e=p,10>e&&(e="0"+e),b.closest(".dmforminput").find("input[type\x3dhidden]").attr("name",
"label-dmform-"+e).removeAttr("disabled"),c.find("input.fieldMapper[value\x3d"+b.attr("name")+"]").attr("value","dmform-"+e),b.attr("name","dmform-"+e),(!b.is("[type\x3dradio]")&&!b.is("[type\x3dcheckbox]")||b.parent().is(":last-child"))&&p++)});(d=c.closest(".dmform").attr("id"))||(d=c.closest(".dmform").attr("duda_id"));c.closest(".dmform").find("form").append("\x3cinput type\x3d'hidden' name\x3d'form_id' value\x3d'"+d+"'\x3e");c.closest(".dmform").find("form").append("\x3cinput type\x3d'hidden' name\x3d'form_title' value\x3d'"+
c.closest(".dmform").find("h3").text()+"'\x3e");d=c.closest(".dmform").find("#dmActionInput, .dmActionInput").val();b&&(d="/_dm/s/rt/widgets/constantcontact.form.submit.jsp");if(null==d||void 0==d||""==d)d="/_dm/s/rt/widgets/dmform.submit.jsp";var b=a(this).serialize(),t=a(this);a.post(d+"?alias\x3d"+Parameters.SiteAlias,b,function(b){dm_gaq_push_event("form","submit",void 0,void 0,c);g.trackExternalConversion(c.parents(".dmform"));c.find("input[name\x3dgoogleIntegrationUUID]").val()&&c.find("input[name\x3dspreadsheetId]").val()&&
dm_gaq_push_event("form","google_spreadsheet_push");c.find("input[name\x3dconstantContactIntegrationUUID]").val()&&c.find("input[name\x3dconstantContactLists]").val()&&dm_gaq_push_event("form","constant_contact_push");c.find("input[name\x3dmailChimpIntegrationUUID]").val()&&c.find("input[name\x3dmailChimpLists]").val()&&dm_gaq_push_event("form","mail_chimp_push");c.find("input[name\x3dwebhookURI]").val()&&dm_gaq_push_event("form","webhook_push");b=t.serializeArray();for(var e=b.length,d=[],f=0;f<
b.length;f++)b[f].name.startsWith("dmform-")&&f+1<e&&b[f+1].name==="label-"+b[f].name&&d.push({name:b[f+1].value,value:b[f].value});a.DM.events.trigger(dmAPI.EVENTS.FORM_SUBMISSION,{value:d});(b=c.closest(".dmform").find(".dmform-success").data("success-page"))?(window.isReseller&&self!==top||"undefined"!==typeof previewPopUp&&window.editorParent.$&&window.editorParent.$.dmx&&window.editorParent.$.dmfw?(b+=-1==b.indexOf("?")?"?":"\x26",b+="preview\x3dtrue\x26dm_try_mode\x3dtrue",(e=a.DM.getParamValue(window.location.href,
"dm_device")||a.layoutDevice&&a.layoutDevice.type)&&""!=e&&(b+="\x26dm_device\x3d"+e)):window.location.search&&(b=-1==b.indexOf("?")?b+window.location.search:b+window.location.search.replace("?","\x26")),Parameters.AllowAjax?a.DM.ajaxNavigateToLink(b):location.replace(b)):(c.closest(".dmform-wrapper").hide(),c.closest(".dmform").find(".dmform-success").show(),a.DM.jumpTo(c.closest(".dmform").find(".dmform-success"),-100),a.DM.setLoadingOnScreen(!1),a.DM.isUseIscroll()&&a.layoutManager.refreshIscroll())}).error(function(b){401==
b.status?(c.find("#recaptcha_area").addClass("inputError"),c.find("#recaptcha_area").append("\x3cdiv class\x3d'recaptchaError'\x3eWrong Input\x3c/div\x3e"),grecaptcha.reset()):(c.closest(".dmform").find(".dmform-error").show(),a.DM.jumpTo(c.closest(".dmform").find(".dmform-error"),-100));a.DM.setLoadingOnScreen(!1)})}});jQuery(".dmform form textarea").each(function(d,c){var b=a(c);b.val(b.val().trim())});a(document.body).on("keypress",".inputError",function(){a(this).removeClass("inputError");a(".recaptchaError").remove()});
d.find(".required select").change(function(){a(this).removeClass("inputError")})}};a.extend(a.DM,g);a.dmrt.register("form",{"default":{ready:function(a){g.initForm()},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a,g){function d(){return new Promise(function(b){function c(){return-1==a.map(jQuery(".dmGeoLocation"),function(b){return a(b).is(":visible")}).indexOf(!1)}var e=setInterval(function(){c()&&(clearInterval(e),b())},100)})}function f(c){var d=a.layoutDevice?a.layoutDevice.type:"mobile";c=c||g.google;switch(d){case "mobile":e(c);break;case "tablet":b(c);break;case "desktop":b(c);break;default:b(c)}}function c(b){try{if(b){if(window.location.search&&0<window.location.search.indexOf("preview\x3dtrue")){var c=
b.attr("raw_url");isDudaone&&c&&0==c.indexOf("/site/")&&(c=c.replace("dm_device\x3ddesktop","dm_device\x3d"+(a.layoutDevice?a.layoutDevice.type:"mobile")),b.attr("href",c))}"https:"===document.location.protocol&&"http:"===b.get(0).protocol&&(b.attr("target")||b.attr("target","_blank"));a.DM.initAjaxLinks(b)}}catch(e){}}function b(b){jQuery(".dmGeoLocation").each(function(e,d){function f(c){if(c){a(F).empty().attr("style","");B.is(":visible")&&v.hide();if(A.showAll){C.fadeIn("fast");var e=new b.maps.Map(F,
{scrollwheel:!1,mapTypeId:b.maps.MapTypeId.ROADMAP}),d=new b.maps.LatLngBounds;for(c=0;c<z.length;c++)z[c].latitude&&z[c].longitude&&(randomPoint=new b.maps.LatLng(z[c].latitude,z[c].longitude),function(c){var d=new b.maps.Marker({position:randomPoint,title:z[c].title,map:e,clickable:!0});b.maps.event.addListener(d,"click",function(){g(z[c].uniqueId);B.hide();D.css("visibility","hidden");var b=a(".dmGeoViewStateWrapper");a(".dmStState").removeClass("isOff");b.removeClass("isOff");f(!0);v.show()})}(c),
d.extend(randomPoint));e.fitBounds(d)}else{C.fadeIn("fast");d=new b.maps.LatLngBounds;c={scrollwheel:!1,zoom:14,center:new b.maps.LatLng(A.lat,A.lon),mapTypeId:b.maps.MapTypeId.ROADMAP};var l=new b.maps.Map(F,c);(function(){var a=new b.maps.Marker({position:new b.maps.LatLng(A.lat,A.lon),title:A.title,map:l,clickable:!0});b.maps.event.addListener(a,"click",function(){w.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");v.show();C.hide();B.hide()});d.extend(new b.maps.LatLng(A.lat,A.lon))})()}C.fadeIn("fast")}else C.hide(),
A.showAll&&w.find(".dmGeoLocBtn").removeClass("geoDisabledState"),A.showAll?B.fadeIn("fast"):v.fadeIn("fast")}function g(b){a(".dmGeoStList").text(a(".dmGeoStList").attr("info"));C.find(".dmGeoLocBtn").hide();var e=jQuery.grep(z,function(a){return a.uniqueId==b})[0];A.showAll=!1;A.lat=e.latitude;A.lon=e.longitude;A.title=e.title;v.find(".dmGeoSVTitle").text(!1!==e.displayTitle?e.title:"");var d=e.phone&&!1!==e.displayPhoneNumber?e.formattedAddress+", "+e.phone:e.formattedAddress;v.find(".dmGeoSVAddr").text(d);
if(e.phone||e.showPhone)v.find(".dmGeoSVPhone a").attr({href:"tel:"+e.phone,phone:e.phone}),e.clickToCallText&&v.find(".dmGeoSVPhone a .text").text(e.clickToCallText);v.find(".dmGeoSVPhone").toggle(e.showPhone);e.url&&!1!==e.displayLink?(d=a(e.url),c(d),d.addClass("dmGeoSVGoToPage"),v.find(".dmGeoSVGoToPage").replaceWith(d),d.show()):v.find(".dmGeoSVGoToPage").hide();v.find(".dmGeoSVMoreInfo").text(e.description&&!1!==e.showDescription?e.description:"");v.find(".dmGeoSVSeeAll").unbind("click").click(function(){k()})}
function n(a){g(a);D.css("visibility","hidden");f(!0);v.show();B.hide()}function k(){A.showAll=!0;v.hide();B.show();w.find(".dmGeoLocBtn").removeClass("geoDisabledState");a(".dmGeoStList").text(a(".dmGeoStList").attr("list"));f(!0);a(".dmCall.voipReplacement").removeClass("revealPhoneNum");D.css("visibility","visible");C.find(".dmGeoLocBtn").show()}function m(b,c){for(var e=[],d=0;d<z.length;d++)e.push({latitude:z[d].latitude,longitude:z[d].longitude,id:z[d].uniqueId});for(var f=[],d=0;d<e.length;d++){var g=
e[d],h=c-g.longitude,l=b-g.latitude,h=Math.sqrt(h*h+l*l);f[d]=g;f[d].distance=h}f.sort(function(a,b){return a.distance>b.distance?1:-1});e=f[0].id;w.find(".dmGeoLocBtn").addClass("geoDisabledState");B.find('li[geoid\x3d"'+e+'"]').data("mode",a(".dmGeoViewStateWrapper").hasClass("isOff")?"map":"list").click()}var w=a(d),q=w.attr("data-editor"),z=JSON.parse(Base64.decode(q)).locations,B=w.find(".dmGeoMLocList"),C=w.find(".dmGeoMLocMapView"),v=w.find(".dmGeoSingleView"),F=C.find(".dmGeoMLocMapViewMap")[0],
q=w.find(".dmGeoMLocList li"),D=w.find(".dmGeoDesktopTitle"),A={},O=0,P=0;A.showAll=!0;B.is(":visible")&&v.hide();var J=w.find(".dmGeoViewStateWrapper"),S=w.find(".dmGeoStMap");w.find(".dmGeoStList").unbind("click").click(function(){a.dmrt.isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||(S.removeClass("isOff"),J.removeClass("isOff"),f(!1))});f(!0);S.unbind("click").click(function(){a.dmrt.isEditorMode&&window.editorParent.jQuery&&
window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||(a(this).hasClass("isOff")?(S.removeClass("isOff"),J.removeClass("isOff"),f(!1)):(S.addClass("isOff"),J.addClass("isOff"),f(!0)),"undefined"!==typeof _&&_.isUseIscroll()&&a.layoutManager.refreshIscroll())});for(e=0;e<q.length;e++)a(q[e]).unbind("click").click(function(){n(a(this).attr("geoid"))});q=w.attr("id");a.DM.events.off("showSingleView:"+q).on("showSingleView:"+q,function(a,b){n(b)});a.DM.events.off("showMultiView:"+
q).on("showMultiView:"+q,function(a,b){k()});w.on("click",".dmGeoLocBtn",function(b){a.layoutManager._isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){currentUserPos=a;O=a.coords.latitude;P=a.coords.longitude;w.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");m(O,P)},function(a){alert("We do not have permission to access your location. Please enable access in your settings")},
{timeout:5E4})})})}function e(b){jQuery(".dmGeoLocation").each(function(e,d){function f(c){if(c){a(F).empty().attr("style","");B.is(":visible")&&v.hide();if(D.showAll){C.fadeIn("fast");var e=new b.maps.Map(F,{scrollwheel:!1,mapTypeId:b.maps.MapTypeId.ROADMAP}),d=new b.maps.LatLngBounds,g;for(c=0;c<z.length;c++)g=new b.maps.LatLng(z[c].latitude,z[c].longitude),function(c){var d=new b.maps.Marker({position:g,title:z[c].title,map:e,clickable:!0});b.maps.event.addListener(d,"click",function(){k(z[c].uniqueId);
var b=a(".dmGeoViewStateWrapper");a(".dmStState").removeClass("isOff");b.removeClass("isOff");f(!1)})}(c),d.extend(g);e.fitBounds(d)}else{C.fadeIn("fast");d=new b.maps.LatLngBounds;c={zoom:14,scrollwheel:!1,center:new b.maps.LatLng(D.lat,D.lon),mapTypeId:b.maps.MapTypeId.ROADMAP};var l=new b.maps.Map(F,c);(function(){var a=new b.maps.Marker({position:new b.maps.LatLng(D.lat,D.lon),title:D.title,map:l,clickable:!0});b.maps.event.addListener(a,"click",function(){w.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");
v.show();C.hide();B.hide()});d.extend(new b.maps.LatLng(D.lat,D.lon))})()}C.fadeIn("fast")}else isDudaone||C.hide(),D.showAll?(w.find(".dmGeoLocBtn").removeClass("geoDisabledState"),B.fadeIn("fast"),v.hide()):(B.hide(),v.fadeIn("fast"))}function g(b){k(b);"map"===a(this).data("mode")?(v.hide(),B.hide(),C.show(),f(!0)):(a.DM.scrollPreviewToElement(B,100),B.hide(),C.hide(),f(!1));a(this).data("mode","list")}function n(){D.showAll=!0;v.hide();B.show();f(isDudaone||J.hasClass("isOff"));w.find(".dmGeoLocBtn").removeClass("geoDisabledState");
a(".dmGeoStList").text(a(".dmGeoStList").attr("list"));C.find(".dmGeoLocBtn").show()}function k(b){C.find(".dmGeoLocBtn").hide();var e;a(".dmGeoStList").text(a(".dmGeoStList").attr("info"));var d=jQuery.grep(z,function(a){return a.uniqueId==b})[0];D.showAll=!1;D.lat=d.latitude;D.lon=d.longitude;D.title=d.title;v.find(".dmGeoSVTitle").text(!1!==d.displayTitle?d.title:"");e=d.phone&&!1!==d.displayPhoneNumber?d.formattedAddress+", \x3c/br\x3e"+d.phone:d.formattedAddress;v.find(".dmGeoSVAddr").html(e);
if(d.phone||d.showPhone)v.find(".dmGeoSVPhone a").attr({href:"tel:"+d.phone,phone:d.phone}),d.clickToCallText&&v.find(".dmGeoSVPhone a .text").text(d.clickToCallText);v.find(".dmGeoSVPhone").toggle(d.showPhone);d.url&&!1!==d.displayLink?(e=a(d.url),c(e),e.addClass("dmGeoSVGoToPage"),v.find(".dmGeoSVGoToPage").replaceWith(e),isDudaone&&a.DM.initAjaxLinks(e),e.show()):v.find(".dmGeoSVGoToPage").hide();v.find(".dmGeoSVMoreInfo").text(d.description&&!1!==d.showDescription?d.description:"");v.find(".dmGeoSVSeeAll").unbind("click").click(function(){n()})}
function m(b,c){for(var e=[],d=0;d<z.length;d++)e.push({latitude:z[d].latitude,longitude:z[d].longitude,id:z[d].uniqueId});for(var f=[],d=0;d<e.length;d++){var g=e[d],h=c-g.longitude,l=b-g.latitude,h=Math.sqrt(h*h+l*l);f[d]=g;f[d].distance=h}f.sort(function(a,b){return a.distance>b.distance?1:-1});e=f[0].id;w.find(".dmGeoLocBtn").addClass("geoDisabledState");B.find('li[geoid\x3d"'+e+'"]').data("mode",a(".dmGeoViewStateWrapper").hasClass("isOff")?"map":"list").click()}var w=a(d),q=w.attr("data-editor"),
z=JSON.parse(Base64.decode(q)).locations,B=w.find(".dmGeoMLocList"),C=w.find(".dmGeoMLocMapView"),v=w.find(".dmGeoSingleView"),F=C.find(".dmGeoMLocMapViewMap")[0],q=w.find(".dmGeoMLocList li"),D={},A=0,O=0;D.showAll=!0;B.is(":visible")&&v.hide();isDudaone&&f(!0);var P=w.find(".dmGeoViewStateWrapper"),J=w.find(".dmStState"),S=w.find(".dmGeoStList"),fa=w.find(".dmGeoStMap");S.unbind("click").click(function(){a.dmrt.isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||
(J.removeClass("isOff"),P.removeClass("isOff"),f(!1))});fa.unbind("click").click(function(){a.dmrt.isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||(J.addClass("isOff"),P.addClass("isOff"),f(!0))});J.unbind("click").click(function(){a(this).hasClass("isOff")?(J.removeClass("isOff"),P.removeClass("isOff"),f(!1)):(J.addClass("isOff"),P.addClass("isOff"),f(!0));"undefined"!==typeof _&&_.isUseIscroll()&&a.layoutManager.refreshIscroll()});
for(e=0;e<q.length;e++)a(q[e]).unbind("click").click(function(){a.layoutManager._isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||g(a(this).attr("geoid"))});q=w.attr("id");a.DM.events.off("showSingleView:"+q).on("showSingleView:"+q,function(a,b){g.bind(this)(b)});a.DM.events.off("showMultiView:"+q).on("showMultiView:"+q,function(a,b){n.bind(this)()});w.on("click",".dmGeoLocBtn",function(b){a.layoutManager._isEditorMode&&window.editorParent.jQuery&&
window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){currentUserPos=a;A=a.coords.latitude;O=a.coords.longitude;w.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");m(A,O)},function(a){alert("We do not have permission to access your location. Please enable access in your settings")})})})}a.extend(a.modules,{geolocation:{initGoogleMaps:f,isGoogleMapsWidget:!0}});a.dmrt.register("geolocation",
{"default":{ready:function(b){0<jQuery(".dmGeoLocation").length&&d().then(function(){"undefined"==typeof google||"undefined"==typeof google.maps?a.dmrt.loadGoogleMapsScript(a(".dmGeoLocation").attr("data-lang")).then(function(){a.dmrt.components.geolocation["default"].ready()}):f()});a.DM.events.on("row_resize",function(b,c){a(c).has(".dmGeoLocation")&&f()});a.DM.events.on("widget_resize",function(b,c){a(c).is(".dmGeoLocation")&&f()});a.DM.events.on("col_resize",function(b,c){a(c).has(".dmGeoLocation")&&
f()})},load:function(a){},initGoogleMaps:f},mobile:{ready:function(b){0<jQuery(".dmGeoLocation").length&&d().then(function(){"undefined"==typeof google||"undefined"==typeof google.maps?a.dmrt.loadGoogleMapsScript(a(".dmGeoLocation").attr("data-lang")).then(function(){a.dmrt.components.geolocation["default"].ready()}):d().then(function(){f()})})},initGoogleMaps:e},tablet:{},desktop:{}})})(jQuery,window);(function(a){function g(){a(".dmHe").find("*[data-he-id]").each(function(d,c){0===a(this).attr("data-he-id").length&&a(this).parent().css({height:"70px"})})}a.extend(a.modules,{basemodule:{}});var d={"default":{ready:function(f,c){a('*[id^\x3d"he-webplugin-"]').attr({"class":"dmHe"});g();d["default"].refresh()},load:function(a,c){},refresh:function(d){a(d?'[dmle_extension\x3d"healthEngine"]#'+d:'[dmle_extension\x3d"healthEngine"]').each(function(c,b){var e=a(this),d=e.find("script"),f=document.createElement("script");
f.type="text/javascript";f.src=d.attr("src");a.each(d.get(0).attributes,function(a,b){b.name.startsWith("data")&&f.setAttribute(b.name,b.value)});""!==e.attr("data_id")?e.removeClass("dmHe-empty"):e.hasClass("dmHe-empty")||e.addClass("dmHe-empty");0<e.find("[id^\x3d'he-webplugin']").length&&e.removeClass("dmHe-empty");e.find("[id^\x3d'he-webplugin']").remove();e.find("script").remove();e.get(0).appendChild(f)})}},mobile:{},tablet:{},desktop:{}};a.dmrt.register("healthengine",d)})(jQuery);(function(a){var g={addSlidesToImageSlider:function(a,f){var c=jQuery('.flexslider[duda_id\x3d"'+a+'"]'),b=c.data("flexslider");if(void 0===b)c.find("ul.slides").append(f),g.initImageSliderInternal(c.parent());else for(c=0;c<f.length;c++)b.addSlide(f[c])},fixSlideContentPosition:function(a,f){if(!a.closest(".flexslider")||!a.closest(".flexslider").hasClass("ed-version")){var c,b,e;c=f||{};c.$slide&&(c.layout=c.$slide.closest(".flexslider").attr("layout")||c.$slide.attr("layout"),c.position=c.$slide.attr("position"));
"center"===c.layout&&(a.css({top:0,left:0,right:"auto",bottom:"auto",margin:0}),"right"===c.position||"left"===c.position?(c=a.height()/2*-1,b=0,e="auto"):(c=a.height()/2*-1,b=a.width()/2*-1,e="50%"),a.css({marginLeft:b,marginTop:c,top:"50%",left:e}))}},removeSlideFromImageSlider:function(a,f){jQuery('.flexslider[duda_id\x3d"'+a+'"]').data("flexslider").removeSlide(f)},initImageSlider:function(d,f){var c=a.extend({},{delay:0},f),b=c.elem||jQuery(".dmImageSlider");a(window).off("orientationchange.imageSlider").on("orientationchange.imageSlider",
function(){g.initImageSliderInternal(b,d,c)});setTimeout(function(){g.initImageSliderInternal(b,d,c)},c.delay)},imageSliderFitImages:function(a,f){a.find("li img").imgCover({type:f?"cover":"contain"})},imageSliderFitImagesAll:function(){jQuery(".dmImageSlider .flexslider").each(function(){var d=a(this),f=eval("("+d.attr("sliderScriptParams")+")");g.imageSliderFitImages(d,f.stretch)})}};a.fn.destroyImageSlider=function(){var d=a(this),f;return 0<d.length?(f=d.clone(),f.find(".flex-viewport").children().unwrap(),
f.find(".clone, .flex-direction-nav, .flex-control-nav").remove().end(),f.insertBefore(d),d.remove(),a.DM.initAjaxLinks(f.find("a")),f):d};g.updateImageSlider=function(d,f){function c(a){a.find(".slide-inner").attr("class","slide-inner");a.find(".flex-active-slide").removeClass("flex-active-slide")}function b(){var a=d.closest(".dmImageSlider");1===a.length&&(a.parent().is(".dmContent, .dmRespCol")||a.parent().css("width","100%"))}function e(a){var b=a.find(".flex-active-slide");a=b.find(".slide-inner");
var c=b.attr("animation"),e=b.closest(".flexslider").attr("layout")||b.attr("layout"),b=b.attr("position");g.fixSlideContentPosition(a,{layout:e,position:b});a.addClass(c+" animated")}var h;h=d.attr("sliderScriptParams");h=eval("("+h+")");h.animation=h.isFade?"fade":"slide";h.slideshow=h.isAutoPlay;h.pausePlay=!1;h.start=e;h.after=e;h.before=function(a){var b=a.find(".flex-active-slide");a=b.find(".slide-inner");b=b.attr("animation");a.removeClass(b+" animated")};h.animationLoop=!1;g.imageSliderFitImages(d,
h.stretch);if(f){var l=d.data("flexslider");l.vars.directionNav=h.directionNav;l.setup();l.stop();h.isAutoPlay&&l.play();h.directionNav?l.directionNav.css("visibility","visible"):l.directionNav.css("visibility","hidden")}else d.data("flexslider")&&(d=d.destroyImageSlider()),d.find(".slide-inner").length&&c(d),h.isFade||d.find("ul.slides li").css({marginRight:"0px",opacity:1}),d.flexslider(h),h.isFade&&d.find("ul.slides").attr("style",""),h=d.find("ul.slides \x3e li"),1>=h.length?d.find(".flex-direction-nav").hide():
d.find(".flex-direction-nav").show(),0<h.length&&h.each(function(b,c){var e=a(c).find(".slide-inner");0<e.length&&!e.attr("duda_id")&&e.attr("duda_id",e.attr("id"));a(c).find("a")&&a(c).find("a").css("background-image")&&a(c).css("background-image")&&a(c).css("background-image","")}),d.find(".color-overlay, .slide-inner").off("click.emitLinkClick").on("click.emitLinkClick",function(b){b=a(this).parent().find("a");b.attr("href");if(!a.editGrid||a.editGrid.inPreviewMode())if(a.editGrid)a(b[0]).trigger("click");
else if(a(b[0]).is(Parameters.LinksToAjax)){var c=a.DM.isTouchDevice&&!a.DM.isIOS()?"touchend.navigate":"click.navigate";a(b[0]).trigger(c)}else a(b)[0].click()}),b(),parent.window.$.dmfw&&parent.window.$.dmfw.newInlineEditing&&!parent.window.$("body").hasClass("previewMode")&&a.editGrid.addWidgetToGrid(d.parent(),!0);d.imagesLoaded().fail(function(b){var c,e,d;b=b.images;for(var f in b)c=b[f],c.isLoaded||(c=a(c.img),e=c.parent(),d=c.attr("data-dm-image-path"),e.css({backgroundImage:"url("+d+")"}),
c.attr({src:d}))})};g.initImageSliderInternal=function(d,f,c,b){0<d.length&&a.DM.loadExternalScriptAsync("/_dm/s/rt/scripts/vendor/flexslider/jquery.flexslider.min.js",function(){for(var c=0;c<d.length;c++){var h=a(d[c]).hasClass("flexslider")?a(d[c]):a(d[c]).find(".flexslider");g.updateImageSlider(h,f)}b&&b()})};a.extend(a.DM,g);a.dmrt.register("imageslider",{"default":{ready:function(a){g.initImageSlider()},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a){function g(c){c=a(c);c.removeClass(function(a,c){return(c.match(/(^|\s)img-shr-\S+/g)||[]).join(" ")});c.removeClass("img-shr");c.find(".share-layer").remove();c.attr("data-share-buttons")&&(c.prepend(f()),c.addClass("img-shr"),c.addClass("img-shr-"+c.attr("data-share-buttons")))}var d={"default":{ready:function(a,b){},load:function(a,b){}},mobile:{},tablet:{},desktop:{ready:function(c,b){a("[data-share-buttons]").each(function(){g(this)})},load:function(a,b){}},refresh:g},f=function(){var c=
null;return function(){if(null==c){var b=[],b=[{key:"facebook",text:"Facebook"},{key:"twitter",text:"Twitter"},{key:"google",text:"Google +"}],e=a("\x3cdiv\x3e").addClass("share-layer");a.each(b,function(a,b){e.append('\x3ca href\x3d"#" class\x3d"share-button share-via-{{key}}"\x3e\x3ci class\x3d"fa fa-{{key}}"\x3e\x3c/i\x3e{{text}}\x3c/a\x3e'.replace(/{{key}}/g,b.key).replace(/{{text}}/g,b.text))});c=e}return c.clone()}}();a.dmrt.register("imgshare",d)})(jQuery);(function(a,g){function d(b,c){b=b||g.google;var e=a.layoutDevice?a.layoutDevice.type:"mobile";switch(e){case "mobile":f(b,c,e);break;default:f(b,c,e)}}function f(c,d,f){d=d||{};var g=a(".inlineMap");0<g.length?a.each(g,function(d,g){var l=a(g),m=l.attr("data-layout")||"layout1",t=l.attr("data-height"),q=l.attr("data-lat"),z=l.attr("data-lng"),B=l.attr("data-address"),C,v={zoom:parseInt(l.attr("data-zoom")),mapTypeId:c.maps.MapTypeId.ROADMAP,zoomControl:!0,scrollwheel:!1,styles:b[m](l.attr("data-color-scheme"))},
F,D=function(a){l.is(":visible")?(F&&clearInterval(F),A(a)):F||(F=setInterval(function(){D(a)},500))},m=new c.maps.LatLng(q,z),A=function(b){v.center=b;t&&l.css("height",t);f&&"mobile"==f&&(v.draggable=!1,v.panControl=!0);C=new c.maps.Map(g,v);new c.maps.Marker({map:C,position:b});e.push({map:C,container:l});getSafe("editorParent.$.dmfw.newInlineEditing")&&a.editGrid.addWidgetToGrid(a(g),!0)};q&&z?D(m):(q=new c.maps.Geocoder,q.geocode({address:B},function(a,b){b==c.maps.GeocoderStatus.OK?D(a[0].geometry.location):
D(new c.maps.LatLng(37.425525,-122.148219))}))}):getSafe("editorParent.$.dmfw.newInlineEditing")&&d.elem&&a.editGrid.addWidgetToGrid(d.elem,!0)}function c(){for(var a=0;a<e.length;a++){var b=e[a].map,c=b.getCenter();google.maps.event.trigger(b,"resize");b.setCenter(c)}}var b={layout1:function(){return[]},layout2:function(a){return[{featureType:"poi",stylers:[{color:a||"#fabfd6"},{visibility:"simplified"}]},{featureType:"water",stylers:[{color:a||"#fabfd6"}]},{featureType:"transit",stylers:[{color:a||
"#fabfd6"},{visibility:"simplified"}]}]},layout3:function(){return[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",
stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",
stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]},layout4:function(){return[{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#d3d3d3"}]},{featureType:"transit",stylers:[{color:"#808080"},{visibility:"off"}]},{featureType:"road.highway",
elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#b3b3b3"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ffffff"},{weight:1.8}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{color:"#d7d7d7"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#ebebeb"}]},{featureType:"administrative",elementType:"geometry",
stylers:[{color:"#a7a7a7"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#efefef"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#696969"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{visibility:"on"},{color:"#737373"}]},{featureType:"poi",
elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#d6d6d6"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#dadada"}]}]},layout5:function(a){return[{featureType:"all",elementType:"labels.text",stylers:[{color:a||"#a1f7ff"}]},{featureType:"all",elementType:"labels.text.fill",
stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#000000"},{lightness:13}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#144b53"},{lightness:14},{weight:1.4}]},{featureType:"administrative",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:a||"#a1f7ff"}]},{featureType:"administrative.province",elementType:"labels.text",
stylers:[{visibility:"simplified"},{color:a||"#a1f7ff"}]},{featureType:"administrative.locality",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:a||"#a1f7ff"}]},{featureType:"administrative.neighborhood",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:a||"#a1f7ff"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#08304b"}]},{featureType:"landscape",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"labels.text.fill",
stylers:[{color:"#ff0000"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#0c4152"},{lightness:5}]},{featureType:"poi.attraction",elementType:"labels",stylers:[{invert_lightness:!0}]},{featureType:"poi.attraction",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:a||"#a1f7ff"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"},{invert_lightness:!0}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"simplified"},{color:a||
"#a1f7ff"}]},{featureType:"road",elementType:"labels.text",stylers:[{color:a||"#a1f7ff"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#0b434f"},{lightness:25}]},{featureType:"road.highway",elementType:"labels",stylers:[{lightness:"0"},{saturation:"0"},{invert_lightness:!0},{visibility:"simplified"},{hue:"#00e9ff"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"simplified"},
{color:a||"#a1f7ff"}]},{featureType:"road.highway.controlled_access",elementType:"labels.text",stylers:[{color:a||"#a1f7ff"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#0b3d51"},{lightness:16}]},{featureType:"road.arterial",elementType:"labels",stylers:[{invert_lightness:!0}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"road.local",
elementType:"labels",stylers:[{visibility:"simplified"},{invert_lightness:!0}]},{featureType:"transit",elementType:"all",stylers:[{color:"#146474"}]},{featureType:"water",elementType:"all",stylers:[{color:"#021019"}]}]},layout6:function(){return[{featureType:"administrative",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"},{color:"#716464"},
{weight:"0.01"}]},{featureType:"administrative.country",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"landscape.natural.landcover",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"geometry.fill",
stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"geometry.stroke",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{visibility:"simplified"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{visibility:"simplified"}]},{featureType:"poi.attraction",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"all",
stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{visibility:"simplified"},{color:"#a05519"},{saturation:"-13"}]},{featureType:"road.local",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"all",
stylers:[{visibility:"simplified"}]},{featureType:"transit",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"all",stylers:[{visibility:"simplified"},{color:"#84afa3"},{lightness:52}]},{featureType:"water",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{visibility:"on"}]}]}},e=[];a.extend(a.modules,{inlinemap:{inlineGMapInit:f,
isGoogleMapsWidget:!0,initGoogleMaps:d}});a.dmrt.register("inlinemap",{"default":{ready:function(b,f){e=[];a(".inlineMap").length&&("undefined"==typeof google||"undefined"==typeof google.maps?a.dmrt.loadGoogleMapsScript(a(".inlineMap").attr("data-lang")).then(function(){a.dmrt.components.inlinemap["default"].ready()}):d(void 0,f),a.DM.events.on("widget_resize",function(b,e){a(e).is(".inlineMap")&&c()}),a.DM.events.on("col_resize",function(b,e){a(e).has(".inlineMap")&&c()}),a.DM.events.on("row_resize",
function(b,e){a(e).has(".inlineMap")&&c()}))},load:function(a){},initGoogleMaps:f,refreshStyle:function(){for(var a=0;a<e.length;a++){var c=e[a].map,d=e[a].container,f=d.attr("data-layout")||"layout1";c.setOptions({styles:b[f](d.attr("data-color-scheme"))})}},refreshZoom:function(){for(var a=0;a<e.length;a++){var b=e[a].map,c=parseInt(e[a].container.attr("data-zoom"));b.setZoom(c)}},refreshSize:c},mobile:{},tablet:{},desktop:{}})})(jQuery,window);(function(a){a.extend(a.modules,{iomodule:{}});a.dmrt.register("iomodule",{"default":{ready:function(a,d){if(d.isAjax&&window.INSITE&&window.INSITE.resetAndEvaluate)try{window.INSITE.resetAndEvaluate()}catch(f){}},load:function(a,d){}},mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a){a.extend(a.modules,{mobilekeyboarddetection:{}});a.dmrt.register("mobilekeyboarddetection",{"default":{ready:function(a){},load:function(a){}},mobile:{ready:function(g){a("body").on("focus","input, textarea",function(){a("body").addClass("hasMobileKeyboard")}).on("blur","input, textarea",function(){a("body").removeClass("hasMobileKeyboard")})},load:function(a){}},tablet:{},desktop:{}})})(jQuery);(function(a){a.extend(a.modules,{multilingual:{}});a.dmrt.register("multilingual",{"default":{ready:function(g,d){function f(){return 0<a(".multilingualWidget.dropdown").length}function c(b,c){b.addClass("open");c.css("bottom","");c.show();var e=a(".dm_wrapper").height()-(b.offset().top+b.height()+c.height());c.hide();10<e?c.stop().slideDown(100):(c.css("bottom",b.find(".current-language").height()),c.slideToggle({direction:"up",duration:100}))}function b(a,b){a.removeClass("open");b.stop().slideUp(100)}
function e(a,e){e.is(":hidden")?c(a,e):setTimeout(function(){b(a,e)},100)}function h(){a(".multilingualWidget a").off("click.languageSwitch").on("click.languageSwitch",function(c){var d;a:{try{if(!a.editGrid.helpers.isPreviewMode()){d=!0;break a}}catch(g){}d=!1}if(!d)if(f()&&a(this).parent().is(".current-language")){d=a(this).parents(".multilingualWidget");var h=d.find(".other-languages");e(d,h);c.preventDefault();c.stopImmediatePropagation()}else if(f()){var l=a(this).attr("href");a(".multilingualWidget").each(function(){var c=
a(this),e=c.find(".current-language"),c=c.find(".other-languages"),d=a(this).find("a[href\x3d'"+l+"']");e.find("a").insertAfter(d);d.appendTo(e);b(a(this),c)})}})}function l(c,e){a(document).off("mouseup.closeMultilingual").on("mouseup.closeMultilingual",function(a){f()&&(c.is(a.target)||0!==c.has(a.target).length||b(c,e))})}function p(){a(".multilingualWidget.dropdown.long-label").each(function(){var b=a(this).find(".other-languages"),c=a(this).find("span.name"),e=a(this).children("div");b.show();
c=c.map(function(){return a(this).width()}).get();b.hide();b=Math.max.apply(this,c);b>a(this).find(".current-language span.name").width()&&e.css("minWidth",b+60)})}function t(b){var c=a(b).find("\x3e div:first");a(document).find(".multilingualWidget \x3e div:first").each(function(){a(this).replaceWith(c)})}function u(){var b=a(".dm-no-flexbox .innerMultilingualRow.visibleMultilingual + .innerSocialRow").not(".displayNone");if(0<b.length){var c=function(){var c=a(".innerMultilingualRow").outerWidth(),
c=a(".social-multilingual-container").outerWidth()-c-40;b.width(c).show()};c();a(window).off("resize.socialHeader").on("resize.socialHeader",c)}}(function(){u();"undefined"!==typeof d.data&&(t(d.data.multilingual_extension),d.data.relAlternateLanguageLinksMarkup&&(a('link[rel\x3d"alternate"]').remove(),a("head").append(a(d.data.relAlternateLanguageLinksMarkup))));var b=a(".multilingualWidget.dropdown"),c=a(".multilingualWidget.dropdown .other-languages");h();l(b,c);p()})()},load:function(a){}},mobile:{},
tablet:{},desktop:{}})})(jQuery);(function(a,g){function d(){a('[dmle_extension\x3d"onelinksmenu"] li.dmUDNavigationItem_dmMore \x3e a').off("click.showSubNav").on("click.showSubNav",function(d){a('[dmle_extension\x3d"onelinksmenu"] li.dmUDNavigationItem_dmMore').addClass("hover");a("body").off("click.hideSubNav").on("click.hideSubNav",function(){a('[dmle_extension\x3d"onelinksmenu"] li.dmUDNavigationItem_dmMore').removeClass("hover");a("body").off("click.hideSubNav")})})}a.dmrt.register("navigationLinks",{"default":{ready:function(a,
c){},load:function(a){}},mobile:{ready:function(a){d()}},tablet:{},desktop:{}})})(jQuery,window);(function(a,g){var d={runAt:"start",init:function(){0!=g(".blog-post-comments-count").length&&(d.initDisqus(),d.initFacebook())},initDisqus:function(){a.DISQUSWIDGETS||(a.disqus_shortname=g(".blog-post-comments-count").attr("data-disqus-short-name"),g.getScript("//"+a.disqus_shortname+".disqus.com/count.js"))},initFacebook:function(){a.fbAsyncInit||a.FB||(a.fbAsyncInit=function(){try{a.FB.init({status:!0,cookie:!0,xfbml:!0,oauth:!0})}catch(d){}},function(a){var c;a.getElementById("facebook-jssdk")||
(c=a.createElement("script"),c.id="facebook-jssdk",c.async=!0,c.src="//connect.facebook.net/en_US/all.js",a.getElementsByTagName("head")[0].appendChild(c))}(document))},getTotalCommentCount:function(a,c,b){var e=g.Deferred();c=d.getDisqusCommentCount(c,b);a=d.getFacebookCommentCount(a);g.when(c,a).done(function(a,b){e.resolve(+a+ +b)});return e.promise()},getDisqusCommentCount:function(d,c){var b=g.Deferred();d&&c?g.waitUntil(function(){return"undefined"!=typeof a.DISQUSWIDGETS}).done(function(){var a=
g('span[data-disqus-identifier\x3d"'+c+'"]');0===a.length&&(a=g('\x3cspan class\x3d"disqus-comment-count"\x3e\x3c/span\x3e').hide(),a.attr("data-disqus-identifier",c),g("body").append(a));DISQUSWIDGETS.getCount();g.waitUntil({timeout:5E3,conditionFn:function(){return 0<a.html().length}}).done(function(){setTimeout(function(){b.resolve(a.html().split(" ")[0])},0)}).fail(function(){setTimeout(function(){b.resolve(0)},0)})}):b.resolve(0);return b},getFacebookCommentCount:function(d){var c=g.Deferred();
d?g.waitUntil({timeout:5E3,conditionFn:function(){return"undefined"!=typeof a.FB}}).done(function(){setTimeout(function(){a.FB.api("/v2.6/",{id:d,access_token:a.rtCommonProps["facebook.accessToken"]},function(a){a&&!a.error&&a.share?c.resolve(a.share.comment_count):c.resolve(0)})},0)}).fail(function(){setTimeout(function(){c.resolve(0)},0)}):c.resolve(0);return c.promise()},updateCount:function(){g(".blog-post-comments-count").each(function(a,c){var b=g(c),e=d.getTotalCommentCount(b.attr("data-href"),
b.attr("data-disqus-short-name"),b.attr("data-disqus-id"));g.when(e).done(function(a){var c=1===a?b.attr("data-comment"):b.attr("data-comments");void 0==c&&(c="value not specified");b.html(a+" "+c)})})},"default":{ready:function(a){d.init();d.updateCount()},load:function(a){}},mobile:{load:function(a){}},tablet:{load:function(a){}},desktop:{load:function(a){}}};a.$&&a.$.dmrt?a.$.dmrt.register("commentCounter",d):a.commentCounter=d})(window,$);(function(a){function g(a){var c=a.find(".caption-inner"),d=$.layoutDevice&&$.layoutDevice.type,f=a.attr("data-text-layout"),g="data-"+d+"-text-layout";a.attr(g)&&(f=a.attr(g),a.attr("data-text-layout",f));!c.length||"desktop"!==d||f&&"bottom"!==f||$.equalHeight(c);c.show()}function d(a,c){if(a)return c=c||{},a.getMultisizedPath(c.thumbnail?"thumbnail":$.layoutDevice&&$.layoutDevice.type||"mobile")}var f={imageStack:[],layoutsData:{panoramic:{name:"panoramic",limitedNumberOfColumns:1,numberOfImagesPerColumn:1,
mobileColumns:1},asymetric:{name:"asymetric",limitedNumberOfColumns:6,numberOfImagesPerColumn:1},pinterest:{name:"pinterest",limitedNumberOfColumns:6,numberOfImagesPerColumn:1},asymetric2:{name:"asymetric2",limitedNumberOfColumns:2,mobileColumns:1,numberOfImagesPerColumn:5},asymetric3:{name:"asymetric3",limitedNumberOfColumns:2,mobileColumns:1,numberOfImagesPerColumn:4},vertical:{name:"vertical",limitedNumberOfColumns:6,numberOfImagesPerColumn:1},square:{name:"square",limitedNumberOfColumns:6,numberOfImagesPerColumn:1}},
isLinkGalleryType:function(a){return a.attr("data-link-gallery")&&"true"===a.attr("data-link-gallery")},getNumberOfColumns:function(a,c){var d=f.getCurrentLayout(a),g=a.find("ul.dmPhotoGalleryHolder"),p=g.attr("data-d1-gallery-cols")||g.attr("data-dudaone-gallery-cols")||4;"mobile"===$.layoutDevice.type?p=g.attr("data-d1-mobile-gallery-cols")||Math.min(c&&c.thumbnailsPerRow||2,2,p):"tablet"===$.layoutDevice.type&&(p=g.attr("data-d1-tablet-gallery-cols")||p);d=f.getLayoutData(d);"mobile"===$.layoutDevice.type&&
d.mobileColumns?p=d.mobileColumns:p>d.limitedNumberOfColumns&&(p=d.limitedNumberOfColumns);return p},getCurrentColumnIndex:function(a,c,d){return Math.floor(a/f.getLayoutData(d).numberOfImagesPerColumn%c)},getNumberOfImagesPerColumn:function(a){return f.getLayoutData(f.getCurrentLayout(a)).numberOfImagesPerColumn},getLayoutData:function(a){return f.layoutsData[a]||f.layoutsData.square},getCurrentLayout:function(a){a=a.children("ul").eq(0);a=a.attr("data-d1-gallery-type")||a.attr("data-dudaone-gallery-type");
a&&f.layoutsData[a]||(a=f.layoutsData.square.name);return a},getNumberOfRow:function(a,c,d){a=f.getLayoutData(a).numberOfImagesPerColumn;d=Math.floor(d/a);return 1===c?d:Math.floor(d/c)},calculateImageDimension:function(a,c,d,g,p,t){var u={width:"100%","float":"left",clear:"none",height:"auto",maxHeight:"initial"},n={},k=f.getLayoutData(a).numberOfImagesPerColumn;switch(a){case "square":n.height=d.width();break;case "pinterest":c.attr("data-asymetric-ratio")?n.height=d.width()*c.attr("data-asymetric-ratio")*
1:(p=0===g%2&&0===d.children().length%2||1===g%2&&1===d.children().length%2?1.25:.75,n.height=d.width()*p,c.attr("data-asymetric-ratio",p));break;case "panoramic":n.height=.25*d.width();break;case "asymetric2":a=(g=$("body").hasClass("dmMobileBody"))?!1:f.getNumberOfRow(a,t,p)%2;2===p%k?(u.width=g?"100%":"40%",n.height=d.width()*(g?1:.5)+2*c.css("padding").replace("px",""),u["float"]=a?"left":"right"):(u["float"]=a?"right":"left",n.height=d.width()*(g?.5:.25),u.width=g?"50%":"30%",3===p%k?u.clear=
a?"right":"left":0===p%k&&(u.clear="both"));break;case "asymetric3":var m=(g=$("body").hasClass("dmMobileBody"))?"100%":"40%",w=g?"50%":"30%";a=g?!1:f.getNumberOfRow(a,t,p)%2;0===p%k?(u.width=m,n.height=d.width()*(g?1:.5)+2*c.css("padding").replace("px",""),u["float"]=a?"right":"left",u.clear=a?"both":"left"):3===p%k?(u.width=g?"100%":"60%",u.clear=a?"left":"none",n.height=d.width()*(g?.5:.25)):(n.height=d.width()*(g?.5:.25),u.width=w);break;case "vertical":n.height=2*d.width()}c.css(u);c.find("a").css(n)},
initPhotoGallery:function(){$.layoutDevice&&$.dmrt.components.photogallery[$.layoutDevice.type].ready?$.dmrt.components.photogallery[$.layoutDevice.type].ready($.layoutManager._isEditorMode):$.dmrt.components.photogallery["default"].ready($.dmrt.isEditorMode)},"default":{ready:function(a){function c(a){if($(window).width())a();else var b=setInterval(function(){$(window).width()&&(clearInterval(b),a())},300)}function d(){for(var a=0;a<g;a++)$.dmrt.components.photogallery.initPhotoGalleryImpl(f.eq(a))}
var f=$(".dmPhotoGallery"),g=f.length;(function(){for(var a,b,c=0;c<g;c++)a=$(f[c]),b=a.attr("data-image-animation"),$.dmrt.components.photogallery.initPhotoGalleryAnimation(a,b)})();a?c(function(){d()}):d()},load:function(a){},resetImageSizes:function(a,c,d){function f(){$.dmrt.components.photogallery.refreshPhotoGalleriesSize(a)}var g=a.find("ul.gallery"),t=g.attr("data-d1-gallery-type")||g.attr("data-dudaone-gallery-type")||"square";c=c?c.data("type"):null;a.find("li.photoGalleryThumbs");var u=
{attrToAdd:{"data-d1-gallery-type":c},attrToRemove:["data-dudaone-gallery-type"]};if(d||c&&t!==c)if(c&&window.editorParent&&window.editorParent.$&&(window.editorParent.$.dmsrv.updateElementAttributes(g,u),g.attr({"data-d1-gallery-type":c})),d&&(c=t),f(),window.editorParent.$&&window.editorParent.$.dmx)window.editorParent.$.dmx.events.on("numberOfColumnsChanged.imageHeight",f,!0,{scope:"page"})},switchImagesInGalleryStack:function(a,c){var d=f.imageStack[c];f.imageStack.splice(c,1);f.imageStack.splice(a,
0,d)},addImageToStack:function(a,c){f.imageStack.splice(c?0:f.imageStack.length,0,a)},removeImageFromGalleryStack:function(a){f.imageStack=f.imageStack.filter(function(c,d){return c.attr("id")===a?!1:!0});$('li[duda_id\x3d"'+a+'"]').remove()},initDudaonePhotogallery:function(a){function e(a){for(var b=0;b<a.length;b++){a[b].removeAttribute("data-pswp-uid");$(a[b]).off("click.photoswipe");for(var e=a.eq(b).find("a"),d=0;d<e.length;d++)e.eq(d).off("click.photogallery").on("click.photogallery",function(a){c()||
this.getAttribute("href")&&this.getAttribute("href")!==this.getAttribute("data-image-url")||a.preventDefault()})}}function d(e){for(var f=function(a){var b=$(a),c,e,d,f;a="dm_fb_gallery"===b.attr("dmle_extension")||b.hasClass("dmSocialGalleryHolder");for(var g=isDudaone&&!a?b.find("ul \x3e li"):b.find("li"),h=g.length,l=[],k=0;k<h;k++)b=isDudaone&&!a?g.filter('[index\x3d"'+k+'"]')[0]:g[k],1===b.nodeType&&(e=$(b),d=e.find("a")[0],f={src:d.getAttribute("href")},isDudaone&&!a?(d=e.find("img")[0],c=e.find(".caption-container"),
0<c.length?(f.author=c.find(".caption-title").text().trim(),f.title=c.find(".caption-text").text().trim()):d&&d.getAttribute("alt")&&(f.title=d.getAttribute("alt")),e.attr("data-naturalwidth")&&e.attr("data-naturalheight")?(f.w=parseInt(e.attr("data-naturalwidth"),10),f.h=parseInt(e.attr("data-naturalheight"),10)):(f.w=d.width,f.h=d.height)):(d=$(d).find("img"),d.length?(d.attr("alt")&&(f.title=d.attr("alt")),d.attr("irw"),c=d.css("maxWidth"),d.css("maxWidth","none"),f.w=parseInt(d.width(),10),f.h=
parseInt(d.height(),10),d.css("maxWidth",c)):(f.src="",f.title="",f.w=0,f.h=0)),!f.title&&1<b.children.length&&e.find('[dmle_is_text\x3d"true"]').length&&(f.title=$(b).find('[dmle_is_text\x3d"true"]')[0].innerHTML),f.el=b,l.push(f));return l},g=function z(a,b){return a&&(b(a)?a:z(a.parentNode,b))},h=function(d){var e="dm_fb_gallery"===a.attr("dmle_extension");if(!e||"false"!==a.attr("inside-album")){d=d||window.event;d.preventDefault?d.preventDefault():d.returnValue=!1;var f=g(d.target||d.srcElement,
function(a){return a.tagName&&"A"===a.tagName.toUpperCase()});if(f&&!c()){d=$(f).parents("ul.gallery").get(0);for(var h=$(f).parents("ul.gallery").find("li a"),l=h.length,k=0,m,p=0;p<l;p++)if(1===h[p].nodeType){if(h[p]===f){m=$(h[p]).parents("li.photoGalleryThumbs").eq(0);m=isDudaone&&!e?parseInt(m.attr("index"),10):m.index();break}k++}0<=m&&n(m,d);return!1}}},n=function(a,b,c){var d=document.querySelectorAll(".pswp")[0],g;g=f(b);a={index:a,history:!1,galleryUID:$(b).parents("[data-pswp-uid]").attr("data-pswp-uid"),
getThumbBoundsFn:function(a){var b=window.pageYOffset||document.documentElement.scrollTop;a=g[a].el.getBoundingClientRect();return{x:a.left,y:a.top+b,w:a.width}},CaptionHTMLFn:function(a,b,c){c="";a.author&&(c+=a.author);a.author&&a.title&&(c+="\x3cbr/\x3e");a.title&&(c+="\x3csmall\x3e"+a.title+"\x3c/small\x3e");if(c.length)return b.children[0].innerHTML=c,b.style.display="block",!0;b.children[0].innerText="";b.style.display="none";return!1}};c&&(a.showAnimationDuration=0);e=new PhotoSwipe(d,PhotoSwipeUI_Default,
g,a);e.init()},k=e,m=0,w=k.length;m<w;m++)k[m].setAttribute("data-pswp-uid",m+1),$(k[m]).off("click.photoswipe").on("click.photoswipe",h);h=function(){var a=window.location.hash.substring(1),b={};if(5>a.length)return b;for(var a=a.split("\x26"),c=0;c<a.length;c++)if(a[c]){var d=a[c].split("\x3d");2>d.length||(b[d[0]]=d[1])}b.gid&&(b.gid=parseInt(b.gid,10));if(!b.hasOwnProperty("pid"))return b;b.pid=parseInt(b.pid,10);return b}();0<h.pid&&0<h.gid&&n(h.pid-1,k[h.gid-1],!0)}f.isLinkGalleryType(a)?e(a):
d(a);$.DM.events.on("numberOfColumnsChanged",function(){$.dmrt.components.photogallery.refreshPhotoGalleriesSize(a)});$.DM.events.on("row_resize",function(c,d){$(d).has(".dmPhotoGallery")&&$.dmrt.components.photogallery.refreshPhotoGalleriesSize(a)})},breakColumns:function(a){var c=a.find("ul.galleryColumn");a=a.find("li.photoGalleryThumbs");0<c.length&&(a=a.sort(function(a,b){return 1*$(a).attr("index")>1*$(b).attr("index")?1:-1}));c=a.length;f.imageStack=[];for(var d=0;d<c;d++)f.imageStack.push(a.eq(d))},
getNextImage:function(a){a=a.attr("id");for(var c in f.imageStack)if(f.imageStack[c].attr("id")===a&&1*c+1<f.imageStack.length)return f.imageStack[1*c+1];return null},splitToColumns:function(a){var c=a.find(".caption-inner");$("body").hasClass("dmMobileBody");var g=f.getCurrentLayout(a),l=[],p,t=$("\x3cli class\x3d'galleryContainer clearfix'/\x3e"),u,n=f.getNumberOfColumns(a);f.imageStack.forEach(function(a){l.push($(a).detach())});f.imageStack=[];c.hide();f.isLinkGalleryType(a)&&l.forEach(function(a){$(a).find("a").hasClass("has-link")&&
$(a).remove()});a.find(".dmPhotoGalleryHolder").addClass("ready").html(t);p=function(a,b,c){var d=[],e;(e=!c.is(":visible"))&&c.get(0).style.setProperty("display","block","important");for(var f=0;f<a;f++){var g=$("\x3cul class\x3d'galleryColumn clearfix'/\x3e");g.css({width:100/a+"%",maxWidth:Math.floor(c.width()/a)+"px"});d.push(g);g.appendTo(b)}e&&c.get(0).style.removeProperty("display");return d}(n,t,a);$.each(l,function(l,m){var t=$(m),q=t.find("a"),z=f.getCurrentColumnIndex(l,n,g);u=p[z];t.attr({index:l});
t.removeAttr("data-asymetric-ratio");t.appendTo(u);f.calculateImageDimension(g,t,u,z,l,n);t.find("img")[0].src=d(q.attr("data-image-url")||q.attr("href"));f.isLinkGalleryType(a)&&q.hasClass("has-link")&&q.is(window.Parameters.LinksToAjax)&&$.DM.initAjaxLinks(q);t.imagesLoaded().done(function(a){var b=a.elements[0];if(0===$(b).width())var d=0,f=setInterval(function(){if(0!==$(b).width()||4<d)clearInterval(f),$.dmrt.components.photogallery["default"].setImageHeight(b,g);d+=1},500);else $.dmrt.components.photogallery["default"].setImageHeight(b,
g);c.is(":visible")||c.show()}).fail(function(c){c=$(c.elements).eq(0);var d=c.children("a"),e=d.attr("data-dm-image-path");c.css("background-image","none");d.css({backgroundImage:"url("+e+")"});d.attr({href:e});d.children("img").attr("src",e);$.dmrt.components.photogallery["default"].initDudaonePhotogallery(a)})})},setImageHeight:function(a,c){var d=$(a),f=d.find("img").get(0),p=f.naturalHeight/f.naturalWidth,t=d.parents(".dmPhotoGallery");t.find("ul.galleryColumn").eq(0);var u=d.find(".caption-title").text(),
n=d.find(".caption-text").text(),k=t.attr("data-caption-padding");t.length&&(d.attr({"data-naturalWidth":f.naturalWidth,"data-naturalHeight":f.naturalHeight,"data-ratio":p}),u.length||n.length||d.find(".caption-container").css("display","none"),k&&d.find(".caption-inner").css("padding",k),(f=!t.is(":visible"))&&t.get(0).style.setProperty("display","block","important"),"asymetric"===c&&(p=d.attr("data-ratio"),p=Math.ceil(d.parent().outerWidth()*p)-12,d.css("height","auto"),d.find("a").css({height:p})),
f&&t.get(0).style.removeProperty("display"),g(t),d.find("a").animate({opacity:1},500),setTimeout(function(){d.css({background:"none"})},100))}},mobile:{load:function(a){$.dmrt.components.photogallery.onResizeAction()}},tablet:{load:function(a){$.dmrt.components.photogallery.onResizeAction()}},desktop:{load:function(a){$.dmrt.components.photogallery.onResizeAction()}},onResizeAction:function(){var a=$(".dmPhotoGallery");a.length&&$(window).resize(function(){$.dmrt.components.photogallery.refreshPhotoGalleriesSize(a)})},
initPhotoGalleryAnimation:function(a,c){var d=a.find("li.photoGalleryThumbs");$.each(d,function(a,b){$(b).css({"animation-delay":100*a+"ms","-webkit-animation-delay":100*a+"ms"})});"none"!==c&&a.find("li.photoGalleryThumbs").attr("data-anim-desktop",c)},initPhotoGalleryImplWithScript:function(a){var c=$.Deferred();$.dmrt.components.photogallery.initPhotoGalleryImpl(a);c.resolve();return c.promise()},initPhotoGalleryImpl:function(a){function e(a){for(var b=a.find("li:not(.galleryContainer)"),c,e=0;e<
b.length;e++){c=$(b[e]);var l=c.find("a"),k=c.find("img");l.length&&k.length&&(k.data().parent=c,c=d(l.attr("data-image-url")||l.find("img").attr("src")||l.attr("href")),l.css({"background-image":"url('"+c+"')"}),l.attr("data-image-url",c),f.isLinkGalleryType(a)?l.attr("data-image-url")===l.attr("href")&&l.attr("href",""):l.attr("href",g(l.attr("data-image-url")||l.attr("href")||k.attr("src"))))}}function g(a){return a?$.layoutDevice&&$.layoutDevice.type?a.getMultisizedPath($.layoutDevice.type):a:
""}function l(a,b){function c(){f.attr("isAll","false");f.html(f.data("viewless"));g.find("li").show()}function d(){f.attr("isAll","true");f.html(f.data("viewall"));isDudaone?t(g):g.find("li:gt("+l+")").hide()}var e=b||{},f=e.viewAll||$(this),g=e.gallery||f.closest(".dmPhotoGallery"),h=g.attr("galleryOptionsParams"),l,h=eval("("+h+")");l=!isDudaone&&g.find(".gallery5inArow").length?h.rowsToShow-1:h.thumbnailsPerRow*h.rowsToShow-1;e.dontToggle?"true"==f.attr("isAll")?d():c():"true"==f.attr("isAll")?
c():d();$.DM.isUseIscroll()&&$.layoutManager.refreshIscroll();if(-1!==window.location.href.indexOf("nee\x3d"))try{window.editorParent.$&&window.editorParent.$.dmops.redrawSelection()}catch(k){}}function p(a,b){var c=b.thumbnailsPerRow*b.rowsToShow,d=a.find("li").length;a.find("li").hide();5==b.thumbnailsPerRow?(c=b.rowsToShow,a.find(".gallery").removeClass("unEvenImages"),setTimeout(function(){for(var b=0;b<c;b++)$(a.find("li")[b]).show()},0),setTimeout(function(){a.find(".gallery").addClass("unEvenImages");
$.browser.msie&&8<$.browser.version&&10>$.browser.version&&a.find(".gallery").addClass("ieFixes")},0)):(a.find("li:lt("+c+")").show(),setTimeout(function(){a.find(".gallery").removeClass("unEvenImages ieFixes")},0));d>c?(a.find(".photoGalleryViewAll").show(),a.find(".photogalleryviewall").addClass("photoGalleryViewAll").show()):(a.find(".photoGalleryViewAll").hide(),a.find(".photogalleryviewall").hide());setTimeout(function(){-1!=window.location.href.indexOf("nee\x3d")&&window.editorParent.$&&window.editorParent.$.dmops.redrawSelection()},
0);return{numToShow:c,allLiElem:d}}function t(a,b){var c=b||{};a.children("ul");var c=c.initAttr||eval("("+a.attr("galleryOptionsParams")+")"),d=f.getNumberOfColumns(a,c),e,g;u.find(".caption-inner");e=c.thumbnailsPerRow*c.rowsToShow;w=a.find("li:not(.galleryContainer)");w.hide();isDudaone&&(e=d*c.rowsToShow*f.getNumberOfImagesPerColumn(a),g=0===e||"false"===q.attr("isall"),n?u.find("li:lt("+e+")").show():$.each(w,function(a,b){($(b).attr("index")<e||g)&&$(b).show()}))}var u=a,n,k,m,w=a.find("li:not(.galleryContainer)"),
q=a.find(".photoGalleryViewAll, .photogalleryviewall");if(window.editorParent.$&&window.editorParent.$.dmx)window.editorParent.$.dmx.events.on("previewMobileOrientationRotated",function(){$.dmrt.components.photogallery.initPhotoGalleryImpl(a)},!0,{scope:"page"});u.attr("data-link-gallery")||u.attr("data-link-gallery","false");n="dm_fb_gallery"==u.attr("dmle_extension");k=u.attr("galleryOptionsParams");k=eval("("+k+")");k=$.extend({},{enableMouseWheel:!1,enableKeyboard:!1},k);k.imageScaleMethod="fitNoUpscale";
k.allowUserZoom=!1;k.backButtonHideEnabled=!1;isDudaone&&(k.thumbnailsPerRow=f.getNumberOfColumns(u,k));if(0<w.length){e(a);0===a.find(".galleryColumn").length&&isDudaone&&!n&&($.dmrt.components.photogallery["default"].breakColumns(a),$.dmrt.components.photogallery["default"].splitToColumns(a));m=k.thumbnailsPerRow*f.getNumberOfImagesPerColumn(a)*k.rowsToShow;isDudaone&&k.thumbnailsPerRow?t(a,{initAttr:k}):(w.hide(),w.filter(":lt("+m+")").show());w.length>m?(q.addClass("photoGalleryViewAll").show(),
q.off("click.showAll").on("click.showAll",l)):q.hide();if(window.editorParent.$&&window.editorParent.$.dmops)try{window.editorParent.$.dmops.redrawSelection()}catch(z){}isDudaone||p(u,k);m=-1!==window.location.href.indexOf("nee\x3d");if((!m||isDudaone)&&!n)$.dmrt.components.photogallery["default"].initDudaonePhotogallery(u);else if(n){var B=$(u).find(".dmSocialGalleryHolder"),C=B.parent(".dmFacebookGallery"),v=C.find(".photoGalleryViewAll");q.off("click.showAll").on("click.showAll",l);u.find(".gallery a").off("click.fbAlbum").on("click.fbAlbum",
function(e){var f,m,n;e.preventDefault();c()?isDudaone&&window.editorParent.$&&window.editorParent.$.onefw&&!window.editorParent.$.onefw.inPreviewMode&&$dmfw().fireEventFromPreview(event,event.target):(f=$(this).find("img").attr("id"),m=C.find("h3.socialgalleryheader"),n=$(this).find("p.caption").html(),$.ajax({url:"/_dm/s/rt/api/public/rt/getonlinephotos?id\x3d"+f+"\x26platform\x3dfb"}).done(function(c){function f(){$(this).centerImageWithin($(".photoGalleryThumbs").eq(0),{stretch:!0})}var q=$(u);
q.attr("inside-album",!0);q.data("albumDisplay",B.html());q.data("title",m.html());B.html("");m.html(n);$(c.photos).each(function(a){a=c.photos[a];var b=$("\x3cimg /\x3e").attr({src:a.source,alt:a.caption}).get(0),e=$('\x3cdiv class\x3d"statusContainer" /\x3e'),l;l=a.likes.toString();var k=l.length,m=l[0],n=l[1];3<k&&(l=7>k?4===k?m+"."+n+"k":m+""+n+"k":7===k?m+"."+n+"m":m+""+n+"m");l=$('\x3cspan class\x3d"likes" /\x3e').html(l);k=$('\x3ca class\x3d"thumb" /\x3e').attr({href:g(a.source),dm_dont_rewrite_url:"true"});
m=$('\x3cli class\x3d"photoGalleryThumbs" /\x3e');$(l).appendTo(e);k.css("background-image","url('"+d(a.source)+"')").append(b,e);m.append(k).appendTo(B);b.onload=f});$.dmrt.components.photogallery["default"].initDudaonePhotogallery(B.parent());p(u,k);q=$("\x3ca /\x3e").attr({"class":"backBtn"}).html("back to albums");1>$(u).find("a.backBtn").length&&$(u).append(q);q.off("click.backButton").on("click.backButton",function(c){$(this).remove();u.attr("inside-album",!1);m.html($(u).data("title"));var d=
$(u).data("albumDisplay");B.html(d);$.dmrt.components.photogallery.initPhotoGalleryImpl(a);p(u,k);l(c,{gallery:u,viewAll:v,dontToggle:!0})});l(e,{gallery:u,viewAll:v,dontToggle:!0})}))})}}},refreshPhotoGalleriesSize:function(a){for(var c=0;c<a.length;c++){var d=a.eq(c),l=d.find("ul.galleryColumn"),p=l.length,t=Math.floor(d.width()/p),u=d.find("li.photoGalleryThumbs"),n=f.getCurrentLayout(d);l.css({maxWidth:t+"px"});$.each(u,function(a,b){var c=f.getCurrentColumnIndex(a,p,n),d=l[c];f.calculateImageDimension(n,
$(b),$(d),c,1*$(b).attr("index"),p);"asymetric"===n&&(c=$(b),ratio=c.attr("data-ratio"),c.find("a").css({height:Math.ceil(c.parent().width()*ratio)-2}))});g(d)}}},c=function(){var a=window.editorParent&&window.editorParent.$&&window.editorParent.$.dmfw,c=!(window.editorParent.$&&window.editorParent.$.onefw)&&$("body").hasClass("bodyInsideNee"),d=window.editorParent.$&&window.editorParent.$.onefw&&!window.editorParent.$.onefw.inPreviewMode;return!!a&&(c||d)};$.fn.naturalSize=function(){if(this){var a=
$(this);if(a.is("img")){if(void 0===a.prop("naturalWidth")||null===a.prop("naturalWidth")){var c=$("\x3cimg/\x3e").attr("src",a.attr("src"));a.prop("naturalWidth",c[0].width);a.prop("naturalHeight",c[0].height)}return{width:a.prop("naturalWidth"),height:a.prop("naturalHeight")}}}return{}};$.fn.centerImageWithin=function(a,c){c=c||{};var d=$(this),f=$(a);if(d.is("img")&&0<f.length){d.attr("dm","true");var f=d.naturalSize(),g=f.height,t=f.width;if(!g||!t||0===g*t){var u=d.attr("dm_crop_dim"),f=!1;u&&
(u=u.split("_"))&&4===u.length&&(f=!0);f||(d.attr("irh"),d.attr("irw"));return!1}var f=c.forceContainerHeight||a.height(),u=c.forceContainerWidth||a.width(),n=!c.stretch&&t<=u&&g<=f;d.css("height","");d.css("left","");d.css("width","");d.css("top","");d.css("max-width","none");n?(f=Math.ceil(g)-f,d.css("top",""+(0-f/2)+"px")):(n=u/t*g,g=f/g*t,t=n>=f,c.stretch&&t||!c.stretch&&!t?(d.dmCss("width",u+"px !important"),d.dmCss("max-width",u+"px !important"),d.dmCss("min-width",u+"px !important"),d.dmCss("height",
Math.ceil(n)+"px !important"),f=Math.ceil(n)-f,d.css("top",""+(0-f/2)+"px")):(d.dmCss("height",f+"px !important"),d.dmCss("width",Math.ceil(g)+"px !important"),d.dmCss("max-width",Math.ceil(g)+"px !important"),d.dmCss("min-width",Math.ceil(g)+"px !important"),f=Math.ceil(g)-u,c.stretch&&d.css("left",""+(0-f/2)+"px")));return!0}};$.dmrt.register("photogallery",f)})($);(function(a,g){var d={},f,c={runAt:"start","default":{ready:function(a){isDudaone&&_currentPage&&_currentPage.pageContent&&_currentPage.pageContent.popups&&_currentPage.pageContent.popups.forEach(function(a){c.addPopup(a)})},load:function(b){g.popups&&g.popups.forEach(function(a){c.addPopup(a)});f=a("\x3cdiv\x3e\x3c/div\x3e");dmAPI.runBeforeAjaxNavigation("popup",function(){a.DM.hideAllPopups()})}},addPopup:function(a){d[a.name]=a},updatePopupSettings:function(b,c){var f=d[b];f&&a.extend(f.options,
c)},displayPopup:function(b,e){var h=d[b];if(h){e=e||{};f.clone();var l={animation:h.options.animation?h.options.animation:"none",onClose:e.onClose,dontOverlay:!0};g.showOverlay({overlayColor:h.options.overlayColor});a.ajax({contentType:"application/json; charset\x3dUTF-8",dataType:"json",url:h.url+(h.url.contains("?")?"\x26":"?")+"dm_ajaxCall\x3dtrue",timeout:3E4,success:function(b){if(b&&b.content){var d=a('\x3cstyle type\x3d"text/css"\x3e\x3c/style\x3e');b.css=b.css||"";b.devicecss=b.devicecss||
"";b.customwidgetcss=b.customwidgetcss||"";d.append(b.css);d.append(b.devicecss);d.append(b.customwidgetcss);var e=a(b.content).find(".dmRespRowsWrapper"),f=a(b.content).find(".dmContent");l.hasOverlay=f.is(".hasBackgroundOverlay");f=f.attr("data-video-bg");l.videoBg=f;e.append(d);g.dmShowPopupPage(e,"dmPopupInner u_dm_content",h.options.width,h.options.height,l);Parameters.AllowAjax?a.DM.initAjaxLinks():a.DM.initNonAjaxPopups();g.setCustomWidgetScripts(b.customwidgetjs);a.DM.afterAjaxGeneralInits();
b.popups&&b.popups.forEach(function(a){c.addPopup(a)});null!=g._gaq&&dm_gaq_push_event("popup","show_popup",h.url)}else g.dmHidePopup()},error:function(){g.dmHidePopup()}})}},mobile:{},tablet:{},desktop:{}};a.dmrt.register("popupService",c)})(jQuery,window);(function(a){function g(){B||(B=(window.pushService?a.resolved:a.DM.loadExternalScriptAsync("/_dm/s/rt/scripts/utils/push_notifs/app/public/dist/index.js")).then(function(){return C}));return B.then(function(a){return pushService.init({sslFrameDomain:m(w),sslPublicPath:m(q),runtimeSiteAlias:Parameters.SiteAlias,runtimeSiteId:Parameters.SiteId,initialPushSupport:a,initialHandlers:{stateChanged:f,addSubscription:n,removeSubscription:k}})})}function d(a){g().then(function(){pushService.setAsTriggerElement(a)})}
function f(a){var b={enabled:e,disabled:h,blocked:l,unsupported:p};b[a]&&b[a]()}function c(b){a("[data-push-notifs]").each(function(){b.call(this,a(this))})}function b(a){t(a,!0);a.closest(".dmRespCol").show();a.siblings(".push-notifs-related").show();a.removeClass("disabledBtn")}function e(){c(function(a){b(a);a.find(".text").text(a.attr("data-text-to-disable")||"Unsubscribe from Notifications")})}function h(){c(function(a){b(a);a.find(".text").text(a.attr("data-text"))})}function l(){c(function(a){b(a);
a.addClass("disabledBtn")})}function p(){c(function(a){var b=a.attr("data-hide-when-unsupported")||"button";"button"===b?(t(a,!1),a.siblings(".push-notifs-related").hide()):"column"===b?a.closest(".dmRespCol").hide():"disable"===b&&a.addClass("disabledBtn")})}function t(a,b){if(b)null!=a.attr("style-before-hide")&&(a.attr("style",a.attr("style-before-hide")||""),a.removeAttr("style-before-hide"));else if(null==a.attr("style-before-hide")){var c=a.attr("style")||"";a.attr("style-before-hide",c||"");
a.attr("style",c+";display:none!important;")}}function u(){var b=a.layoutDevice?a.layoutDevice.type:"mobile",c={desktop:0,tablet:1,mobile:2};return void 0==c[b]?2:c[b]}function n(b){a.ajax({url:m(z.ADD_SUBSCRIPTION,{endpoint:decodeURIComponent(b.endpoint),deviceID:u()}),type:"POST"})}function k(b){a.ajax({url:m(z.DELETE_SUBSCRIPTION,{endpoint:decodeURIComponent(b.endpoint)}),type:"DELETE"})}function m(a,b){b=b||{};b.siteAlias=Parameters.SiteAlias;b.subdomain=Parameters.NotificationSubDomain;Object.keys(b).forEach(function(c){a=
a.replace("{"+c+"}",b[c])});return a}var w=Base64.decode(rtCommonProps["rt.pushnotifs.sslframe.encoded"]),q=w+"/_dm/s/rt/scripts/utils/push_notifs/app/public",z={ADD_SUBSCRIPTION:"/_dm/s/rt/api/public/rt/site/{siteAlias}/notifications/subscriptions?subEp\x3d{endpoint}\x26subDomain\x3d{subdomain}\x26deviceID\x3d{deviceID}",DELETE_SUBSCRIPTION:"/_dm/s/rt/api/public/rt/site/{siteAlias}/notifications/subscriptions?subEp\x3d{endpoint}"},B=null,C=function(b){var c=a.Deferred();try{navigator.permissions.query({name:"push",
userVisibleOnly:!0}).then(function(a){c.resolve(b||"denied"!==a.state)})}catch(d){c.resolve(!1)}return c.promise()}(rtCommonProps["rt.pushnotifs.force.button"]);a.extend(a.modules,{pushnotifs:{}});a.dmrt.register("pushnotifs",{"default":{ready:function(b,c){b||(Parameters.HasCustomDomain?(p(),a("[data-push-notifs]").each(function(){d(this)})):a("[data-push-notifs], .push-notifs-related").remove())},load:function(a,b){}},mobile:{},tablet:{},desktop:{},initButton:d})})(jQuery);(function(a){$.dmrt.register("restmenu",{"default":{ready:function(a){},load:function(a){}},mobile:{ready:function(){var g,d,f,c;if(isDudaone&&(g=a(document.querySelectorAll(".dmRestaurantMenu .menuCategory")),d=function(a){a=$(a.currentTarget);a.find(".menuItemsWrapper").toggleClass("hidden");a.find(".menuItemDesc").toggleClass("hidden");a=a.find(".menuCatArrow");a.hasClass("icon-chevron-up")?a.removeClass("icon-chevron-up").addClass("icon-chevron-down"):a.removeClass("icon-chevron-down").addClass("icon-chevron-up")},
0<g.length))for(f=0;f<g.length;f++)c=$(g[f]),0!==c.find(".menuItemsWrapper").length&&(c.off("click.toggleMenuItem").on("click.toggleMenuItem",d),0!==f&&c.trigger("click"))}},tablet:{},desktop:{ready:function(){$(".dmRestaurantMenuDesktopLeftSideList li").each(function(a){$(this).off("click.goto").on("click.goto",function(a){return function(){var f=$(".dmRestaurantMenuDesktopRightSide li.menuCategory").eq(a);$.DM.scrollPreviewToElement(f)}}(a))})}}})})($);(function(a){var g=function(a,c,b,d){b=b||600;d=d||560;if(a)return window.open(a,c,"toolbar\x3dno, location\x3dno, directories\x3dno, status\x3dno, menubar\x3dno, scrollbars\x3dno, resizable\x3dno, copyhistory\x3dno, width\x3d"+b+", height\x3d"+d+", top\x3d"+(screen.height/2-d/2)+", left\x3d"+(screen.width/2-b/2))},d=function(d){var c=window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&window.editorParent.jQuery.onefw.inPreviewMode;return!(window.editorParent&&window.editorParent.jQuery&&
window.editorParent.jQuery.dmfw)||window.editorParent.jQuery.onefw&&window.editorParent.jQuery.onefw.inPreviewMode?c?(c={relativeDirection:"top",tipsContainer:window.editorParent.$?window.editorParent.$("#_preview_w"):void 0,bodyText:"You can't use the widget to share a site from Preview mode.",title:"Share"},window.editorParent.$&&window.editorParent.$.dmpages&&window.editorParent.$.dmpages.showOuterLinkPrompt(null,"_blank",a(d.target),c),!1):!0:!1};a.dmrt.register("shareModule",{"default":{ready:function(a){},
load:function(a){}},mobile:{},tablet:{ready:function(f){a(".dmOuter").off("click.showSharePopup",".shareLink").on("click.showSharePopup",".shareLink",function(c){d(c)&&(c=a(this),g(c.data("href")))})}},desktop:{ready:function(f){a(".dmOuter").off("click.showSharePopup",".shareLink").on("click.showSharePopup",".shareLink",function(c){d(c)&&(c=a(this),g(c.data("href")))})}}})})(jQuery);(function(a){function g(){var b=a("body").find(".xProductBrowser");if(b.length&&!window.productBrowserInitialized){window.productBrowserInitialized=!0;var d=b.eq(0).data();xProductBrowser("categoriesPerRow\x3d"+d.catPerRow,"views\x3d"+d.views,"categoryView\x3d"+d.categoryView,"searchView\x3d"+d.searchView,"id\x3d"+b.attr("id"))}b=a("\x3cdiv class\x3d'dmWidget' style\x3d'display: none;'\x3e\x3cspan class\x3d'text'\x3etest\x3c/span\x3e\x3c/div\x3e");b.prependTo(".dmInner");var d=b.css("background-color"),
f=b.find(".text").css("color"),f="rgba(0, 0, 0, 0)"==f?b.css("color"):f,g=b.css("border-color"),t=b.css("border-style"),u=b.css("border-width");b.remove();window.setEcwidStyle||(document.styleSheets[0].insertRule("#dm .ecwid .ecwid-btn--primary:not(:hover), #dmRoot .ecwid .ecwid-btn--primary:not(:hover) { background-color: "+d+"; color: "+f+" ; border-color: "+g+"; border-style: "+t+"; border-width: "+u+";}",0),document.styleSheets[0].insertRule("#dm .ecwid div button.ecwid-btn--primary.ecwid-btn:after { color: "+
f+"}",0),window.setEcwidStyle=!0);b=a("\x3cdiv\x3e\x3cbutton class\x3d'ecwid ecwid-btn--secondary' style\x3d'display: none;'\x3e\x3c/button\x3e\x3c/div\x3e");b.prependTo(".dmInner");d="black";d="rgb(255, 255, 255)"==a(".ecwid.ecwid-btn--secondary",b).css("background-color")?"black":"white";b.remove();document.styleSheets[0].insertRule("#dm .ecwid .ecwid-btn--secondary:hover, #dm .ecwid .ecwid-btn--secondary { color: "+d+";}",0);c()}function d(b,c){var d=window.location.href,f=a.DM.getCurrentPageUrl(),
g="",u=function(b,e){if("null"!==b){"header"===b&&(b=f);-1<d.indexOf("#!")&&(d=d.substr(0,window.location.href.indexOf("#!")));if(b&&b!=f){var g=Parameters.translatedPageUrl||f;g.startsWith("/")&&(g=g.substring(1));var u=Parameters.SiteAlias;-1<d.indexOf(g)?d=d.replace("/"+g,"/"+b):-1<d.indexOf(u)?d=d.replace(u,u+"/"+b):(g=window.location.host,d=d.replace(g,g+"/"+b))}if(-1<e.indexOf("#!"))a.DM.ajaxNavigateToLink(d+e);else{var g=d.split("?"),u=g[0].split("/"+b+"/"),q="",q=1<u.length?u[0]+"/"+b+e:g[0]+
e;1<g.length?(q+="?"+g[1],c&&(q+="\x26"+c)):c&&(q+="?"+c);a.DM.ajaxNavigateToLink(q)}}};window.editorParent.$&&window.editorParent.$.dmx?u(window.editorParent.$.dmx.siteStore.storePageAlias,b):(g=Parameters.StorePath.substring(1),u(g,b))}function f(){(function(){"object"==typeof Ecwid&&(window.productBrowserInitialized=!1,a(".dmStoreCart").find(".cartItems").css("visibility","hidden"),Ecwid.OnAPILoaded.add(function(){b();Ecwid.Cart.get(function(b){a(".dmStoreCart").find(".cartItems").text(b.productsQuantity).css("visibility",
"visible")});var c=a("body"),d=function(b){var c=a(".dmStoreCategories.storeCategoriesMenu"),d=a(".dmStoreCategories select");c.length&&(a("div.storeCategory").removeClass("opened"),a("div.storeCategoryName").removeClass("selected"),a(".storeCategoryName[data-categoryid\x3d"+b+"]").addClass("selected").parents(".storeCategory").addClass("opened"));d.length&&d.val(b);c=a("a.dmStoreCategory");b="categoryId-"+b;if(c.length)for(d=0;d<c.length;d++){var e=a(c[d]);e.removeClass("currentPage");e.closest("li").removeClass("dmNavItemSelected");
e.hasClass(b)&&(e.addClass("currentPage"),e.closest("li").addClass("dmNavItemSelected"))}};a.DM.initStoreBrowser();Ecwid.OnPageLoaded.add(function(b){var c=b.type,e=b.categoryId;a.DM.updateWidth();b.entryPage||a.DM.scrollToAnchor(a(".dmStore"),{forceScroll:!0,additionalOffset:10,noAnimation:!0});"CHECKOUT_PAYMENT_DETAILS"===c&&(a(".ecwid-Checkout-EmailBlock .ecwid-Checkout-blockTitle").eq(0).show(),a(".ecwid-Checkout-EmailBlock .gwt-TextBox").attr("autocomplete","off"),a(".ecwid-AccentedContinueButton .ecwid-AccentedButton").off("mouseenter").on("mouseenter",
function(){a(".ecwid-Checkout-PasswordBlock .gwt-PasswordTextBox").val("")}),0<a(".ecwid-productBrowser-auth-signOutLink").length&&a(".ecwid-Checkout-PasswordBlock").attr("style",a(".ecwid-Checkout-PasswordBlock").attr("style")+";display:none !important"));d(e)});Ecwid.OnCartChanged.add(function(b){a(".dmStoreCart").find(".cartItems").text(b.productsQuantity).css("visibility","visible")});(function(){var b=function(b,c){b.preventDefault();Parameters.StoreCleanUrl?a.DM.navigateToStorePage("/search",
"keywords\x3d"+c):a.DM.navigateToStorePage("#!/~/search/keywords\x3d"+c+"\x26offset\x3d0")};c.off("keypress.storeSearch").on("keypress.storeSearch",".dmStoreSearchInput",function(c){13==c.keyCode&&b(c,a(this).val())});c.off("click.storeSearch").on("click.storeSearch",".dmStoreSearchClickOverlay",function(c){b(c,a(this).parent().find(".dmStoreSearchInput").val())})})();(function(){c.off("click.storeCart").on("click.storeCart",".dmStoreCart",function(b){Parameters.StoreCleanUrl?a.DM.navigateToStorePage("/cart"):
a.DM.navigateToStorePage("#!/~/cart")})})();(function(){c.off("click.storeCategory").on("click.storeCategory",".dmStoreCategories .storeCategoryName",function(b){b=a(this).data("categoryid");var c=a(this).data("categoryname");Parameters.StoreCleanUrl?a.DM.navigateToStorePage("/"+c+"-c"+b):a.DM.navigateToStorePage("#!/~/category/id\x3d"+b+"\x26offset\x3d0")});c.off("change.storeCategorySelect").on("change.storeCategorySelect",".dmStoreCategories .storeCategoriesSelect",function(b){b=a(this).val();
Parameters.StoreCleanUrl?a.DM.navigateToStorePage("/-c"+b):a.DM.navigateToStorePage("#!/~/category/id\x3d"+b+"\x26offset\x3d0")})})()}))})()}function c(){a(document).off("click","table.ecwid-AccentedContinueButton").on("click","table.ecwid-AccentedContinueButton",function(){window.scrollTo(500,0)})}function b(){window.storeTrackingInitialized||(window.storeTrackingInitialized=!0,Ecwid.OnPageLoaded.add(function(a){if(!a.entryPage)try{var b=window.location.pathname+window.location.hash.replace("#",
"/");dm_gaq_push_url&&dm_gaq_push_url(b);switch(a.type){case "ORDER_CONFIRMATION":dm_gaq_push_event&&dm_gaq_push_event("StoreOrder","StoreOrder",a.orderNumber)}}catch(c){console.log("failed to track store page")}}))}a.DM.initStore=a.DM.initStore||f;a.DM.initStoreBrowser=a.DM.initStoreBrowser||g;a.DM.navigateToStorePage=a.DM.navigateToStorePage||d;a.dmrt.register("store",{"default":{ready:function(a){f()},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a,g){function d(){a(".show-more").on("click",function(){var c=a(this),b=c.closest(".review"),d=c.text().toUpperCase(),f=b.find(".revewTextWrapper"),b=b.find(".reviewText").height()+30+10;"...MORE"===d?(d="Show less",f.css({height:b})):(d="...more",f.css({height:"0"}));c.text(d)})}function f(c){(c=c&&"none"===parent.$("iframe.active").css("display"))&&parent.$("iframe.active").css("display","");a(".review").each(function(b,c){var d=a(c).find(".reviewText").outerHeight(),f=a(c).find(".revewTextWrapper").height();
d>f?a(c).addClass("hideContent"):(d=a(c).closest(".review").find(".reviewText").height()+30,a(c).find(".content").css("min-height",d))});c&&parent.$("iframe.active").css("display","none")}a.extend(a.modules,{basemodule:{}});a.dmrt.register("trueLocal",{"default":{ready:function(a,b){d();f(a)},load:function(a,b){}},mobile:{},tablet:{},desktop:{}})})(jQuery,window);(function(a){function g(f){a(document).ready(function(){setTimeout(function(){f=f||{};var c=jQuery(".dmTwitterFeed:visible:in-viewport"),b=jQuery(".dmTwitterFeed:visible");0<c.size()&&d(f,c);b.length>c.length&&(c=a(window),a.DM.isBodyScrollable()||(c=jQuery.layoutManager.getLayoutElement().iscrollBody.element),c.off("scroll.init touchstart.init").on("scroll.init touchstart.init",function(b){a(this).off(b);b=jQuery(".dmTwitterFeed:visible");d(f,b)}))},600)})}function d(d,c){d=d||{};0<c.length&&a.DM.loadExternalScriptAsync("https://platform.twitter.com/widgets.js",
function(){function b(){""==a(".twitter-timeline-rendered").contents().find("body").html()?setTimeout(function(){b()},100):(setTimeout(function(){a.DM.updateAfterInit()},1500),a.layoutManager&&a.layoutManager.isNee()&&window.editorParent.jQuery&&window.editorParent.jQuery.dmops&&setTimeout(function(){window.editorParent.jQuery.dmops.redrawSelection()},1E3))}for(var e=0;e<c.length;e++){var g=a(c[e]),l=g.attr("twitterType"),p=g.attr("twitterUserName"),t=g.attr("numberOfTweets");g.hasClass("dmTwitterNoScroll");
var u="true"===g.attr("hideHeaderFooter")?'data-chrome\x3d"nofooter noheader"':"",n=g.attr("lang")?g.attr("lang"):"EN";"Profile"==l?g.html('\x3ca class\x3d"twitter-timeline" '+u+' lang\x3d"'+n+'" data-tweet-limit\x3d"'+t+'" data-screen-name\x3d"'+p+'" href\x3d"https://twitter.com/'+p+'" data-widget-id\x3d"346156976859906048"\x3e\x3c/a\x3e'):"ProfileReplies"==l?g.html('\x3ca class\x3d"twitter-timeline" '+u+' lang\x3d"'+n+'" data-tweet-limit\x3d"'+t+'" data-show-replies\x3d"true" data-screen-name\x3d"'+
p+'" href\x3d"https://twitter.com/'+p+'" data-widget-id\x3d"346156976859906048"\x3e\x3c/a\x3e'):"Search"!=l&&g.html('\x3ca class\x3d"twitter-timeline" '+u+' data-tweet-limit\x3d"'+t+'" data-favorites-screen-name\x3d"'+p+'" href\x3d"https://twitter.com/'+p+'/favorites" data-widget-id\x3d"346156976859906048"\x3e\x3c/a\x3e')}twttr.widgets.load();parent.window.$.dmfw&&parent.window.$.dmfw.newInlineEditing&&twttr.events.bind("loaded",function(b){var c;a(b.widgets).each(function(b,d){c=a(d).parents(".dmTwitterFeedWrapper");
if(c.length)return a.editGrid.addWidgetToGrid(c.get(0),!0),!1})});d&&d.callback&&d.callback();b();navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/iEMobile/i)||a(".dmTwitterFeed").each(function(b){var c=a(this),d=c.find("iframe");b=a("\x3cdiv\x3e\x3c/div\x3e").addClass("dmTwitterRuntimeWrapper");c.append(b);b.off("click.iframe").on("click.iframe",function(a){d=c.parent().find("iframe");var b=d.get(0),b=b.contentDocument?b.contentDocument:b.contentWindow.document;a=b.elementFromPoint(a.offsetX,
a.offsetY);b=b.createEvent("HTMLEvents");b.initEvent("click",!0,!0);a&&a.dispatchEvent&&a.dispatchEvent(b)})})},!0)}a.DM.initTwitterFeed=a.DM.initTwitterFeed||g;a.DM.initTwitterFeedInternal=a.DM.initTwitterFeedInternal||d;a.dmrt.register("twitterfeed",{"default":{ready:function(a){g({})},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);(function(a){function g(c){var d=c.attr("data-video-bg");c.children(".videobgwrapper").remove();c.removeClass("relativePos");var e="videobgframe-"+c.attr("id");delete p[e];try{var g=JSON.parse(f(d)),h=g.id;if(h){var l=a("\x3cdiv class\x3d'videobgwrapper'\x3e\x3cdiv id\x3d'"+e+"' class\x3d'videobgframe'\x3e\x3c/div\x3e\x3c/div\x3e"),z=t[g.provider];z&&(c.prepend(l),b(c,g.opacity||1),l.attr("data-ratio",g.ratio||""),c.addClass("relativePos"),z.init(e,h,l))}}catch(B){}}function d(){visibly.onVisible(function(){a.each(p,
function(a,b){try{t[b.type].resume(b.obj)}catch(c){}})});visibly.onHidden(function(){a.each(p,function(a,b){try{t[b.type].pause(b.obj)}catch(c){}})})}function f(a){return"undefined"===typeof atob?Base64.decode(a):atob(a)}function c(b,c){c=c||1*b.attr("data-ratio")||.5625;var d=b.find(".videobgframe");d.css("min-height",c*b.outerWidth()+"px");d.css("min-width",1/c*b.outerHeight()+"px");a.browser.msie&&9>a.browser.version&&(d.css("margin-top","-"+1*d.outerHeight()/2+"px"),d.css("margin-left","-"+1*
d.outerWidth()/2+"px"))}function b(a,b){b=1*(b||1);1<b&&(b/=100);a.children(".videobgwrapper").css("opacity",b)}function e(a,b){b?a.css("left","0px"):a.css("left","-10000px")}var h=a.Deferred(),l={"default":{ready:function(a){},load:function(a){}},mobile:{},tablet:{},desktop:{ready:function(b){isDudaone&&(p={},a("[data-video-bg]").each(function(){g(a(this))}),a(window).off("resize.yt").on("resize.yt",function(){a(".videobgwrapper").each(function(){c(a(this))})}),d())}},refreshVideoBg:g,setOpacity:b},
p={},t={youtube:{init:function(b,d,f){window.onYouTubeIframeAPIReady=function(){h.resolve()};a.DM.loadExternalScriptAsync("https://www.youtube.com/iframe_api");e(f,!1);h.then(function(){new YT.Player(b,{videoId:d,playerVars:{modestbranding:1,autoplay:1,controls:0,wmode:"transparent",hd:1,rel:0,autohide:1,showinfo:0,origin:window.location.origin,loop:1,playlist:d},events:{onReady:function(a){a.target.mute();c(f);p[b]={obj:a,type:"youtube"}},onStateChange:function(a){a.data==YT.PlayerState.PLAYING&&
e(f,!0)}}})})},pause:function(a){a.target.pauseVideo()},resume:function(a){a.target.playVideo()}},vimeo:{init:function(b,d,e){var f=a("\x3ciframe class\x3d'videobgframe' frameborder\x3d'0' seamless webkitallowfullscreen mozallowfullscreen allowfullscreen\x3e\x3c/iframe\x3e");f.attr("src","https://player.vimeo.com/video/"+d+"?api\x3d1\x26autoplay\x3d1\x26loop\x3d1\x26title\x3d0\x26byline\x3d0\x26player_id\x3d"+b);f.attr("id",b);e.find("#"+b).replaceWith(f);var g=$f(f[0]);g.addEvent("ready",function(){g.api("setVolume",
0);c(e);p[b]={obj:g,type:"vimeo"}})},pause:function(a){a.api("pause")},resume:function(a){a.api("play")}}};(function(){function a(b){return new a.fn.init(b)}function b(a,c,d){if(!d.contentWindow.postMessage)return!1;a=JSON.stringify({method:a,value:c});d.contentWindow.postMessage(a,g)}function c(a){var b,d;try{b=JSON.parse(a.data),d=b.event||b.method}catch(h){}if(!b)return!1;"ready"!=d||f||(f=!0);if(!/^https?:\/\/player.vimeo.com/.test(a.origin))return!1;"*"===g&&(g=a.origin);a=b.value;var l=b.data,
k=""===k?null:b.player_id;b=k?e[k][d]:e[d];d=[];void 0!==a&&d.push(a);l&&d.push(l);k&&d.push(k);return 0<d.length?b.apply(null,d):b&&b.call()}function d(a,b,c){c?(e[c]||(e[c]={}),e[c][a]=b):e[a]=b}var e={},f=!1,g="*";a.fn=a.prototype={element:null,init:function(a){"string"===typeof a&&(a=document.getElementById(a));this.element=a;return this},api:function(a,c){if(!this.element||!a)return!1;var e=this.element,f=""!==e.id?e.id:null,g=c&&c.constructor&&c.call&&c.apply?null:c,h=c&&c.constructor&&c.call&&
c.apply?c:null;h&&d(a,h,f);b(a,g,e);return this},addEvent:function(a,c){if(!this.element)return!1;var e=this.element,g=""!==e.id?e.id:null;d(a,c,g);"ready"!=a?b("addEventListener",a,e):"ready"==a&&f&&c.call(null,g);return this},removeEvent:function(a){if(!this.element)return!1;var c=this.element,d=""!==c.id?c.id:null;a:{if(d&&e[d]){if(!e[d][a]){d=!1;break a}e[d][a]=null}else{if(!e[a]){d=!1;break a}e[a]=null}d=!0}"ready"!=a&&d&&b("removeEventListener",a,c)}};a.fn.init.prototype=a.fn;window.addEventListener?
window.addEventListener("message",c,!1):window.attachEvent("onmessage",c);return window.Froogaloop=window.$f=a})();a.dmrt.register("videobg",l)})(jQuery);(function(a){a.fn.makeParallax=function(){if(!a.DM.isIOS()){var g=a(this);a.each(g,function(d,f){a(f).attr({"data-center":"background-position: 50% 0px;","data-top-bottom":"background-position: 50% -100px;","data-bottom-top":"background-position: 50% 100px;"})});window.Skrollr?(window.Skrollr.refresh(),a.layoutManager._isEditorMode&&"undefined"!=typeof window.parent.window.DF&&window.parent.window.DF.parallaxPromise.resolve()):a.DM.loadExternalScriptAsync("/editor/lib/bower-skrollr/skrollr.min.js",
function(){try{window.Skrollr=skrollr.init({forceHeight:!1})}catch(d){console.log(d)}a.layoutManager._isEditorMode&&"undefined"!=typeof window.parent.window.DF&&window.parent.window.DF.parallaxPromise.resolve()});return g}};a.fn.makeNoParallax=function(){var g=a(this);a.each(g,function(d,f){a(f).removeAttr("data-center").removeAttr("data-top-bottom").removeAttr("data-bottom-top").removeClass("skrollable skrollable-between")});window.Skrollr.refresh(a(this));a(this).removeAttr("style");return g};a.extend({iOSVersion:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var a=
navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]}return"not Iphone"}});a.extend({triggerInIframe:{orientationChange:function(){a(window).trigger("orientationchange")}}})})(jQuery);(function(a){a.extend({getCookie:function(a){for(var d=document.cookie.split(";"),f="",c="",b="",e=0;e<d.length;e++)if(f=d[e].split("\x3d"),c=f[0].replace(/^\s+|\s+$/g,""),c==a)return 1<f.length&&(b=unescape(f[1].replace(/^\s+|\s+$/g,""))),b;return null},setCookie:function(a,d,f,c,b){var e=new Date;e.setTime(e.getTime());f&&(f*=36E5);e=new Date(e.getTime()+f);document.cookie=a+"\x3d"+escape(d)+(f?";expires\x3d"+e.toGMTString():"")+(c?";path\x3d"+c:"")+(b?";secure":"")},dmCookies:{prefixKey:function(a){return"_dm_"+
(a||"")},set:function(g,d){a.dmCookies.setWithPath("/",g,d)},get:function(g){return a.getCookie(a.dmCookies.prefixKey(g))},clear:function(g){a.setCookie(a.dmCookies.prefixKey(g),null)},setWithPath:function(g,d,f){a.setCookie(a.dmCookies.prefixKey(d),f,void 0,g)}}})})(jQuery);!function(a,g){"function"==typeof define&&define.amd?define(g):"object"==typeof exports?module.exports=g():a.PhotoSwipe=g()}(this,function(){return function(a,g,d,f){var c={features:null,bind:function(a,b,c,d){d=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var e=0;e<b.length;e++)b[e]&&a[d](b[e],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==
a?a:document.documentElement.scrollTop},unbind:function(a,b,d){c.bind(a,b,d,!0)},removeClass:function(a,b){a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){c.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},getChildByClass:function(a,b){for(var d=a.firstChild;d;){if(c.hasClass(d,b))return d;d=d.nextSibling}},
arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)!b.hasOwnProperty(d)||c&&a.hasOwnProperty(d)||(a[d]=b[d])},easing:{sine:{out:function(a){return Math.sin(Math.PI/2*a)},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(c.features)return c.features;var a=c.createEl().style,b="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in
window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){b=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);e&&0<e.length&&(e=parseInt(e[1],10),1<=e&&8>e&&(d.isOldIOSPhone=!0))}e=(e=b.match(/Android\s([0-9\.]*)/))?e[1]:0;e=parseFloat(e);1<=e&&(4.4>e&&(d.isOldAndroid=!0),d.androidVersion=e);d.isMobileOpera=
/opera mini|opera mobi/i.test(b)}for(var f,g=["transform","perspective","animationName"],h=["","webkit","Moz","ms","O"],k=0;4>k;k++){for(var b=h[k],l=0;3>l;l++)e=g[l],f=b+(b?e.charAt(0).toUpperCase()+e.slice(1):e),!d[e]&&f in a&&(d[e]=f);b&&!d.raf&&(b=b.toLowerCase(),d.raf=window[b+"RequestAnimationFrame"],d.raf&&(d.caf=window[b+"CancelAnimationFrame"]||window[b+"CancelRequestAnimationFrame"]))}if(!d.raf){var m=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-m)),d=window.setTimeout(function(){a(b+
c)},c);return m=b+c,d};d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,c.features=d,d}};c.detectFeatures();c.features.oldIE&&(c.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+
e,c)});var b=this,e={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:.7>b.initialZoomLevel?1:1.5},maxSpreadZoom:2,scaleMode:"fit",modal:!0,alwaysFadeIn:!1};c.extend(e,f);var h,l,p,t,u,n,
k,m,w,q,z,B,C,v,F,D,A,O,P,J,S,fa,R,ea,Q,ta,ua,xa,va,Ea,T,H,Na,Ca,ga,oa,Fa,ma,na,La,wa,Da,Ga,pa,K,qa,Oa,x,E,N,I,ca,la,Wa,Ma,za,da=function(){return{x:0,y:0}},L=da(),r=da(),y=da(),Y={},Z=0,ja=da(),ka=0,qb=!0,wb=[],db={},eb=function(a,d){c.extend(b,d.publicMethods);wb.push(a)},rb=function(a){var b=ha();return a>b-1?a-b:0>a?b+a:a},fb={},M=function(a,b){return fb[a]||(fb[a]=[]),fb[a].push(b)},G=function(a){var c=fb[a];if(c){var d=Array.prototype.slice.call(arguments);d.shift();for(var e=0;e<c.length;e++)c[e].apply(b,
d)}},ya=function(){return(new Date).getTime()},Ba=function(a){Wa=a;b.bg.style.opacity=a*e.bgOpacity},U=function(){E&&(E[R]=B+y.x+"px, "+y.y+"px"+C+" scale("+q+")")},gb=function(a){a.container&&(a.container.style[R]=B+a.initialPosition.x+"px, "+a.initialPosition.y+"px"+C+" scale("+a.initialZoomLevel+")")},Xa=function(a,b){b[R]=B+a+"px, 0px"+C},sb=function(a,b){if(!e.loop&&b){var c=t+(ja.x*Z-a)/ja.x,d=Math.round(a-Ha.x);(0>c&&0<d||c>=ha()-1&&0>d)&&(a=Ha.x+d*e.mainScrollEndFriction)}Ha.x=a;Xa(a,u)},
xb=function(a,b){var c=hb[a]-D[a];return r[a]+L[a]+c-b/z*c},aa=function(a,b){a.x=b.x;a.y=b.y;b.id&&(a.id=b.id)},Rb=function(a){a.x=Math.round(a.x);a.y=Math.round(a.y)},yb=null,zb=function(){yb&&(c.unbind(document,"mousemove",zb),c.addClass(a,"pswp--has_mouse"),e.mouseUsed=!0,G("mouseUsed"));yb=setTimeout(function(){yb=null},100)},Ab=function(a,c){var d=ib(b.currItem,Y,a);return c&&(x=d),d},Sb=function(a){return a||(a=b.currItem),a.initialZoomLevel},Tb=function(a){return a||(a=b.currItem),0<a.w?e.maxSpreadZoom:
1},Ub=function(a,c,d,e){return e===b.currItem.initialZoomLevel?(d[a]=b.currItem.initialPosition[a],!0):(d[a]=xb(a,e),d[a]>c.min[a]?(d[a]=c.min[a],!0):d[a]<c.max[a]?(d[a]=c.max[a],!0):!1)},jc=function(){if(R)return B="translate"+(H.perspective&&!Q?"3d(":"("),void(C=H.perspective?", 0px)":")");R="left";c.addClass(a,"pswp--ie");Xa=function(a,b){b.left=a+"px"};gb=function(a){var b=1<a.fitRatio?1:a.fitRatio,c=a.container.style,d=b*a.h;c.width=b*a.w+"px";c.height=d+"px";c.left=a.initialPosition.x+"px";
c.top=a.initialPosition.y+"px"};U=function(){if(E){var a=E,c=b.currItem,d=1<c.fitRatio?1:c.fitRatio,e=d*c.h;a.width=d*c.w+"px";a.height=e+"px";a.left=y.x+"px";a.top=y.y+"px"}}},kc=function(a){var c="";e.escKey&&27===a.keyCode?c="close":e.arrowKeys&&(37===a.keyCode?c="prev":39===a.keyCode&&(c="next"));c&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,b[c]()))},lc=function(a){a&&(Da||wa||N||Fa)&&(a.preventDefault(),a.stopPropagation())},mc=function(){b.setScrollOffset(0,
c.getScrollY())},ia={},jb=0,kb=function(a){ia[a]&&(ia[a].raf&&ua(ia[a].raf),jb--,delete ia[a])},Bb=function(a){ia[a]&&kb(a);ia[a]||(jb++,ia[a]={})},lb=function(){for(var a in ia)ia.hasOwnProperty(a)&&kb(a)},mb=function(a,b,c,d,e,f,g){var h,k=ya();Bb(a);var l=function(){if(ia[a]){if(h=ya()-k,h>=d)return kb(a),f(c),void(g&&g());f((c-b)*e(h/d)+b);ia[a].raf=ta(l)}};l()},nc={shout:G,listen:M,viewportSize:Y,options:e,isMainScrollAnimating:function(){return N},getZoomLevel:function(){return q},getCurrentIndex:function(){return t},
isDragging:function(){return na},isZooming:function(){return qa},setScrollOffset:function(a,b){D.x=a;T=D.y=b},applyZoomPan:function(a,b,c){y.x=b;y.y=c;q=a;U()},init:function(){if(!h&&!l){var d;b.framework=c;b.template=a;b.bg=c.getChildByClass(a,"pswp__bg");xa=a.className;h=!0;H=c.detectFeatures();ta=H.raf;ua=H.caf;R=H.transform;Ea=H.oldIE;b.scrollWrap=c.getChildByClass(a,"pswp__scroll-wrap");b.container=c.getChildByClass(b.scrollWrap,"pswp__container");u=b.container.style;b.itemHolders=A=[{el:b.container.children[0],
wrap:0,index:-1},{el:b.container.children[1],wrap:0,index:-1},{el:b.container.children[2],wrap:0,index:-1}];A[0].el.style.display=A[2].el.style.display="none";jc();w={resize:b.updateSize,scroll:mc,keydown:kc,click:lc};d=H.isOldIOSPhone||H.isOldAndroid||H.isMobileOpera;H.animationName&&H.transform&&!d||(e.showAnimationDuration=e.hideAnimationDuration=0);for(d=0;d<wb.length;d++)b["init"+wb[d]]();g&&(b.ui=new g(b,c)).init();G("firstUpdate");t=t||e.index||0;(isNaN(t)||0>t||t>=ha())&&(t=0);b.currItem=
Pa(t);(H.isOldIOSPhone||H.isOldAndroid)&&(qb=!1);e.modal&&(a.setAttribute("aria-hidden","false"),qb?a.style.position="fixed":(a.style.position="absolute",a.style.top=c.getScrollY()+"px"));void 0===T&&(G("initialLayout"),T=va=c.getScrollY());d="pswp--open ";e.mainClass&&(d+=e.mainClass+" ");e.showHideOpacity&&(d+="pswp--animate_opacity ");d+=Q?"pswp--touch":"pswp--notouch";d+=H.animationName?" pswp--css_animation":"";d+=H.svg?" pswp--svg":"";c.addClass(a,d);b.updateSize();n=-1;ka=null;for(d=0;3>d;d++)Xa((d+
n)*ja.x,A[d].el.style);Ea||c.bind(b.scrollWrap,m,b);M("initialZoomInEnd",function(){b.setContent(A[0],t-1);b.setContent(A[2],t+1);A[0].el.style.display=A[2].el.style.display="block";e.focus&&a.focus();c.bind(document,"keydown",b);H.transform&&c.bind(b.scrollWrap,"click",b);e.mouseUsed||c.bind(document,"mousemove",zb);c.bind(window,"resize scroll",b);G("bindEvents")});b.setContent(A[1],t);b.updateCurrItem();G("afterInit");qb||(v=setInterval(function(){jb||na||qa||q!==b.currItem.initialZoomLevel||b.updateSize()},
1E3));c.addClass(a,"pswp--visible")}},close:function(){h&&(h=!1,l=!0,G("close"),c.unbind(window,"resize",b),c.unbind(window,"scroll",w.scroll),c.unbind(document,"keydown",b),c.unbind(document,"mousemove",zb),H.transform&&c.unbind(b.scrollWrap,"click",b),na&&c.unbind(window,k,b),G("unbindEvents"),Vb(b.currItem,null,!0,b.destroy))},destroy:function(){G("destroy");Qa&&clearTimeout(Qa);e.modal&&(a.setAttribute("aria-hidden","true"),a.className=xa);v&&clearInterval(v);c.unbind(b.scrollWrap,m,b);c.unbind(window,
"scroll",b);Cb();lb();fb=null},panTo:function(a,b,c){c||(a>x.min.x?a=x.min.x:a<x.max.x&&(a=x.max.x),b>x.min.y?b=x.min.y:b<x.max.y&&(b=x.max.y));y.x=a;y.y=b;U()},handleEvent:function(a){a=a||window.event;w[a.type]&&w[a.type](a)},goTo:function(a){a=rb(a);var c=a-t;ka=c;t=a;b.currItem=Pa(t);Z-=c;sb(ja.x*Z);lb();N=!1;b.updateCurrItem()},next:function(){b.goTo(t+1)},prev:function(){b.goTo(t-1)},updateCurrZoomItem:function(a){if(a&&G("beforeChange",0),A[1].el.children.length){var d=A[1].el.children[0];
E=c.hasClass(d,"pswp__zoom-wrap")?d.style:null}else E=null;x=b.currItem.bounds;z=q=b.currItem.initialZoomLevel;y.x=x.center.x;y.y=x.center.y;a&&G("afterChange")},invalidateCurrItems:function(){F=!0;for(var a=0;3>a;a++)A[a].item&&(A[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ka){var c,d=Math.abs(ka);if(!(a&&2>d)){b.currItem=Pa(t);G("beforeChange",ka);3<=d&&(n+=ka+(0<ka?-3:3),d=3);for(a=0;d>a;a++)0<ka?(c=A.shift(),A[2]=c,n++,Xa((n+2)*ja.x,c.el.style),b.setContent(c,t-d+a+1+1)):(c=A.pop(),
A.unshift(c),n--,Xa(n*ja.x,c.el.style),b.setContent(c,t+d-a-1-1));E&&1===Math.abs(ka)&&(c=Pa(O),c.initialZoomLevel!==q&&(ib(c,Y),gb(c)));ka=0;b.updateCurrZoomItem();O=t;G("afterChange")}}},updateSize:function(d){if(!qb){var f=c.getScrollY();if(T!==f&&(a.style.top=f+"px",T=f),!d&&db.x===window.innerWidth&&db.y===window.innerHeight)return;db.x=window.innerWidth;db.y=window.innerHeight;a.style.height=db.y+"px"}if(Y.x=b.scrollWrap.clientWidth,Y.y=b.scrollWrap.clientHeight,D={x:0,y:T},ja.x=Y.x+Math.round(Y.x*
e.spacing),ja.y=Y.y,sb(ja.x*Z),G("beforeResize"),void 0!==n){for(var g,h=0;3>h;h++)d=A[h],Xa((h+n)*ja.x,d.el.style),g=t+h-1,e.loop&&2<ha()&&(g=rb(g)),(f=Pa(g))&&(F||f.needsUpdate||!f.bounds)?(b.cleanSlide(f),b.setContent(d,g),1===h&&(b.currItem=f,b.updateCurrZoomItem(!0)),f.needsUpdate=!1):-1===d.index&&0<=g&&b.setContent(d,g),f&&f.container&&(ib(f,Y),gb(f));F=!1}z=q=b.currItem.initialZoomLevel;(x=b.currItem.bounds)&&(y.x=x.center.x,y.y=x.center.y,U());G("resize")},zoomTo:function(a,b,d,e,f){b&&(z=
q,hb.x=Math.abs(b.x)-y.x,hb.y=Math.abs(b.y)-y.y,aa(r,y));b=Ab(a,!1);var g={};Ub("x",b,g,a);Ub("y",b,g,a);var h=q,k=y.x,l=y.y;Rb(g);b=function(b){1===b?(q=a,y.x=g.x,y.y=g.y):(q=(a-h)*b+h,y.x=(g.x-k)*b+k,y.y=(g.y-l)*b+l);f&&f(b);U()};d?mb("customZoomTo",0,1,d,e||c.easing.sine.inOut,b):b(1)}},V={},Aa={},W={},ba={},Ya={},Ia=[],Ra={},Sa=[],Db,Eb,tb=0,nb=da(),Fb=0,Ha=da(),hb=da(),Ta=da(),oc=function(a,b){return 25>Math.abs(a.x-b.x)&&25>Math.abs(a.y-b.y)},Wb=function(a,b){return Db=Math.abs(a.x-b.x),Eb=
Math.abs(a.y-b.y),Math.sqrt(Db*Db+Eb*Eb)},Cb=function(){Ga&&(ua(Ga),Ga=null)},Xb=function(){if(na&&(Ga=ta(Xb),K)){var a=K.length;if(0!==a)if(aa(V,K[0]),W.x=V.x-ba.x,W.y=V.y-ba.y,qa&&1<a){ba.x=V.x;ba.y=V.y;if(a=!W.x&&!W.y)a=K[1],a=a.x===Aa.x&&a.y===Aa.y;if(!a){aa(Aa,K[1]);wa||(wa=!0,G("zoomGestureStarted"));a=Wb(V,Aa);a=1/Oa*a*z;a>b.currItem.initialZoomLevel+b.currItem.initialZoomLevel/15&&(Ma=!0);var c=1,d=Sb(),f=Tb();d>a?e.pinchToClose&&!Ma&&z<=b.currItem.initialZoomLevel?(c=1-(d-a)/(d/1.2),Ba(c),
G("onPinchClose",c),la=!0):(c=(d-a)/d,1<c&&(c=1),a=d-d/3*c):a>f&&(c=(a-f)/(6*d),1<c&&(c=1),a=f+c*d);nb.x=.5*(V.x+Aa.x);nb.y=.5*(V.y+Aa.y);L.x+=nb.x-Ta.x;L.y+=nb.y-Ta.y;aa(Ta,nb);y.x=xb("x",a);y.y=xb("y",a);oa=a>q;q=a;U()}}else I&&(ca&&(ca=!1,10<=Math.abs(W.x)&&(W.x-=K[0].x-Ya.x),10<=Math.abs(W.y)&&(W.y-=K[0].y-Ya.y)),ba.x=V.x,ba.y=V.y,0!==W.x||0!==W.y)&&("v"===I&&e.closeOnVerticalDrag&&"fit"===e.scaleMode&&q===b.currItem.initialZoomLevel?(L.y+=W.y,y.y+=W.y,a=Yb(),Fa=!0,G("onVerticalDrag",a),Ba(a),
U()):(a=ya(),c=V.x,d=V.y,50<a-Ca&&(f=2<Sa.length?Sa.shift():{},f.x=c,f.y=d,Sa.push(f),Ca=a),Da=!0,x=b.currItem.bounds,Zb("x",W)||(Zb("y",W),Rb(y),U())))}},$b=function(a,b){return a?a.className&&-1<a.className.indexOf("pswp__scroll-wrap")?!1:b(a)?a:$b(a.parentNode,b):!1},Gb={},ac=function(a,b){return Gb.prevent=!$b(a.target,e.isClickableElement),G("preventDragEvent",a,b,Gb),Gb.prevent},bc=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Yb=function(){return 1-Math.abs((y.y-b.currItem.initialPosition.y)/
(Y.y/2))},ob={},pc={},Ja=[],Hb=function(a){for(;0<Ja.length;)Ja.pop();return ea?(za=0,Ia.forEach(function(a){0===za?Ja[0]=a:1===za&&(Ja[1]=a);za++})):-1<a.type.indexOf("touch")?a.touches&&0<a.touches.length&&(Ja[0]=bc(a.touches[0],ob),1<a.touches.length&&(Ja[1]=bc(a.touches[1],pc))):(ob.x=a.pageX,ob.y=a.pageY,ob.id="",Ja[0]=ob),Ja},Zb=function(a,c){var d,f,g,h,k=y[a]+c[a],l=0<c[a],m=Ha.x+c.x,n=Ha.x-Ra.x;return d=k>x.min[a]||k<x.max[a]?e.panEndFriction:1,k=y[a]+c[a]*d,!e.allowPanToNext&&q!==b.currItem.initialZoomLevel||
(E?"h"!==I||"x"!==a||wa||(l?(k>x.min[a]&&(d=e.panEndFriction,f=x.min[a]-r[a]),(0>=f||0>n)&&1<ha()?(h=m,0>n&&m>Ra.x&&(h=Ra.x)):x.min.x!==x.max.x&&(g=k)):(k<x.max[a]&&(d=e.panEndFriction,f=r[a]-x.max[a]),(0>=f||0<n)&&1<ha()?(h=m,0<n&&m<Ra.x&&(h=Ra.x)):x.min.x!==x.max.x&&(g=k))):h=m,"x"!==a)?void(N||pa||q>b.currItem.fitRatio&&(y[a]+=c[a]*d)):(void 0!==h&&(sb(h,!0),pa=h===Ra.x?!1:!0),x.min.x!==x.max.x&&(void 0!==g?y.x=g:pa||(y.x+=c.x*d)),void 0!==h)},qc=function(a){if(!("mousedown"===a.type&&0<a.button)){if(Za)return void a.preventDefault();
if(!ma||"mousedown"!==a.type){if(ac(a,!0)&&a.preventDefault(),G("pointerDown"),ea){var d=c.arraySearch(Ia,a.pointerId,"id");0>d&&(d=Ia.length);Ia[d]={x:a.pageX,y:a.pageY,id:a.pointerId}}a=Hb(a);d=a.length;K=null;lb();na&&1!==d||(na=ca=!0,c.bind(window,k,b),oa=Ma=la=Fa=pa=Da=La=wa=!1,I=null,G("firstTouchStart",a),aa(r,y),L.x=L.y=0,aa(ba,a[0]),aa(Ya,ba),Ra.x=ja.x*Z,Sa=[{x:ba.x,y:ba.y}],Ca=Na=ya(),Ab(q,!0),Cb(),Xb());!qa&&1<d&&!N&&!pa&&(z=q,wa=!1,qa=La=!0,L.y=L.x=0,aa(r,y),aa(V,a[0]),aa(Aa,a[1]),Ta.x=
.5*(V.x+Aa.x),Ta.y=.5*(V.y+Aa.y),hb.x=Math.abs(Ta.x)-y.x,hb.y=Math.abs(Ta.y)-y.y,Oa=Wb(V,Aa))}}},rc=function(a){if(a.preventDefault(),ea){var b=c.arraySearch(Ia,a.pointerId,"id");-1<b&&(b=Ia[b],b.x=a.pageX,b.y=a.pageY)}na&&(a=Hb(a),I||Da||qa?K=a:(b=Math.abs(a[0].x-ba.x)-Math.abs(a[0].y-ba.y),10<=Math.abs(b)&&(I=0<b?"h":"v",K=a)))},wc=function(a){if(H.isOldAndroid){if(ma&&"mouseup"===a.type)return;-1<a.type.indexOf("touch")&&(clearTimeout(ma),ma=setTimeout(function(){ma=0},600))}G("pointerUp");ac(a,
!1)&&a.preventDefault();var d;if(ea){var e=c.arraySearch(Ia,a.pointerId,"id");-1<e&&((d=Ia.splice(e,1)[0],navigator.pointerEnabled)?d.type=a.pointerType||"mouse":(d.type={4:"mouse",2:"touch",3:"pen"}[a.pointerType],d.type||(d.type=a.pointerType||"mouse")))}var f=Hb(a),e=f.length;if("mouseup"===a.type&&(e=0),2===e)return K=null,!0;1===e&&aa(Ya,f[0]);0!==e||I||N||(d||("mouseup"===a.type?d={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(d={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,
type:"touch"})),G("touchRelease",a,d));d=-1;if(0===e&&(na=!1,c.unbind(window,k,b),Cb(),qa?d=0:-1!==Fb&&(d=ya()-Fb)),Fb=1===e?ya():-1,a=-1!==d&&150>d?"zoom":"swipe",qa&&2>e&&(qa=!1,1===e&&(a="zoomPointerUp"),G("zoomGestureEnded")),K=null,Da||wa||N||Fa)if(lb(),ga||(ga=sc()),ga.calculateSwipeSpeed("x"),Fa)if(.6>Yb())b.close();else{var g=y.y,h=Wa;mb("verticalDrag",0,1,300,c.easing.cubic.out,function(a){y.y=(b.currItem.initialPosition.y-g)*a+g;Ba((1-h)*a+h);U()});G("onVerticalDrag",1)}else{if((pa||N)&&
0===e){if(tc(a,ga))return;a="zoomPointerUp"}if(!N)return"swipe"!==a?void uc():void(!pa&&q>b.currItem.fitRatio&&vc(ga))}},sc=function(){var a,b,d={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(c){1<Sa.length?(a=ya()-Ca+50,b=Sa[Sa.length-2][c]):(a=ya()-Na,b=Ya[c]);d.lastFlickOffset[c]=ba[c]-b;d.lastFlickDist[c]=
Math.abs(d.lastFlickOffset[c]);d.lastFlickSpeed[c]=20<d.lastFlickDist[c]?d.lastFlickOffset[c]/a:0;.1>Math.abs(d.lastFlickSpeed[c])&&(d.lastFlickSpeed[c]=0);d.slowDownRatio[c]=.95;d.slowDownRatioReverse[c]=1-d.slowDownRatio[c];d.speedDecelerationRatio[c]=1},calculateOverBoundsAnimOffset:function(a,b){d.backAnimStarted[a]||(y[a]>x.min[a]?d.backAnimDestination[a]=x.min[a]:y[a]<x.max[a]&&(d.backAnimDestination[a]=x.max[a]),void 0!==d.backAnimDestination[a]&&(d.slowDownRatio[a]=.7,d.slowDownRatioReverse[a]=
1-d.slowDownRatio[a],.05>d.speedDecelerationRatioAbs[a]&&(d.lastFlickSpeed[a]=0,d.backAnimStarted[a]=!0,mb("bounceZoomPan"+a,y[a],d.backAnimDestination[a],b||300,c.easing.sine.out,function(b){y[a]=b;U()}))))},calculateAnimOffset:function(a){d.backAnimStarted[a]||(d.speedDecelerationRatio[a]*=d.slowDownRatio[a]+d.slowDownRatioReverse[a]-d.slowDownRatioReverse[a]*d.timeDiff/10,d.speedDecelerationRatioAbs[a]=Math.abs(d.lastFlickSpeed[a]*d.speedDecelerationRatio[a]),d.distanceOffset[a]=d.lastFlickSpeed[a]*
d.speedDecelerationRatio[a]*d.timeDiff,y[a]+=d.distanceOffset[a])},panAnimLoop:function(){return ia.zoomPan&&(ia.zoomPan.raf=ta(d.panAnimLoop),d.now=ya(),d.timeDiff=d.now-d.lastNow,d.lastNow=d.now,d.calculateAnimOffset("x"),d.calculateAnimOffset("y"),U(),d.calculateOverBoundsAnimOffset("x"),d.calculateOverBoundsAnimOffset("y"),.05>d.speedDecelerationRatioAbs.x&&.05>d.speedDecelerationRatioAbs.y)?(y.x=Math.round(y.x),y.y=Math.round(y.y),U(),void kb("zoomPan")):void 0}};return d},vc=function(a){return a.calculateSwipeSpeed("y"),
x=b.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},.05>=Math.abs(a.lastFlickSpeed.x)&&.05>=Math.abs(a.lastFlickSpeed.y)?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(Bb("zoomPan"),a.lastNow=ya(),void a.panAnimLoop())},tc=function(a,d){var f;N||(tb=t);var g;if("swipe"===a){var h=ba.x-Ya.x,k=10>d.lastFlickDist.x;30<h&&(k||20<d.lastFlickOffset.x)?g=-1:-30>h&&(k||-20>d.lastFlickOffset.x)&&(g=
1)}var l;g&&(t+=g,0>t?(t=e.loop?ha()-1:0,l=!0):t>=ha()&&(t=e.loop?0:ha()-1,l=!0),(!l||e.loop)&&(ka+=g,Z-=g,f=!0));var m;g=ja.x*Z;h=Math.abs(g-Ha.x);return f||g>Ha.x==0<d.lastFlickSpeed.x?(m=0<Math.abs(d.lastFlickSpeed.x)?h/Math.abs(d.lastFlickSpeed.x):333,m=Math.min(m,400),m=Math.max(m,250)):m=333,tb===t&&(f=!1),N=!0,G("mainScrollAnimStart"),mb("mainScroll",Ha.x,g,m,c.easing.cubic.out,sb,function(){lb();N=!1;tb=-1;(f||tb!==t)&&b.updateCurrItem();G("mainScrollAnimComplete")}),f&&b.updateCurrItem(!0),
f},uc=function(){var a=q,d=Sb(),e=Tb();d>q?a=d:q>e&&(a=e);var f,g=Wa;return la&&!oa&&!Ma&&d>q?(b.close(),!0):(la&&(f=function(a){Ba((1-g)*a+g)}),b.zoomTo(a,0,300,c.easing.cubic.out,f),!0)};eb("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){P=a+b;J=a+c;S=a+d;fa=e?a+e:""};(ea=H.pointerEvent)&&H.touch&&(H.touch=!1);ea?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):H.touch?(a("touch","start","move","end","cancel"),
Q=!0):a("mouse","down","move","up");k=J+" "+S+" "+fa;m=P;ea&&!Q&&(Q=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints);b.likelyTouchDevice=Q;w[P]=qc;w[J]=rc;w[S]=wc;fa&&(w[fa]=w[S]);H.touch&&(m+=" mousedown",k+=" mousemove mouseup",w.mousedown=w[P],w.mousemove=w[J],w.mouseup=w[S]);Q||(e.allowPanToNext=!1)}}});var Qa,$a,Ib,Za,Pa,ha,Vb=function(d,f,g,h){Qa&&clearTimeout(Qa);Ib=Za=!0;var k;d.initialLayout?(k=d.initialLayout,d.initialLayout=null):k=e.getThumbBoundsFn&&e.getThumbBoundsFn(t);var l=
g?e.hideAnimationDuration:e.showAnimationDuration,m=function(){kb("initialZoom");g?(b.template.removeAttribute("style"),b.bg.removeAttribute("style")):(Ba(1),f&&(f.style.display="block"),c.addClass(a,"pswp--animated-in"),G("initialZoom"+(g?"OutEnd":"InEnd")));h&&h();Za=!1};l&&k&&void 0!==k.x?function(){var f=p,h=!b.currItem.src||b.currItem.loadError||e.showHideOpacity;d.miniImg&&(d.miniImg.style.webkitBackfaceVisibility="hidden");g||(q=k.w/d.w,y.x=k.x,y.y=k.y-va,b[h?"template":"bg"].style.opacity=
.001,U());Bb("initialZoom");g&&!f&&c.removeClass(a,"pswp--animated-in");h&&(g?c[(f?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){c.addClass(a,"pswp--animate_opacity")},30));Qa=setTimeout(function(){if(G("initialZoom"+(g?"Out":"In")),g){var b=k.w/d.w,e=y.x,n=y.y,p=q,r=Wa,t=function(c){1===c?(q=b,y.x=k.x,y.y=k.y-T):(q=(b-p)*c+p,y.x=(k.x-e)*c+e,y.y=(k.y-T-n)*c+n);U();h?a.style.opacity=1-c:Ba(r-c*r)};f?mb("initialZoom",0,1,l,c.easing.cubic.out,t,m):(t(1),Qa=setTimeout(m,l+
20))}else q=d.initialZoomLevel,aa(y,d.initialPosition),U(),Ba(1),h?a.style.opacity=1:Ba(1),Qa=setTimeout(m,l+20)},g?25:90)}():(G("initialZoom"+(g?"Out":"In")),q=d.initialZoomLevel,aa(y,d.initialPosition),U(),a.style.opacity=g?0:1,Ba(1),m())},ab,bb,Ua=[],xc={index:0,errorMsg:'\x3cdiv class\x3d"pswp__error-msg"\x3e\x3ca href\x3d"%url%" target\x3d"_blank"\x3eThe image\x3c/a\x3e could not be loaded.\x3c/div\x3e',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return $a.length}},cc=function(){return{center:{x:0,
y:0},max:{x:0,y:0},min:{x:0,y:0}}},ib=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),G("parseVerticalMargin",a)),ab=b.x,bb=b.y-a.vGap.top-a.vGap.bottom,d){b=ab/a.w;var f=bb/a.h;a.fitRatio=f>b?b:f;b=e.scaleMode;"orig"===b?c=1:"fit"===b&&(c=a.fitRatio);1<c&&(c=1);a.initialZoomLevel=c;a.bounds||(a.bounds=cc())}if(!c)return;b=a.w*c;var f=a.h*c,g=a.bounds;g.center.x=Math.round((ab-b)/2);g.center.y=Math.round((bb-f)/2)+a.vGap.top;g.max.x=b>ab?Math.round(ab-b):
g.center.x;g.max.y=f>bb?Math.round(bb-f)+a.vGap.top:g.center.y;g.min.x=b>ab?0:g.center.x;g.min.y=f>bb?a.vGap.top:g.center.y;return d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=cc(),a.initialPosition=a.bounds.center,a.bounds},ub=function(a,c,d,f,g,h){if(!c.loadError){var k,l=b.isDragging()&&!b.isZooming();a=a===t||b.isMainScrollAnimating()||l;!g&&(Q||e.alwaysFadeIn)&&a&&(k=!0);f&&(k&&(f.style.opacity=0),c.imageAppended=
!0,Jb(f,c.w,c.h),d.appendChild(f),k&&setTimeout(function(){f.style.opacity=1;h&&setTimeout(function(){c&&c.loaded&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null)},500)},50))}},dc=function(a){a.loading=!0;a.loaded=!1;var b=a.img=c.createEl("pswp__img","img"),d=function(){a.loading=!1;a.loaded=!0;a.loadComplete?a.loadComplete(a):a.img=null;b=b.onload=b.onerror=null};return b.onload=d,b.onerror=function(){a.loadError=!0;d()},b.src=a.src,b},ec=function(a,b){return a.src&&a.loadError&&
a.container?(b&&(a.container.innerHTML=""),a.container.innerHTML=e.errorMsg.replace("%url%",a.src),!0):void 0},Jb=function(a,b,c){a.style.width=b+"px";a.style.height=c+"px"},fc=function(){if(Ua.length){for(var a,b=0;b<Ua.length;b++)a=Ua[b],a.holder.index===a.index&&ub(a.index,a.item,a.baseDiv,a.img);Ua=[]}};eb("Controller",{publicMethods:{lazyLoadItem:function(a){a=rb(a);var b=Pa(a);!b||b.loaded||b.loading||(G("gettingData",a,b),b.src&&dc(b))},initController:function(){c.extend(e,xc,!0);b.items=$a=
d;Pa=b.getItemAt;ha=e.getNumItemsFn;3>ha()&&(e.loop=!1);M("beforeChange",function(a){var c;c=e.preload;a=null===a?!0:0<a;var d=Math.min(c[0],ha()),f=Math.min(c[1],ha());for(c=1;(a?f:d)>=c;c++)b.lazyLoadItem(t+c);for(c=1;(a?d:f)>=c;c++)b.lazyLoadItem(t-c)});M("initialLayout",function(){b.currItem.initialLayout=e.getThumbBoundsFn&&e.getThumbBoundsFn(t)});M("mainScrollAnimComplete",fc);M("initialZoomInEnd",fc);M("destroy",function(){for(var a,b=0;b<$a.length;b++)a=$a[b],a.container&&(a.container=null),
a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);Ua=null})},getItemAt:function(a){return 0<=a&&void 0!==$a[a]?$a[a]:!1},allowProgressiveImg:function(){return e.forceProgressiveLoading||!Q||e.mouseUsed||1200<screen.width},setContent:function(a,d){e.loop&&(d=rb(d));var f=b.getItemAt(a.index);f&&(f.container=null);var g,f=b.getItemAt(d);if(!f)return void(a.el.innerHTML="");G("gettingData",d,f);a.index=d;a.item=f;var k=f.container=
c.createEl("pswp__zoom-wrap");if(!f.src&&f.html&&(f.html.tagName?k.appendChild(f.html):k.innerHTML=f.html),ec(f),!f.src||f.loadError||f.loaded)f.src&&!f.loadError&&(g=c.createEl("pswp__img","img"),g.style.webkitBackfaceVisibility="hidden",g.style.opacity=1,g.src=f.src,Jb(g,f.w,f.h),ub(d,f,k,g,!0));else{if(f.loadComplete=function(c){if(h){if(c.img&&(c.img.style.webkitBackfaceVisibility="hidden"),a&&a.index===d){if(ec(c,!0))return c.loadComplete=c.img=null,ib(c,Y),gb(c),void(a.index===t&&b.updateCurrZoomItem());
c.imageAppended?!Za&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):H.transform&&(N||Za)?Ua.push({item:c,baseDiv:k,img:c.img,index:d,holder:a}):ub(d,c,k,c.img,N||Za)}c.loadComplete=null;c.img=null;G("imageLoadComplete",d,c)}},c.features.transform){var l;l="pswp__img pswp__img--placeholder"+(f.msrc?"":" pswp__img--placeholder--blank");l=c.createEl(l,f.msrc?"img":"");f.msrc&&(l.src=f.msrc);Jb(l,f.w,f.h);k.appendChild(l);f.placeholder=l}f.loading||dc(f);b.allowProgressiveImg()&&
(!Ib&&H.transform?Ua.push({item:f,baseDiv:k,img:f.img,index:d,holder:a}):ub(d,f,k,f.img,!0,!0))}ib(f,Y);Ib||d!==t?gb(f):(E=k.style,Vb(f,g||f.img));a.el.innerHTML="";a.el.appendChild(k)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null);a.loaded=a.loading=a.img=a.imageAppended=!1}}});var Ka,Kb={},Lb=function(a,b,c){var d=document.createEvent("CustomEvent");d.initCustomEvent("pswpTap",!0,!0,{origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"});a.target.dispatchEvent(d)};
eb("Tap",{publicMethods:{initTap:function(){M("firstTouchStart",b.onTapStart);M("touchRelease",b.onTapRelease);M("destroy",function(){Kb={};Ka=null})},onTapStart:function(a){1<a.length&&(clearTimeout(Ka),Ka=null)},onTapRelease:function(a,b){if(b&&!Da&&!La&&!jb){if(Ka&&(clearTimeout(Ka),Ka=null,oc(b,Kb)))return void G("doubleTap",b);if("mouse"===b.type)return void Lb(a,b,"mouse");if("BUTTON"===a.target.tagName.toUpperCase()||c.hasClass(a.target,"pswp__single-tap"))return void Lb(a,b);aa(Kb,b);Ka=setTimeout(function(){Lb(a,
b);Ka=null},300)}}}});var ra;eb("DesktopZoom",{publicMethods:{initDesktopZoom:function(){Ea||(Q?M("mouseUsed",function(){b.setupDesktopZoom()}):b.setupDesktopZoom(!0))},setupDesktopZoom:function(d){ra={};M("bindEvents",function(){c.bind(a,"wheel mousewheel DOMMouseScroll",b.handleMouseWheel)});M("unbindEvents",function(){ra&&c.unbind(a,"wheel mousewheel DOMMouseScroll",b.handleMouseWheel)});b.mouseZoomedIn=!1;var e,f=function(){b.mouseZoomedIn&&(c.removeClass(a,"pswp--zoomed-in"),b.mouseZoomedIn=
!1);1>q?c.addClass(a,"pswp--zoom-allowed"):c.removeClass(a,"pswp--zoom-allowed");g()},g=function(){e&&(c.removeClass(a,"pswp--dragging"),e=!1)};M("resize",f);M("afterChange",f);M("pointerDown",function(){b.mouseZoomedIn&&(e=!0,c.addClass(a,"pswp--dragging"))});M("pointerUp",g);d||f()},handleMouseWheel:function(a){if(q<=b.currItem.fitRatio)return e.closeOnScroll?R&&2<Math.abs(a.deltaY)&&(p=!0,b.close()):a.preventDefault(),!0;if(a.preventDefault(),a.stopPropagation(),ra.x=0,"deltaX"in a)1===a.deltaMode?
(ra.x=18*a.deltaX,ra.y=18*a.deltaY):(ra.x=a.deltaX,ra.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(ra.x=-.16*a.wheelDeltaX),ra.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else{if(!("detail"in a))return;ra.y=a.detail}Ab(q,!0);b.panTo(y.x-ra.x,y.y-ra.y)},toggleDesktopZoom:function(d){d=d||{x:Y.x/2,y:Y.y/2+T};var f=e.getDoubleTapZoom(!0,b.currItem),g=q===f;b.mouseZoomedIn=!g;b.zoomTo(g?b.currItem.initialZoomLevel:f,d,333);c[(g?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var pb,
gc,Va,vb,Mb,hc,X,cb,Nb,Ob,sa,Pb,yc={history:!0,galleryUID:1},ic=function(){var a=sa.hash.substring(1),b={};if(5>a.length)return b;for(var a=a.split("\x26"),c=0;c<a.length;c++)if(a[c]){var d=a[c].split("\x3d");2>d.length||(b[d[0]]=d[1])}return b.pid=parseInt(b.pid,10)-1,0>b.pid&&(b.pid=0),b},Qb=function(){if(Va&&clearTimeout(Va),jb||na)return void(Va=setTimeout(Qb,500));vb?clearTimeout(gc):vb=!0;var a=X+"\x26gid\x3d"+e.galleryUID+"\x26pid\x3d"+(t+1);cb||-1===sa.hash.indexOf(a)&&(Ob=!0);var b=sa.href.split("#")[0]+
"#"+a;Pb?"#"+a!==window.location.hash&&history[cb?"replaceState":"pushState"]("",document.title,b):cb?sa.replace(b):sa.hash=a;cb=!0;gc=setTimeout(function(){vb=!1},60)};eb("History",{publicMethods:{initHistory:function(){if(c.extend(e,yc,!0),e.history){sa=window.location;cb=Nb=Ob=!1;X=sa.hash.substring(1);Pb="pushState"in history;-1<X.indexOf("gid\x3d")&&(X=X.split("\x26gid\x3d")[0],X=X.split("?gid\x3d")[0]);M("afterChange",b.updateURL);M("unbindEvents",function(){c.unbind(window,"hashchange",b.onHashChange)});
var a=function(){hc=!0;Nb||(Ob?history.back():X?sa.hash=X:Pb?history.pushState("",document.title,sa.pathname+sa.search):sa.hash="");pb&&clearTimeout(pb);Va&&clearTimeout(Va)};M("unbindEvents",function(){p&&a()});M("destroy",function(){hc||a()});M("firstUpdate",function(){t=ic().pid});var d=X.indexOf("pid\x3d");-1<d&&(X=X.substring(0,d),"\x26"===X.slice(-1)&&(X=X.slice(0,-1)));setTimeout(function(){h&&c.bind(window,"hashchange",b.onHashChange)},40)}},onHashChange:function(){return sa.hash.substring(1)===
X?(Nb=!0,void b.close()):void(vb||(Mb=!0,b.goTo(ic().pid),Mb=!1))},updateURL:function(){pb&&clearTimeout(pb);Va&&clearTimeout(Va);Mb||(cb?pb=setTimeout(Qb,800):Qb())}}});c.extend(b,nc)}});!function(a,g){"function"==typeof define&&define.amd?define(g):"object"==typeof exports?module.exports=g():a.PhotoSwipeUI_Default=g()}(this,function(){return function(a,g){var d,f,c,b,e,h,l,p,t,u,n,k,m,w,q,z,B,C,v=this,F=!1,D=!0,A=!0,O={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4E3,timeToIdleOutside:1E3,loadingIndicatorDelay:1E3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML=
"",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u\x3d{{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text\x3d{{text}}\x26url\x3d{{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url\x3d{{url}}\x26media\x3d{{image_url}}\x26description\x3d{{text}}"},
{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / "},P=function(a){if(z)return!0;a=a||window.event;q.timeToIdle&&q.mouseUsed&&!t&&xa();for(var b,c,d=(a.target||a.srcElement).className,e=0;e<ga.length;e++)b=ga[e],b.onTap&&-1<d.indexOf("pswp__"+b.name)&&(b.onTap(),c=!0);c&&(a.stopPropagation&&
a.stopPropagation(),z=!0,setTimeout(function(){z=!1},g.features.isOldAndroid?600:30))},J=function(a,b,c){g[(c?"add":"remove")+"Class"](a,"pswp__"+b)},S=function(){var a=1===q.getNumItemsFn();a!==w&&(J(f,"ui--one-slide",a),w=a)},fa=function(){J(l,"share-modal--hidden",A)},R=function(){return A=!A,A?(g.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){A&&fa()},300)):(fa(),setTimeout(function(){A||g.addClass(l,"pswp__share-modal--fade-in")},30)),A||Q(),!1},ea=function(b){b=b||window.event;
var c=b.target||b.srcElement;return a.shout("shareLinkClick",b,c),c.href?c.hasAttribute("download")?!0:(window.open(c.href,"pswp_share","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d550,height\x3d420,top\x3d100,left\x3d"+(window.screen?Math.round(screen.width/2-275):100)),A||R(),!1):!1},Q=function(){for(var a,b,c,d,e="",f=0;f<q.shareButtons.length;f++)a=q.shareButtons[f],b=q.getImageURLForShare(a),c=q.getPageURLForShare(a),d=q.getTextForShare(a),b=a.url.replace("{{url}}",
encodeURIComponent(c)).replace("{{image_url}}",encodeURIComponent(b)).replace("{{raw_image_url}}",b).replace("{{text}}",encodeURIComponent(d)),e+='\x3ca href\x3d"'+b+'" target\x3d"_blank" class\x3d"pswp__share--'+a.id+'"'+(a.download?"download":"")+"\x3e"+a.label+"\x3c/a\x3e",q.parseShareButtonOut&&(e=q.parseShareButtonOut(a,e));l.children[0].innerHTML=e;l.children[0].onclick=ea},ta=function(a){for(var b=0;b<q.closeElClasses.length;b++)if(g.hasClass(a,"pswp__"+q.closeElClasses[b]))return!0},ua=0,
xa=function(){clearTimeout(C);ua=0;t&&v.setIdle(!1)},va=function(a){a=a?a:window.event;(a=a.relatedTarget||a.toElement)&&"HTML"!==a.nodeName||(clearTimeout(C),C=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},Ea=function(){q.preloaderEl&&(T(!0),u("beforeChange",function(){clearTimeout(m);m=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&T(!1):T(!0)},q.loadingIndicatorDelay)}),u("imageLoadComplete",function(b,
c){a.currItem===c&&T(!0)}))},T=function(a){k!==a&&(J(n,"preloader--active",!a),k=a)},H=function(d){var e=d.vGap;if(!a.likelyTouchDevice||q.mouseUsed||1200<screen.width){var h=q.barsSize;q.captionEl&&"auto"===h.bottom?(b||(b=g.createEl("pswp__caption pswp__caption--fake"),b.appendChild(g.createEl("pswp__caption__center")),f.insertBefore(b,c),g.addClass(f,"pswp__ui--fit")),q.addCaptionHTMLFn(d,b,!0))?e.bottom=parseInt(b.clientHeight,10)||44:e.bottom=h.top:e.bottom="auto"===h.bottom?0:h.bottom;e.top=
h.top}else e.top=e.bottom=0},Na=function(){q.timeToIdle&&u("mouseUsed",function(){g.bind(document,"mousemove",xa);g.bind(document,"mouseout",va);B=setInterval(function(){ua++;2===ua&&v.setIdle(!0)},q.timeToIdle/2)})},Ca=function(){u("onVerticalDrag",function(a){D&&.95>a?v.hideControls():!D&&.95<=a&&v.showControls()});var a;u("onPinchClose",function(b){D&&.9>b?(v.hideControls(),a=!0):a&&!D&&.9<b&&v.showControls()});u("zoomGestureEnded",function(){a=!1})},ga=[{name:"caption",option:"captionEl",onInit:function(a){c=
a}},{name:"share-modal",option:"shareEl",onInit:function(a){l=a},onTap:function(){R()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){R()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){e=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",
onTap:function(){d.isFullscreen()?d.exit():d.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){n=a}}],oa=function(){var a,b,c,d=function(d){if(d)for(var e=d.length,f=0;e>f;f++){a=d[f];b=a.className;for(var h=0;h<ga.length;h++)c=ga[h],-1<b.indexOf("pswp__"+c.name)&&(q[c.option]?(g.removeClass(a,"pswp__element--disabled"),c.onInit&&c.onInit(a)):g.addClass(a,"pswp__element--disabled"))}};d(f.children);var e=g.getChildByClass(f,"pswp__top-bar");e&&d(e.children)};v.init=function(){g.extend(a.options,
O,!0);q=a.options;f=g.getChildByClass(a.scrollWrap,"pswp__ui");u=a.listen;Ca();u("beforeChange",v.update);u("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)});u("preventDragEvent",function(a,b,c){(b=a.target||a.srcElement)&&b.className&&-1<a.type.indexOf("mouse")&&(0<b.className.indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(b.tagName))&&(c.prevent=!1)});u("bindEvents",function(){g.bind(f,"pswpTap click",
P);g.bind(a.scrollWrap,"pswpTap",v.onGlobalTap);a.likelyTouchDevice||g.bind(a.scrollWrap,"mouseover",v.onMouseOver)});u("unbindEvents",function(){A||R();B&&clearInterval(B);g.unbind(document,"mouseout",va);g.unbind(document,"mousemove",xa);g.unbind(f,"pswpTap click",P);g.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap);g.unbind(a.scrollWrap,"mouseover",v.onMouseOver);d&&(g.unbind(document,d.eventK,v.updateFullscreen),d.isFullscreen()&&(q.hideAnimationDuration=0,d.exit()),d=null)});u("destroy",function(){q.captionEl&&
(b&&f.removeChild(b),g.removeClass(c,"pswp__caption--empty"));l&&(l.children[0].onclick=null);g.removeClass(f,"pswp__ui--over-close");g.addClass(f,"pswp__ui--hidden");v.setIdle(!1)});q.showAnimationDuration||g.removeClass(f,"pswp__ui--hidden");u("initialZoomIn",function(){q.showAnimationDuration&&g.removeClass(f,"pswp__ui--hidden")});u("initialZoomOut",function(){g.addClass(f,"pswp__ui--hidden")});u("parseVerticalMargin",H);oa();q.shareEl&&h&&l&&(A=!0);S();Na();q.fullscreenEl&&(d||(d=v.getFullscreenAPI()),
d?(g.bind(document,d.eventK,v.updateFullscreen),v.updateFullscreen(),g.addClass(a.template,"pswp--supports-fs")):g.removeClass(a.template,"pswp--supports-fs"));Ea()};v.setIdle=function(a){t=a;J(f,"ui--idle",a)};v.update=function(){D&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,c),J(c,"caption--empty",!a.currItem.title)),F=!0):F=!1;A||R();S()};v.updateFullscreen=function(b){b&&setTimeout(function(){a.setScrollOffset(0,g.getScrollY())},50);g[(d.isFullscreen()?"add":
"remove")+"Class"](a.template,"pswp--fs")};v.updateIndexIndicator=function(){q.counterEl&&(e.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())};v.onGlobalTap=function(b){b=b||window.event;var c=b.target||b.srcElement;if(!z)if(b.detail&&"mouse"===b.detail.pointerType){if(ta(c))return void a.close();g.hasClass(c,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(b.detail.releasePoint))}else if(q.tapToToggleControls&&
(D?v.hideControls():v.showControls()),q.tapToClose&&(g.hasClass(c,"pswp__img")||ta(c)))return void a.close()};v.onMouseOver=function(a){a=a||window.event;J(f,"ui--over-close",ta(a.target||a.srcElement))};v.hideControls=function(){g.addClass(f,"pswp__ui--hidden");D=!1};v.showControls=function(){D=!0;F||v.update();g.removeClass(f,"pswp__ui--hidden")};v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)};v.getFullscreenAPI=
function(){var b,c=document.documentElement;return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:"fullscreenchange"}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"mozfullscreenchange"}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkitfullscreenchange"}:c.msRequestFullscreen&&
(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){return p=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=p,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}}});(function(a){a.belowthefold=function(g,d){return a(window).height()+a(window).scrollTop()<=a(g).offset().top-d.threshold};a.abovethetop=function(g,d){return a(window).scrollTop()>=a(g).offset().top+a(g).height()-d.threshold};a.rightofscreen=function(g,d){return a(window).width()+a(window).scrollLeft()<=a(g).offset().left-d.threshold};a.leftofscreen=function(g,d){return a(window).scrollLeft()>=a(g).offset().left+a(g).width()-d.threshold};a.inviewport=function(g,d){var f=a(g),c=f.offset(),b=a(window),
e=b.scrollTop(),h=d.threshold;if(c.top-h<e){if(!(c.top+f.height()+h>=e))return!1}else if(!(c.top-h<=e+b.height()))return!1;e=b.scrollLeft();if(c.left-h<e){if(!(c.left+f.width()+h>=e))return!1}else if(!(c.left-h<=e+b.width()))return!1;return!0};a.extend(a.expr[":"],{"below-the-fold":function(g,d,f){return a.belowthefold(g,{threshold:0})},"above-the-top":function(g,d,f){return a.abovethetop(g,{threshold:0})},"left-of-screen":function(g,d,f){return a.leftofscreen(g,{threshold:0})},"right-of-screen":function(g,
d,f){return a.rightofscreen(g,{threshold:0})},"in-viewport":function(g,d,f){return a.inviewport(g,{threshold:0})}})})(jQuery);(function(a){function g(b){function c(b){var d=new RegExp(a.map(b,encodeURIComponent).join("|"),"ig");return function(a){return a.replace(d,decodeURIComponent)}}b=a.extend({unescape:!1},b||{});d.encoder=function(a){return!0===a?function(a){return a}:"string"==typeof a&&(a=c(a.split("")))||"function"==typeof a?function(b){return a(encodeURIComponent(b))}:encodeURIComponent}(b.unescape)}var d={put:function(a,c){(c||window).location.hash=this.encoder(a)},get:function(b){b=(b||window).location.hash.replace(/^#/,
"");try{return a.browser.mozilla?b:decodeURIComponent(b)}catch(c){return b}},encoder:encodeURIComponent},f={appState:void 0,callback:void 0,init:function(a,c){},check:function(){},load:function(a){}};a.history=f;var c={init:function(a,c){g(c);f.callback=a;var h=d.get();f.appState=h;"onhashchange"in window?window.onhashchange=f.check:setInterval(f.check,100)},check:function(){var a=d.get();a!=f.appState&&(f.appState=a,f.callback(a))},load:function(a){a!=f.appState&&(d.put(a),f.appState=a)}};a.browser.msie&&
(8>a.browser.version||8>document.documentMode)||a.extend(f,c)})(jQuery);
//# sourceMappingURL=d-js-runtime-one-package.min.js.map